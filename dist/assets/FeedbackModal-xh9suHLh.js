import{c as y,r as o,j as e,M as k,X as w,L as v,a as N,n as g}from"./index-CBHb-hv-.js";const S=y("Bug",[["rect",{width:"8",height:"14",x:"8",y:"6",rx:"4",key:"hq8nra"}],["path",{d:"m19 7-3 2",key:"fmg8ec"}],["path",{d:"m5 7 3 2",key:"dkxqes"}],["path",{d:"m19 19-3-2",key:"1hbhi4"}],["path",{d:"m5 19 3-2",key:"dvt2ee"}],["path",{d:"M20 13h-4",key:"1agfp2"}],["path",{d:"M4 13h4",key:"1bwh8b"}],["path",{d:"m10 4 1 2",key:"1pot59"}],["path",{d:"m14 4-1 2",key:"m8sn0o"}]]),E=y("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),F=["tempmail.com","temp-mail.org","10minutemail.com","guerrillamail.com","mailinator.com","throwaway.email","fakeinbox.com","trashmail.com","yopmail.com","maildrop.cc","getnada.com","temp-mail.io","mohmal.com","sharklasers.com","guerrillamail.info","grr.la","spam4.me","mintemail.com","emailondeck.com","dispostable.com"];function M(s){var r;if(!s||!s.trim())return{valid:!1,error:"Email is required"};if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))return{valid:!1,error:"Please enter a valid email address"};const a=((r=s.split("@")[1])==null?void 0:r.toLowerCase())||"";return F.includes(a)?{valid:!1,error:"Temporary email addresses are not allowed"}:{valid:!0}}const C=({isOpen:s,onClose:i})=>{const[a,r]=o.useState("feature"),[n,p]=o.useState(""),[d,b]=o.useState(""),[c,m]=o.useState(""),[x,f]=o.useState(!1);if(!s)return null;const j=async l=>{if(l.preventDefault(),!n.trim())return;const h=M(d);if(!h.valid){m(h.error||"Invalid email");return}m(""),f(!0);try{const u="https://formsubmit.co/cjsaran94@gmail.com",t=new FormData;if(t.append("_subject",`[${a.toUpperCase()}] DevPrompt Studio Feedback`),t.append("Type",a==="bug"?"Bug Report":"Feature Request"),t.append("Message",n),t.append("User Email",d),t.append("Timestamp",new Date().toISOString()),t.append("_captcha","false"),t.append("_template","table"),(await fetch(u,{method:"POST",body:t,headers:{Accept:"application/json"}})).ok)g("Feedback sent successfully! Thanks for your input."),p(""),b(""),r("feature"),i();else throw new Error("Failed to send feedback")}catch(u){console.error("Feedback submission error:",u),g("Feedback recorded locally. We'll review it soon."),i()}finally{f(!1)}};return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",role:"dialog","aria-labelledby":"feedback-title","aria-modal":"true",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-800 flex items-center justify-between bg-slate-900/50",children:[e.jsxs("h3",{id:"feedback-title",className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-indigo-400"}),"Send Feedback"]}),e.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors p-1 hover:bg-slate-800 rounded-lg","aria-label":"Close feedback modal",children:e.jsx(w,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:j,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-3 text-xs text-blue-200",children:[e.jsxs("p",{children:["ðŸ“§ Feedback will be sent directly to: ",e.jsx("span",{className:"font-mono text-blue-300",children:"cjsaran94@gmail.com"})]}),e.jsx("p",{className:"text-blue-300/70 mt-1",children:"Powered by FormSubmit.co"})]}),e.jsxs("div",{className:"flex gap-3 p-1 bg-slate-950 rounded-lg border border-slate-800",children:[e.jsxs("button",{type:"button",onClick:()=>r("feature"),className:`flex-1 py-2 rounded-md text-sm font-medium flex items-center justify-center gap-2 transition-all focus:ring-2 focus:ring-indigo-500 outline-none ${a==="feature"?"bg-indigo-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"}`,children:[e.jsx(v,{className:"w-4 h-4"})," Feature"]}),e.jsxs("button",{type:"button",onClick:()=>r("bug"),className:`flex-1 py-2 rounded-md text-sm font-medium flex items-center justify-center gap-2 transition-all focus:ring-2 focus:ring-red-500 outline-none ${a==="bug"?"bg-red-500/20 text-red-400 border border-red-500/50 shadow-sm":"text-slate-400 hover:text-slate-200"}`,children:[e.jsx(S,{className:"w-4 h-4"})," Bug Report"]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"feedback-message",className:"block text-xs font-medium text-slate-400 uppercase mb-1",children:"Message"}),e.jsx("textarea",{id:"feedback-message",value:n,onChange:l=>p(l.target.value),className:"w-full h-32 bg-slate-950 border border-slate-800 rounded-lg p-3 text-slate-200 text-sm focus:ring-2 focus:ring-indigo-500 outline-none resize-none placeholder-slate-600",placeholder:a==="feature"?"I'd love to see a feature that...":"I found a bug when...",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"feedback-email",className:"block text-xs font-medium text-slate-400 uppercase mb-1",children:["Your Email ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{id:"feedback-email",type:"email",value:d,onChange:l=>{b(l.target.value),m("")},className:`w-full bg-slate-950 border rounded-lg p-3 text-slate-200 text-sm focus:ring-2 outline-none placeholder-slate-600 ${c?"border-red-500 focus:ring-red-500":"border-slate-800 focus:ring-indigo-500"}`,placeholder:"your.email@example.com",required:!0}),c?e.jsx("p",{className:"text-xs text-red-400 mt-1",children:c}):e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Required for follow-up. Temporary emails not allowed."})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsxs("button",{type:"submit",disabled:x||!n.trim()||!d.trim(),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-bold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-indigo-900/20 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-900 outline-none",children:[x?e.jsx(N,{className:"w-4 h-4 animate-spin"}):e.jsx(E,{className:"w-4 h-4"}),"Submit"]})})]})]})})};export{C as FeedbackModal};
