const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/RecoveryModal-D3iyzcyE.js","assets/trash-2-J2kmSutn.js","assets/HistorySidebar-DOjxtKhA.js"])))=>i.map(i=>d[i]);
function fk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ca(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pk(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var Dp={exports:{}},ol={},Rp={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function hk(){if(cv)return $e;cv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.iterator;function m(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function S(M,$,Y){this.props=M,this.context=$,this.refs=_,this.updater=Y||v}S.prototype.isReactComponent={},S.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},S.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function P(){}P.prototype=S.prototype;function w(M,$,Y){this.props=M,this.context=$,this.refs=_,this.updater=Y||v}var A=w.prototype=new P;A.constructor=w,C(A,S.prototype),A.isPureReactComponent=!0;var b=Array.isArray,D=Object.prototype.hasOwnProperty,R={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function B(M,$,Y){var Z,ce={},he=null,Ae=null;if($!=null)for(Z in $.ref!==void 0&&(Ae=$.ref),$.key!==void 0&&(he=""+$.key),$)D.call($,Z)&&!N.hasOwnProperty(Z)&&(ce[Z]=$[Z]);var pe=arguments.length-2;if(pe===1)ce.children=Y;else if(1<pe){for(var Be=Array(pe),Ge=0;Ge<pe;Ge++)Be[Ge]=arguments[Ge+2];ce.children=Be}if(M&&M.defaultProps)for(Z in pe=M.defaultProps,pe)ce[Z]===void 0&&(ce[Z]=pe[Z]);return{$$typeof:t,type:M,key:he,ref:Ae,props:ce,_owner:R.current}}function L(M,$){return{$$typeof:t,type:M.type,key:$,ref:M.ref,props:M.props,_owner:M._owner}}function U(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function V(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Y){return $[Y]})}var G=/\/+/g;function W(M,$){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):$.toString(36)}function X(M,$,Y,Z,ce){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var Ae=!1;if(M===null)Ae=!0;else switch(he){case"string":case"number":Ae=!0;break;case"object":switch(M.$$typeof){case t:case e:Ae=!0}}if(Ae)return Ae=M,ce=ce(Ae),M=Z===""?"."+W(Ae,0):Z,b(ce)?(Y="",M!=null&&(Y=M.replace(G,"$&/")+"/"),X(ce,$,Y,"",function(Ge){return Ge})):ce!=null&&(U(ce)&&(ce=L(ce,Y+(!ce.key||Ae&&Ae.key===ce.key?"":(""+ce.key).replace(G,"$&/")+"/")+M)),$.push(ce)),1;if(Ae=0,Z=Z===""?".":Z+":",b(M))for(var pe=0;pe<M.length;pe++){he=M[pe];var Be=Z+W(he,pe);Ae+=X(he,$,Y,Be,ce)}else if(Be=m(M),typeof Be=="function")for(M=Be.call(M),pe=0;!(he=M.next()).done;)he=he.value,Be=Z+W(he,pe++),Ae+=X(he,$,Y,Be,ce);else if(he==="object")throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ae}function te(M,$,Y){if(M==null)return M;var Z=[],ce=0;return X(M,Z,"","",function(he){return $.call(Y,he,ce++)}),Z}function ne(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(Y){(M._status===0||M._status===-1)&&(M._status=1,M._result=Y)},function(Y){(M._status===0||M._status===-1)&&(M._status=2,M._result=Y)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var ae={current:null},j={transition:null},re={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:j,ReactCurrentOwner:R};function ee(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:te,forEach:function(M,$,Y){te(M,function(){$.apply(this,arguments)},Y)},count:function(M){var $=0;return te(M,function(){$++}),$},toArray:function(M){return te(M,function($){return $})||[]},only:function(M){if(!U(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},$e.Component=S,$e.Fragment=n,$e.Profiler=o,$e.PureComponent=w,$e.StrictMode=r,$e.Suspense=d,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,$e.act=ee,$e.cloneElement=function(M,$,Y){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Z=C({},M.props),ce=M.key,he=M.ref,Ae=M._owner;if($!=null){if($.ref!==void 0&&(he=$.ref,Ae=R.current),$.key!==void 0&&(ce=""+$.key),M.type&&M.type.defaultProps)var pe=M.type.defaultProps;for(Be in $)D.call($,Be)&&!N.hasOwnProperty(Be)&&(Z[Be]=$[Be]===void 0&&pe!==void 0?pe[Be]:$[Be])}var Be=arguments.length-2;if(Be===1)Z.children=Y;else if(1<Be){pe=Array(Be);for(var Ge=0;Ge<Be;Ge++)pe[Ge]=arguments[Ge+2];Z.children=pe}return{$$typeof:t,type:M.type,key:ce,ref:he,props:Z,_owner:Ae}},$e.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},$e.createElement=B,$e.createFactory=function(M){var $=B.bind(null,M);return $.type=M,$},$e.createRef=function(){return{current:null}},$e.forwardRef=function(M){return{$$typeof:u,render:M}},$e.isValidElement=U,$e.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:ne}},$e.memo=function(M,$){return{$$typeof:c,type:M,compare:$===void 0?null:$}},$e.startTransition=function(M){var $=j.transition;j.transition={};try{M()}finally{j.transition=$}},$e.unstable_act=ee,$e.useCallback=function(M,$){return ae.current.useCallback(M,$)},$e.useContext=function(M){return ae.current.useContext(M)},$e.useDebugValue=function(){},$e.useDeferredValue=function(M){return ae.current.useDeferredValue(M)},$e.useEffect=function(M,$){return ae.current.useEffect(M,$)},$e.useId=function(){return ae.current.useId()},$e.useImperativeHandle=function(M,$,Y){return ae.current.useImperativeHandle(M,$,Y)},$e.useInsertionEffect=function(M,$){return ae.current.useInsertionEffect(M,$)},$e.useLayoutEffect=function(M,$){return ae.current.useLayoutEffect(M,$)},$e.useMemo=function(M,$){return ae.current.useMemo(M,$)},$e.useReducer=function(M,$,Y){return ae.current.useReducer(M,$,Y)},$e.useRef=function(M){return ae.current.useRef(M)},$e.useState=function(M){return ae.current.useState(M)},$e.useSyncExternalStore=function(M,$,Y){return ae.current.useSyncExternalStore(M,$,Y)},$e.useTransition=function(){return ae.current.useTransition()},$e.version="18.3.1",$e}var dv;function iu(){return dv||(dv=1,Rp.exports=hk()),Rp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function mk(){if(fv)return ol;fv=1;var t=iu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,c){var f,y={},m=null,v=null;c!==void 0&&(m=""+c),d.key!==void 0&&(m=""+d.key),d.ref!==void 0&&(v=d.ref);for(f in d)r.call(d,f)&&!s.hasOwnProperty(f)&&(y[f]=d[f]);if(u&&u.defaultProps)for(f in d=u.defaultProps,d)y[f]===void 0&&(y[f]=d[f]);return{$$typeof:e,type:u,key:m,ref:v,props:y,_owner:o.current}}return ol.Fragment=n,ol.jsx=l,ol.jsxs=l,ol}var pv;function gk(){return pv||(pv=1,Dp.exports=mk()),Dp.exports}var k=gk(),F=iu();const Pn=ca(F),yk=fk({__proto__:null,default:Pn},[F]);var Tc={},Np={exports:{}},kn={},Mp={exports:{}},Fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function xk(){return hv||(hv=1,(function(t){function e(j,re){var ee=j.length;j.push(re);e:for(;0<ee;){var M=ee-1>>>1,$=j[M];if(0<o($,re))j[M]=re,j[ee]=$,ee=M;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var re=j[0],ee=j.pop();if(ee!==re){j[0]=ee;e:for(var M=0,$=j.length,Y=$>>>1;M<Y;){var Z=2*(M+1)-1,ce=j[Z],he=Z+1,Ae=j[he];if(0>o(ce,ee))he<$&&0>o(Ae,ce)?(j[M]=Ae,j[he]=ee,M=he):(j[M]=ce,j[Z]=ee,M=Z);else if(he<$&&0>o(Ae,ee))j[M]=Ae,j[he]=ee,M=he;else break e}}return re}function o(j,re){var ee=j.sortIndex-re.sortIndex;return ee!==0?ee:j.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],c=[],f=1,y=null,m=3,v=!1,C=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(j){for(var re=n(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=j)r(c),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(c)}}function b(j){if(_=!1,A(j),!C)if(n(d)!==null)C=!0,ne(D);else{var re=n(c);re!==null&&ae(b,re.startTime-j)}}function D(j,re){C=!1,_&&(_=!1,P(B),B=-1),v=!0;var ee=m;try{for(A(re),y=n(d);y!==null&&(!(y.expirationTime>re)||j&&!V());){var M=y.callback;if(typeof M=="function"){y.callback=null,m=y.priorityLevel;var $=M(y.expirationTime<=re);re=t.unstable_now(),typeof $=="function"?y.callback=$:y===n(d)&&r(d),A(re)}else r(d);y=n(d)}if(y!==null)var Y=!0;else{var Z=n(c);Z!==null&&ae(b,Z.startTime-re),Y=!1}return Y}finally{y=null,m=ee,v=!1}}var R=!1,N=null,B=-1,L=5,U=-1;function V(){return!(t.unstable_now()-U<L)}function G(){if(N!==null){var j=t.unstable_now();U=j;var re=!0;try{re=N(!0,j)}finally{re?W():(R=!1,N=null)}}else R=!1}var W;if(typeof w=="function")W=function(){w(G)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,te=X.port2;X.port1.onmessage=G,W=function(){te.postMessage(null)}}else W=function(){S(G,0)};function ne(j){N=j,R||(R=!0,W())}function ae(j,re){B=S(function(){j(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){C||v||(C=!0,ne(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var re=3;break;default:re=m}var ee=m;m=re;try{return j()}finally{m=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,re){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ee=m;m=j;try{return re()}finally{m=ee}},t.unstable_scheduleCallback=function(j,re,ee){var M=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?M+ee:M):ee=M,j){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ee+$,j={id:f++,callback:re,priorityLevel:j,startTime:ee,expirationTime:$,sortIndex:-1},ee>M?(j.sortIndex=ee,e(c,j),n(d)===null&&j===n(c)&&(_?(P(B),B=-1):_=!0,ae(b,ee-M))):(j.sortIndex=$,e(d,j),C||v||(C=!0,ne(D))),j},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(j){var re=m;return function(){var ee=m;m=re;try{return j.apply(this,arguments)}finally{m=ee}}}})(Fp)),Fp}var mv;function vk(){return mv||(mv=1,Mp.exports=xk()),Mp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function Ek(){if(gv)return kn;gv=1;var t=iu(),e=vk();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,p=1;p<arguments.length;p++)a+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function s(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(o[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},y={};function m(i){return d.call(y,i)?!0:d.call(f,i)?!1:c.test(i)?y[i]=!0:(f[i]=!0,!1)}function v(i,a,p,x){if(p!==null&&p.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,a,p,x){if(a===null||typeof a>"u"||v(i,a,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function _(i,a,p,x,E,T,I){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=x,this.attributeNamespace=E,this.mustUseProperty=p,this.propertyName=i,this.type=a,this.sanitizeURL=T,this.removeEmptyString=I}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new _(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];S[a]=new _(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new _(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new _(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new _(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new _(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new _(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new _(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new _(i,5,!1,i.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function w(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(P,w);S[a]=new _(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(P,w);S[a]=new _(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(P,w);S[a]=new _(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new _(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new _(i,1,!1,i.toLowerCase(),null,!0,!0)});function A(i,a,p,x){var E=S.hasOwnProperty(a)?S[a]:null;(E!==null?E.type!==0:x||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(C(a,p,E,x)&&(p=null),x||E===null?m(a)&&(p===null?i.removeAttribute(a):i.setAttribute(a,""+p)):E.mustUseProperty?i[E.propertyName]=p===null?E.type===3?!1:"":p:(a=E.attributeName,x=E.attributeNamespace,p===null?i.removeAttribute(a):(E=E.type,p=E===3||E===4&&p===!0?"":""+p,x?i.setAttributeNS(x,a,p):i.setAttribute(a,p))))}var b=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),R=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),V=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),j=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var ee=Object.assign,M;function $(i){if(M===void 0)try{throw Error()}catch(p){var a=p.stack.trim().match(/\n( *(at )?)/);M=a&&a[1]||""}return`
`+M+i}var Y=!1;function Z(i,a){if(!i||Y)return"";Y=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Q){var x=Q}Reflect.construct(i,[],a)}else{try{a.call()}catch(Q){x=Q}i.call(a.prototype)}else{try{throw Error()}catch(Q){x=Q}i()}}catch(Q){if(Q&&x&&typeof Q.stack=="string"){for(var E=Q.stack.split(`
`),T=x.stack.split(`
`),I=E.length-1,O=T.length-1;1<=I&&0<=O&&E[I]!==T[O];)O--;for(;1<=I&&0<=O;I--,O--)if(E[I]!==T[O]){if(I!==1||O!==1)do if(I--,O--,0>O||E[I]!==T[O]){var H=`
`+E[I].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=I&&0<=O);break}}}finally{Y=!1,Error.prepareStackTrace=p}return(i=i?i.displayName||i.name:"")?$(i):""}function ce(i){switch(i.tag){case 5:return $(i.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return i=Z(i.type,!1),i;case 11:return i=Z(i.type.render,!1),i;case 1:return i=Z(i.type,!0),i;default:return""}}function he(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case R:return"Portal";case L:return"Profiler";case B:return"StrictMode";case W:return"Suspense";case X:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case U:return(i._context.displayName||"Context")+".Provider";case G:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case te:return a=i.displayName||null,a!==null?a:he(i.type)||"Memo";case ne:a=i._payload,i=i._init;try{return he(i(a))}catch{}}return null}function Ae(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(a);case 8:return a===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function pe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Be(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ge(i){var a=Be(i)?"checked":"value",p=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),x=""+i[a];if(!i.hasOwnProperty(a)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,T=p.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return E.call(this)},set:function(I){x=""+I,T.call(this,I)}}),Object.defineProperty(i,a,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(I){x=""+I},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function nt(i){i._valueTracker||(i._valueTracker=Ge(i))}function It(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var p=a.getValue(),x="";return i&&(x=Be(i)?i.checked?"true":"false":i.value),i=x,i!==p?(a.setValue(i),!0):!1}function je(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function et(i,a){var p=a.checked;return ee({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??i._wrapperState.initialChecked})}function at(i,a){var p=a.defaultValue==null?"":a.defaultValue,x=a.checked!=null?a.checked:a.defaultChecked;p=pe(a.value!=null?a.value:p),i._wrapperState={initialChecked:x,initialValue:p,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function $t(i,a){a=a.checked,a!=null&&A(i,"checked",a,!1)}function Qt(i,a){$t(i,a);var p=pe(a.value),x=a.type;if(p!=null)x==="number"?(p===0&&i.value===""||i.value!=p)&&(i.value=""+p):i.value!==""+p&&(i.value=""+p);else if(x==="submit"||x==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Jt(i,a.type,p):a.hasOwnProperty("defaultValue")&&Jt(i,a.type,pe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Dt(i,a,p){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var x=a.type;if(!(x!=="submit"&&x!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,p||a===i.value||(i.value=a),i.defaultValue=a}p=i.name,p!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,p!==""&&(i.name=p)}function Jt(i,a,p){(a!=="number"||je(i.ownerDocument)!==i)&&(p==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+p&&(i.defaultValue=""+p))}var At=Array.isArray;function Xe(i,a,p,x){if(i=i.options,a){a={};for(var E=0;E<p.length;E++)a["$"+p[E]]=!0;for(p=0;p<i.length;p++)E=a.hasOwnProperty("$"+i[p].value),i[p].selected!==E&&(i[p].selected=E),E&&x&&(i[p].defaultSelected=!0)}else{for(p=""+pe(p),a=null,E=0;E<i.length;E++){if(i[E].value===p){i[E].selected=!0,x&&(i[E].defaultSelected=!0);return}a!==null||i[E].disabled||(a=i[E])}a!==null&&(a.selected=!0)}}function Ct(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function en(i,a){var p=a.value;if(p==null){if(p=a.children,a=a.defaultValue,p!=null){if(a!=null)throw Error(n(92));if(At(p)){if(1<p.length)throw Error(n(93));p=p[0]}a=p}a==null&&(a=""),p=a}i._wrapperState={initialValue:pe(p)}}function In(i,a){var p=pe(a.value),x=pe(a.defaultValue);p!=null&&(p=""+p,p!==i.value&&(i.value=p),a.defaultValue==null&&i.defaultValue!==p&&(i.defaultValue=p)),x!=null&&(i.defaultValue=""+x)}function Dn(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function ue(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?ue(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var kt,Sr=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,p,x,E){MSApp.execUnsafeLocalFunction(function(){return i(a,p,x,E)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(kt=kt||document.createElement("div"),kt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=kt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function rt(i,a){if(a){var p=i.firstChild;if(p&&p===i.lastChild&&p.nodeType===3){p.nodeValue=a;return}}i.textContent=a}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(i){tn.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),pt[a]=pt[i]})});function nr(i,a,p){return a==null||typeof a=="boolean"||a===""?"":p||typeof a!="number"||a===0||pt.hasOwnProperty(i)&&pt[i]?(""+a).trim():a+"px"}function Ar(i,a){i=i.style;for(var p in a)if(a.hasOwnProperty(p)){var x=p.indexOf("--")===0,E=nr(p,a[p],x);p==="float"&&(p="cssFloat"),x?i.setProperty(p,E):i[p]=E}}var En=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zn(i,a){if(a){if(En[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Wr(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kr=null;function vi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rr=null,Rn=null,or=null;function br(i){if(i=za(i)){if(typeof rr!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Ou(a),rr(i.stateNode,i.type,a))}}function us(i){Rn?or?or.push(i):or=[i]:Rn=i}function cs(){if(Rn){var i=Rn,a=or;if(or=Rn=null,br(i),a)for(i=0;i<a.length;i++)br(a[i])}}function ht(i,a){return i(a)}function ir(){}var Ei=!1;function So(i,a,p){if(Ei)return i(a,p);Ei=!0;try{return ht(i,a,p)}finally{Ei=!1,(Rn!==null||or!==null)&&(ir(),cs())}}function sr(i,a){var p=i.stateNode;if(p===null)return null;var x=Ou(p);if(x===null)return null;p=x[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(p&&typeof p!="function")throw Error(n(231,a,typeof p));return p}var Kr=!1;if(u)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{Kr=!1}function qn(i,a,p,x,E,T,I,O,H){var Q=Array.prototype.slice.call(arguments,3);try{a.apply(p,Q)}catch(ie){this.onError(ie)}}var Bt=!1,Cn=null,Ci=!1,ds=null,Ca={onError:function(i){Bt=!0,Cn=i}};function xu(i,a,p,x,E,T,I,O,H){Bt=!1,Cn=null,qn.apply(Ca,arguments)}function ar(i,a,p,x,E,T,I,O,H){if(xu.apply(this,arguments),Bt){if(Bt){var Q=Cn;Bt=!1,Cn=null}else throw Error(n(198));Ci||(Ci=!0,ds=Q)}}function Pr(i){var a=i,p=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(p=a.return),i=a.return;while(i)}return a.tag===3?p:null}function _a(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function wa(i){if(Pr(i)!==i)throw Error(n(188))}function vu(i){var a=i.alternate;if(!a){if(a=Pr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var p=i,x=a;;){var E=p.return;if(E===null)break;var T=E.alternate;if(T===null){if(x=E.return,x!==null){p=x;continue}break}if(E.child===T.child){for(T=E.child;T;){if(T===p)return wa(E),i;if(T===x)return wa(E),a;T=T.sibling}throw Error(n(188))}if(p.return!==x.return)p=E,x=T;else{for(var I=!1,O=E.child;O;){if(O===p){I=!0,p=E,x=T;break}if(O===x){I=!0,x=E,p=T;break}O=O.sibling}if(!I){for(O=T.child;O;){if(O===p){I=!0,p=T,x=E;break}if(O===x){I=!0,x=T,p=E;break}O=O.sibling}if(!I)throw Error(n(189))}}if(p.alternate!==x)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?i:a}function Eu(i){return i=vu(i),i!==null?Se(i):null}function Se(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Se(i);if(a!==null)return a;i=i.sibling}return null}var z=e.unstable_scheduleCallback,le=e.unstable_cancelCallback,_e=e.unstable_shouldYield,ot=e.unstable_requestPaint,Ve=e.unstable_now,wt=e.unstable_getCurrentPriorityLevel,Ht=e.unstable_ImmediatePriority,Gn=e.unstable_UserBlockingPriority,lr=e.unstable_NormalPriority,Ta=e.unstable_LowPriority,Rt=e.unstable_IdlePriority,_i=null,Nn=null;function kA(i){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(_i,i,void 0,(i.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:IA,bA=Math.log,PA=Math.LN2;function IA(i){return i>>>=0,i===0?32:31-(bA(i)/PA|0)|0}var Cu=64,_u=4194304;function Sa(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function wu(i,a){var p=i.pendingLanes;if(p===0)return 0;var x=0,E=i.suspendedLanes,T=i.pingedLanes,I=p&268435455;if(I!==0){var O=I&~E;O!==0?x=Sa(O):(T&=I,T!==0&&(x=Sa(T)))}else I=p&~E,I!==0?x=Sa(I):T!==0&&(x=Sa(T));if(x===0)return 0;if(a!==0&&a!==x&&(a&E)===0&&(E=x&-x,T=a&-a,E>=T||E===16&&(T&4194240)!==0))return a;if((x&4)!==0&&(x|=p&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=x;0<a;)p=31-ur(a),E=1<<p,x|=i[p],a&=~E;return x}function DA(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RA(i,a){for(var p=i.suspendedLanes,x=i.pingedLanes,E=i.expirationTimes,T=i.pendingLanes;0<T;){var I=31-ur(T),O=1<<I,H=E[I];H===-1?((O&p)===0||(O&x)!==0)&&(E[I]=DA(O,a)):H<=a&&(i.expiredLanes|=O),T&=~O}}function Xf(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function $g(){var i=Cu;return Cu<<=1,(Cu&4194240)===0&&(Cu=64),i}function Qf(i){for(var a=[],p=0;31>p;p++)a.push(i);return a}function Aa(i,a,p){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-ur(a),i[a]=p}function NA(i,a){var p=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var x=i.eventTimes;for(i=i.expirationTimes;0<p;){var E=31-ur(p),T=1<<E;a[E]=0,x[E]=-1,i[E]=-1,p&=~T}}function e0(i,a){var p=i.entangledLanes|=a;for(i=i.entanglements;p;){var x=31-ur(p),E=1<<x;E&a|i[x]&a&&(i[x]|=a),p&=~E}}var Qe=0;function Hg(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var zg,t0,qg,Gg,Wg,n0=!1,Tu=[],Ao=null,ko=null,bo=null,ka=new Map,ba=new Map,Po=[],MA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kg(i,a){switch(i){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":ka.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(a.pointerId)}}function Pa(i,a,p,x,E,T){return i===null||i.nativeEvent!==T?(i={blockedOn:a,domEventName:p,eventSystemFlags:x,nativeEvent:T,targetContainers:[E]},a!==null&&(a=za(a),a!==null&&t0(a)),i):(i.eventSystemFlags|=x,a=i.targetContainers,E!==null&&a.indexOf(E)===-1&&a.push(E),i)}function FA(i,a,p,x,E){switch(a){case"focusin":return Ao=Pa(Ao,i,a,p,x,E),!0;case"dragenter":return ko=Pa(ko,i,a,p,x,E),!0;case"mouseover":return bo=Pa(bo,i,a,p,x,E),!0;case"pointerover":var T=E.pointerId;return ka.set(T,Pa(ka.get(T)||null,i,a,p,x,E)),!0;case"gotpointercapture":return T=E.pointerId,ba.set(T,Pa(ba.get(T)||null,i,a,p,x,E)),!0}return!1}function Yg(i){var a=wi(i.target);if(a!==null){var p=Pr(a);if(p!==null){if(a=p.tag,a===13){if(a=_a(p),a!==null){i.blockedOn=a,Wg(i.priority,function(){qg(p)});return}}else if(a===3&&p.stateNode.current.memoizedState.isDehydrated){i.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Su(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var p=o0(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(p===null){p=i.nativeEvent;var x=new p.constructor(p.type,p);kr=x,p.target.dispatchEvent(x),kr=null}else return a=za(p),a!==null&&t0(a),i.blockedOn=p,!1;a.shift()}return!0}function Jg(i,a,p){Su(i)&&p.delete(a)}function BA(){n0=!1,Ao!==null&&Su(Ao)&&(Ao=null),ko!==null&&Su(ko)&&(ko=null),bo!==null&&Su(bo)&&(bo=null),ka.forEach(Jg),ba.forEach(Jg)}function Ia(i,a){i.blockedOn===a&&(i.blockedOn=null,n0||(n0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,BA)))}function Da(i){function a(E){return Ia(E,i)}if(0<Tu.length){Ia(Tu[0],i);for(var p=1;p<Tu.length;p++){var x=Tu[p];x.blockedOn===i&&(x.blockedOn=null)}}for(Ao!==null&&Ia(Ao,i),ko!==null&&Ia(ko,i),bo!==null&&Ia(bo,i),ka.forEach(a),ba.forEach(a),p=0;p<Po.length;p++)x=Po[p],x.blockedOn===i&&(x.blockedOn=null);for(;0<Po.length&&(p=Po[0],p.blockedOn===null);)Yg(p),p.blockedOn===null&&Po.shift()}var fs=b.ReactCurrentBatchConfig,Au=!0;function LA(i,a,p,x){var E=Qe,T=fs.transition;fs.transition=null;try{Qe=1,r0(i,a,p,x)}finally{Qe=E,fs.transition=T}}function UA(i,a,p,x){var E=Qe,T=fs.transition;fs.transition=null;try{Qe=4,r0(i,a,p,x)}finally{Qe=E,fs.transition=T}}function r0(i,a,p,x){if(Au){var E=o0(i,a,p,x);if(E===null)C0(i,a,x,ku,p),Kg(i,x);else if(FA(E,i,a,p,x))x.stopPropagation();else if(Kg(i,x),a&4&&-1<MA.indexOf(i)){for(;E!==null;){var T=za(E);if(T!==null&&zg(T),T=o0(i,a,p,x),T===null&&C0(i,a,x,ku,p),T===E)break;E=T}E!==null&&x.stopPropagation()}else C0(i,a,x,null,p)}}var ku=null;function o0(i,a,p,x){if(ku=null,i=vi(x),i=wi(i),i!==null)if(a=Pr(i),a===null)i=null;else if(p=a.tag,p===13){if(i=_a(a),i!==null)return i;i=null}else if(p===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return ku=i,null}function jg(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wt()){case Ht:return 1;case Gn:return 4;case lr:case Ta:return 16;case Rt:return 536870912;default:return 16}default:return 16}}var Io=null,i0=null,bu=null;function Zg(){if(bu)return bu;var i,a=i0,p=a.length,x,E="value"in Io?Io.value:Io.textContent,T=E.length;for(i=0;i<p&&a[i]===E[i];i++);var I=p-i;for(x=1;x<=I&&a[p-x]===E[T-x];x++);return bu=E.slice(i,1<x?1-x:void 0)}function Pu(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Iu(){return!0}function Xg(){return!1}function Mn(i){function a(p,x,E,T,I){this._reactName=p,this._targetInst=E,this.type=x,this.nativeEvent=T,this.target=I,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(p=i[O],this[O]=p?p(T):T[O]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Iu:Xg,this.isPropagationStopped=Xg,this}return ee(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),a}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s0=Mn(ps),Ra=ee({},ps,{view:0,detail:0}),OA=Mn(Ra),a0,l0,Na,Du=ee({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c0,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Na&&(Na&&i.type==="mousemove"?(a0=i.screenX-Na.screenX,l0=i.screenY-Na.screenY):l0=a0=0,Na=i),a0)},movementY:function(i){return"movementY"in i?i.movementY:l0}}),Qg=Mn(Du),VA=ee({},Du,{dataTransfer:0}),$A=Mn(VA),HA=ee({},Ra,{relatedTarget:0}),u0=Mn(HA),zA=ee({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),qA=Mn(zA),GA=ee({},ps,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),WA=Mn(GA),KA=ee({},ps,{data:0}),ey=Mn(KA),YA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZA(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=jA[i])?!!a[i]:!1}function c0(){return ZA}var XA=ee({},Ra,{key:function(i){if(i.key){var a=YA[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Pu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?JA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c0,charCode:function(i){return i.type==="keypress"?Pu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),QA=Mn(XA),e2=ee({},Du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ty=Mn(e2),t2=ee({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c0}),n2=Mn(t2),r2=ee({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),o2=Mn(r2),i2=ee({},Du,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),s2=Mn(i2),a2=[9,13,27,32],d0=u&&"CompositionEvent"in window,Ma=null;u&&"documentMode"in document&&(Ma=document.documentMode);var l2=u&&"TextEvent"in window&&!Ma,ny=u&&(!d0||Ma&&8<Ma&&11>=Ma),ry=" ",oy=!1;function iy(i,a){switch(i){case"keyup":return a2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var hs=!1;function u2(i,a){switch(i){case"compositionend":return sy(a);case"keypress":return a.which!==32?null:(oy=!0,ry);case"textInput":return i=a.data,i===ry&&oy?null:i;default:return null}}function c2(i,a){if(hs)return i==="compositionend"||!d0&&iy(i,a)?(i=Zg(),bu=i0=Io=null,hs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ny&&a.locale!=="ko"?null:a.data;default:return null}}var d2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!d2[i.type]:a==="textarea"}function ly(i,a,p,x){us(x),a=Bu(a,"onChange"),0<a.length&&(p=new s0("onChange","change",null,p,x),i.push({event:p,listeners:a}))}var Fa=null,Ba=null;function f2(i){Ay(i,0)}function Ru(i){var a=vs(i);if(It(a))return i}function p2(i,a){if(i==="change")return a}var uy=!1;if(u){var f0;if(u){var p0="oninput"in document;if(!p0){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),p0=typeof cy.oninput=="function"}f0=p0}else f0=!1;uy=f0&&(!document.documentMode||9<document.documentMode)}function dy(){Fa&&(Fa.detachEvent("onpropertychange",fy),Ba=Fa=null)}function fy(i){if(i.propertyName==="value"&&Ru(Ba)){var a=[];ly(a,Ba,i,vi(i)),So(f2,a)}}function h2(i,a,p){i==="focusin"?(dy(),Fa=a,Ba=p,Fa.attachEvent("onpropertychange",fy)):i==="focusout"&&dy()}function m2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ru(Ba)}function g2(i,a){if(i==="click")return Ru(a)}function y2(i,a){if(i==="input"||i==="change")return Ru(a)}function x2(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var cr=typeof Object.is=="function"?Object.is:x2;function La(i,a){if(cr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var p=Object.keys(i),x=Object.keys(a);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var E=p[x];if(!d.call(a,E)||!cr(i[E],a[E]))return!1}return!0}function py(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hy(i,a){var p=py(i);i=0;for(var x;p;){if(p.nodeType===3){if(x=i+p.textContent.length,i<=a&&x>=a)return{node:p,offset:a-i};i=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=py(p)}}function my(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?my(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function gy(){for(var i=window,a=je();a instanceof i.HTMLIFrameElement;){try{var p=typeof a.contentWindow.location.href=="string"}catch{p=!1}if(p)i=a.contentWindow;else break;a=je(i.document)}return a}function h0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function v2(i){var a=gy(),p=i.focusedElem,x=i.selectionRange;if(a!==p&&p&&p.ownerDocument&&my(p.ownerDocument.documentElement,p)){if(x!==null&&h0(p)){if(a=x.start,i=x.end,i===void 0&&(i=a),"selectionStart"in p)p.selectionStart=a,p.selectionEnd=Math.min(i,p.value.length);else if(i=(a=p.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var E=p.textContent.length,T=Math.min(x.start,E);x=x.end===void 0?T:Math.min(x.end,E),!i.extend&&T>x&&(E=x,x=T,T=E),E=hy(p,T);var I=hy(p,x);E&&I&&(i.rangeCount!==1||i.anchorNode!==E.node||i.anchorOffset!==E.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(a=a.createRange(),a.setStart(E.node,E.offset),i.removeAllRanges(),T>x?(i.addRange(a),i.extend(I.node,I.offset)):(a.setEnd(I.node,I.offset),i.addRange(a)))}}for(a=[],i=p;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<a.length;p++)i=a[p],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var E2=u&&"documentMode"in document&&11>=document.documentMode,ms=null,m0=null,Ua=null,g0=!1;function yy(i,a,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;g0||ms==null||ms!==je(x)||(x=ms,"selectionStart"in x&&h0(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ua&&La(Ua,x)||(Ua=x,x=Bu(m0,"onSelect"),0<x.length&&(a=new s0("onSelect","select",null,a,p),i.push({event:a,listeners:x}),a.target=ms)))}function Nu(i,a){var p={};return p[i.toLowerCase()]=a.toLowerCase(),p["Webkit"+i]="webkit"+a,p["Moz"+i]="moz"+a,p}var gs={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},y0={},xy={};u&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Mu(i){if(y0[i])return y0[i];if(!gs[i])return i;var a=gs[i],p;for(p in a)if(a.hasOwnProperty(p)&&p in xy)return y0[i]=a[p];return i}var vy=Mu("animationend"),Ey=Mu("animationiteration"),Cy=Mu("animationstart"),_y=Mu("transitionend"),wy=new Map,Ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(i,a){wy.set(i,a),s(a,[i])}for(var x0=0;x0<Ty.length;x0++){var v0=Ty[x0],C2=v0.toLowerCase(),_2=v0[0].toUpperCase()+v0.slice(1);Do(C2,"on"+_2)}Do(vy,"onAnimationEnd"),Do(Ey,"onAnimationIteration"),Do(Cy,"onAnimationStart"),Do("dblclick","onDoubleClick"),Do("focusin","onFocus"),Do("focusout","onBlur"),Do(_y,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function Sy(i,a,p){var x=i.type||"unknown-event";i.currentTarget=p,ar(x,a,void 0,i),i.currentTarget=null}function Ay(i,a){a=(a&4)!==0;for(var p=0;p<i.length;p++){var x=i[p],E=x.event;x=x.listeners;e:{var T=void 0;if(a)for(var I=x.length-1;0<=I;I--){var O=x[I],H=O.instance,Q=O.currentTarget;if(O=O.listener,H!==T&&E.isPropagationStopped())break e;Sy(E,O,Q),T=H}else for(I=0;I<x.length;I++){if(O=x[I],H=O.instance,Q=O.currentTarget,O=O.listener,H!==T&&E.isPropagationStopped())break e;Sy(E,O,Q),T=H}}}if(Ci)throw i=ds,Ci=!1,ds=null,i}function lt(i,a){var p=a[k0];p===void 0&&(p=a[k0]=new Set);var x=i+"__bubble";p.has(x)||(ky(a,i,2,!1),p.add(x))}function E0(i,a,p){var x=0;a&&(x|=4),ky(p,i,x,a)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Va(i){if(!i[Fu]){i[Fu]=!0,r.forEach(function(p){p!=="selectionchange"&&(w2.has(p)||E0(p,!1,i),E0(p,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Fu]||(a[Fu]=!0,E0("selectionchange",!1,a))}}function ky(i,a,p,x){switch(jg(a)){case 1:var E=LA;break;case 4:E=UA;break;default:E=r0}p=E.bind(null,a,p,i),E=void 0,!Kr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(E=!0),x?E!==void 0?i.addEventListener(a,p,{capture:!0,passive:E}):i.addEventListener(a,p,!0):E!==void 0?i.addEventListener(a,p,{passive:E}):i.addEventListener(a,p,!1)}function C0(i,a,p,x,E){var T=x;if((a&1)===0&&(a&2)===0&&x!==null)e:for(;;){if(x===null)return;var I=x.tag;if(I===3||I===4){var O=x.stateNode.containerInfo;if(O===E||O.nodeType===8&&O.parentNode===E)break;if(I===4)for(I=x.return;I!==null;){var H=I.tag;if((H===3||H===4)&&(H=I.stateNode.containerInfo,H===E||H.nodeType===8&&H.parentNode===E))return;I=I.return}for(;O!==null;){if(I=wi(O),I===null)return;if(H=I.tag,H===5||H===6){x=T=I;continue e}O=O.parentNode}}x=x.return}So(function(){var Q=T,ie=vi(p),se=[];e:{var oe=wy.get(i);if(oe!==void 0){var ge=s0,Ce=i;switch(i){case"keypress":if(Pu(p)===0)break e;case"keydown":case"keyup":ge=QA;break;case"focusin":Ce="focus",ge=u0;break;case"focusout":Ce="blur",ge=u0;break;case"beforeblur":case"afterblur":ge=u0;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=$A;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=n2;break;case vy:case Ey:case Cy:ge=qA;break;case _y:ge=o2;break;case"scroll":ge=OA;break;case"wheel":ge=s2;break;case"copy":case"cut":case"paste":ge=WA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=ty}var we=(a&4)!==0,bt=!we&&i==="scroll",K=we?oe!==null?oe+"Capture":null:oe;we=[];for(var q=Q,J;q!==null;){J=q;var de=J.stateNode;if(J.tag===5&&de!==null&&(J=de,K!==null&&(de=sr(q,K),de!=null&&we.push($a(q,de,J)))),bt)break;q=q.return}0<we.length&&(oe=new ge(oe,Ce,null,p,ie),se.push({event:oe,listeners:we}))}}if((a&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",oe&&p!==kr&&(Ce=p.relatedTarget||p.fromElement)&&(wi(Ce)||Ce[Yr]))break e;if((ge||oe)&&(oe=ie.window===ie?ie:(oe=ie.ownerDocument)?oe.defaultView||oe.parentWindow:window,ge?(Ce=p.relatedTarget||p.toElement,ge=Q,Ce=Ce?wi(Ce):null,Ce!==null&&(bt=Pr(Ce),Ce!==bt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(ge=null,Ce=Q),ge!==Ce)){if(we=Qg,de="onMouseLeave",K="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(we=ty,de="onPointerLeave",K="onPointerEnter",q="pointer"),bt=ge==null?oe:vs(ge),J=Ce==null?oe:vs(Ce),oe=new we(de,q+"leave",ge,p,ie),oe.target=bt,oe.relatedTarget=J,de=null,wi(ie)===Q&&(we=new we(K,q+"enter",Ce,p,ie),we.target=J,we.relatedTarget=bt,de=we),bt=de,ge&&Ce)t:{for(we=ge,K=Ce,q=0,J=we;J;J=ys(J))q++;for(J=0,de=K;de;de=ys(de))J++;for(;0<q-J;)we=ys(we),q--;for(;0<J-q;)K=ys(K),J--;for(;q--;){if(we===K||K!==null&&we===K.alternate)break t;we=ys(we),K=ys(K)}we=null}else we=null;ge!==null&&by(se,oe,ge,we,!1),Ce!==null&&bt!==null&&by(se,bt,Ce,we,!0)}}e:{if(oe=Q?vs(Q):window,ge=oe.nodeName&&oe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&oe.type==="file")var Te=p2;else if(ay(oe))if(uy)Te=y2;else{Te=m2;var Pe=h2}else(ge=oe.nodeName)&&ge.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Te=g2);if(Te&&(Te=Te(i,Q))){ly(se,Te,p,ie);break e}Pe&&Pe(i,oe,Q),i==="focusout"&&(Pe=oe._wrapperState)&&Pe.controlled&&oe.type==="number"&&Jt(oe,"number",oe.value)}switch(Pe=Q?vs(Q):window,i){case"focusin":(ay(Pe)||Pe.contentEditable==="true")&&(ms=Pe,m0=Q,Ua=null);break;case"focusout":Ua=m0=ms=null;break;case"mousedown":g0=!0;break;case"contextmenu":case"mouseup":case"dragend":g0=!1,yy(se,p,ie);break;case"selectionchange":if(E2)break;case"keydown":case"keyup":yy(se,p,ie)}var Ie;if(d0)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else hs?iy(i,p)&&(Fe="onCompositionEnd"):i==="keydown"&&p.keyCode===229&&(Fe="onCompositionStart");Fe&&(ny&&p.locale!=="ko"&&(hs||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&hs&&(Ie=Zg()):(Io=ie,i0="value"in Io?Io.value:Io.textContent,hs=!0)),Pe=Bu(Q,Fe),0<Pe.length&&(Fe=new ey(Fe,i,null,p,ie),se.push({event:Fe,listeners:Pe}),Ie?Fe.data=Ie:(Ie=sy(p),Ie!==null&&(Fe.data=Ie)))),(Ie=l2?u2(i,p):c2(i,p))&&(Q=Bu(Q,"onBeforeInput"),0<Q.length&&(ie=new ey("onBeforeInput","beforeinput",null,p,ie),se.push({event:ie,listeners:Q}),ie.data=Ie))}Ay(se,a)})}function $a(i,a,p){return{instance:i,listener:a,currentTarget:p}}function Bu(i,a){for(var p=a+"Capture",x=[];i!==null;){var E=i,T=E.stateNode;E.tag===5&&T!==null&&(E=T,T=sr(i,p),T!=null&&x.unshift($a(i,T,E)),T=sr(i,a),T!=null&&x.push($a(i,T,E))),i=i.return}return x}function ys(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function by(i,a,p,x,E){for(var T=a._reactName,I=[];p!==null&&p!==x;){var O=p,H=O.alternate,Q=O.stateNode;if(H!==null&&H===x)break;O.tag===5&&Q!==null&&(O=Q,E?(H=sr(p,T),H!=null&&I.unshift($a(p,H,O))):E||(H=sr(p,T),H!=null&&I.push($a(p,H,O)))),p=p.return}I.length!==0&&i.push({event:a,listeners:I})}var T2=/\r\n?/g,S2=/\u0000|\uFFFD/g;function Py(i){return(typeof i=="string"?i:""+i).replace(T2,`
`).replace(S2,"")}function Lu(i,a,p){if(a=Py(a),Py(i)!==a&&p)throw Error(n(425))}function Uu(){}var _0=null,w0=null;function T0(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var S0=typeof setTimeout=="function"?setTimeout:void 0,A2=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,k2=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(i){return Iy.resolve(null).then(i).catch(b2)}:S0;function b2(i){setTimeout(function(){throw i})}function A0(i,a){var p=a,x=0;do{var E=p.nextSibling;if(i.removeChild(p),E&&E.nodeType===8)if(p=E.data,p==="/$"){if(x===0){i.removeChild(E),Da(a);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=E}while(p);Da(a)}function Ro(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Dy(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var p=i.data;if(p==="$"||p==="$!"||p==="$?"){if(a===0)return i;a--}else p==="/$"&&a++}i=i.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Ir="__reactFiber$"+xs,Ha="__reactProps$"+xs,Yr="__reactContainer$"+xs,k0="__reactEvents$"+xs,P2="__reactListeners$"+xs,I2="__reactHandles$"+xs;function wi(i){var a=i[Ir];if(a)return a;for(var p=i.parentNode;p;){if(a=p[Yr]||p[Ir]){if(p=a.alternate,a.child!==null||p!==null&&p.child!==null)for(i=Dy(i);i!==null;){if(p=i[Ir])return p;i=Dy(i)}return a}i=p,p=i.parentNode}return null}function za(i){return i=i[Ir]||i[Yr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function vs(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ou(i){return i[Ha]||null}var b0=[],Es=-1;function No(i){return{current:i}}function ut(i){0>Es||(i.current=b0[Es],b0[Es]=null,Es--)}function it(i,a){Es++,b0[Es]=i.current,i.current=a}var Mo={},nn=No(Mo),_n=No(!1),Ti=Mo;function Cs(i,a){var p=i.type.contextTypes;if(!p)return Mo;var x=i.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===a)return x.__reactInternalMemoizedMaskedChildContext;var E={},T;for(T in p)E[T]=a[T];return x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=E),E}function wn(i){return i=i.childContextTypes,i!=null}function Vu(){ut(_n),ut(nn)}function Ry(i,a,p){if(nn.current!==Mo)throw Error(n(168));it(nn,a),it(_n,p)}function Ny(i,a,p){var x=i.stateNode;if(a=a.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var E in x)if(!(E in a))throw Error(n(108,Ae(i)||"Unknown",E));return ee({},p,x)}function $u(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Mo,Ti=nn.current,it(nn,i),it(_n,_n.current),!0}function My(i,a,p){var x=i.stateNode;if(!x)throw Error(n(169));p?(i=Ny(i,a,Ti),x.__reactInternalMemoizedMergedChildContext=i,ut(_n),ut(nn),it(nn,i)):ut(_n),it(_n,p)}var Jr=null,Hu=!1,P0=!1;function Fy(i){Jr===null?Jr=[i]:Jr.push(i)}function D2(i){Hu=!0,Fy(i)}function Fo(){if(!P0&&Jr!==null){P0=!0;var i=0,a=Qe;try{var p=Jr;for(Qe=1;i<p.length;i++){var x=p[i];do x=x(!0);while(x!==null)}Jr=null,Hu=!1}catch(E){throw Jr!==null&&(Jr=Jr.slice(i+1)),z(Ht,Fo),E}finally{Qe=a,P0=!1}}return null}var _s=[],ws=0,zu=null,qu=0,Wn=[],Kn=0,Si=null,jr=1,Zr="";function Ai(i,a){_s[ws++]=qu,_s[ws++]=zu,zu=i,qu=a}function By(i,a,p){Wn[Kn++]=jr,Wn[Kn++]=Zr,Wn[Kn++]=Si,Si=i;var x=jr;i=Zr;var E=32-ur(x)-1;x&=~(1<<E),p+=1;var T=32-ur(a)+E;if(30<T){var I=E-E%5;T=(x&(1<<I)-1).toString(32),x>>=I,E-=I,jr=1<<32-ur(a)+E|p<<E|x,Zr=T+i}else jr=1<<T|p<<E|x,Zr=i}function I0(i){i.return!==null&&(Ai(i,1),By(i,1,0))}function D0(i){for(;i===zu;)zu=_s[--ws],_s[ws]=null,qu=_s[--ws],_s[ws]=null;for(;i===Si;)Si=Wn[--Kn],Wn[Kn]=null,Zr=Wn[--Kn],Wn[Kn]=null,jr=Wn[--Kn],Wn[Kn]=null}var Fn=null,Bn=null,mt=!1,dr=null;function Ly(i,a){var p=Zn(5,null,null,0);p.elementType="DELETED",p.stateNode=a,p.return=i,a=i.deletions,a===null?(i.deletions=[p],i.flags|=16):a.push(p)}function Uy(i,a){switch(i.tag){case 5:var p=i.type;return a=a.nodeType!==1||p.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Fn=i,Bn=Ro(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Fn=i,Bn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(p=Si!==null?{id:jr,overflow:Zr}:null,i.memoizedState={dehydrated:a,treeContext:p,retryLane:1073741824},p=Zn(18,null,null,0),p.stateNode=a,p.return=i,i.child=p,Fn=i,Bn=null,!0):!1;default:return!1}}function R0(i){return(i.mode&1)!==0&&(i.flags&128)===0}function N0(i){if(mt){var a=Bn;if(a){var p=a;if(!Uy(i,a)){if(R0(i))throw Error(n(418));a=Ro(p.nextSibling);var x=Fn;a&&Uy(i,a)?Ly(x,p):(i.flags=i.flags&-4097|2,mt=!1,Fn=i)}}else{if(R0(i))throw Error(n(418));i.flags=i.flags&-4097|2,mt=!1,Fn=i}}}function Oy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Fn=i}function Gu(i){if(i!==Fn)return!1;if(!mt)return Oy(i),mt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!T0(i.type,i.memoizedProps)),a&&(a=Bn)){if(R0(i))throw Vy(),Error(n(418));for(;a;)Ly(i,a),a=Ro(a.nextSibling)}if(Oy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var p=i.data;if(p==="/$"){if(a===0){Bn=Ro(i.nextSibling);break e}a--}else p!=="$"&&p!=="$!"&&p!=="$?"||a++}i=i.nextSibling}Bn=null}}else Bn=Fn?Ro(i.stateNode.nextSibling):null;return!0}function Vy(){for(var i=Bn;i;)i=Ro(i.nextSibling)}function Ts(){Bn=Fn=null,mt=!1}function M0(i){dr===null?dr=[i]:dr.push(i)}var R2=b.ReactCurrentBatchConfig;function qa(i,a,p){if(i=p.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var x=p.stateNode}if(!x)throw Error(n(147,i));var E=x,T=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T?a.ref:(a=function(I){var O=E.refs;I===null?delete O[T]:O[T]=I},a._stringRef=T,a)}if(typeof i!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,i))}return i}function Wu(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function $y(i){var a=i._init;return a(i._payload)}function Hy(i){function a(K,q){if(i){var J=K.deletions;J===null?(K.deletions=[q],K.flags|=16):J.push(q)}}function p(K,q){if(!i)return null;for(;q!==null;)a(K,q),q=q.sibling;return null}function x(K,q){for(K=new Map;q!==null;)q.key!==null?K.set(q.key,q):K.set(q.index,q),q=q.sibling;return K}function E(K,q){return K=zo(K,q),K.index=0,K.sibling=null,K}function T(K,q,J){return K.index=J,i?(J=K.alternate,J!==null?(J=J.index,J<q?(K.flags|=2,q):J):(K.flags|=2,q)):(K.flags|=1048576,q)}function I(K){return i&&K.alternate===null&&(K.flags|=2),K}function O(K,q,J,de){return q===null||q.tag!==6?(q=Sp(J,K.mode,de),q.return=K,q):(q=E(q,J),q.return=K,q)}function H(K,q,J,de){var Te=J.type;return Te===N?ie(K,q,J.props.children,de,J.key):q!==null&&(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ne&&$y(Te)===q.type)?(de=E(q,J.props),de.ref=qa(K,q,J),de.return=K,de):(de=gc(J.type,J.key,J.props,null,K.mode,de),de.ref=qa(K,q,J),de.return=K,de)}function Q(K,q,J,de){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=Ap(J,K.mode,de),q.return=K,q):(q=E(q,J.children||[]),q.return=K,q)}function ie(K,q,J,de,Te){return q===null||q.tag!==7?(q=Mi(J,K.mode,de,Te),q.return=K,q):(q=E(q,J),q.return=K,q)}function se(K,q,J){if(typeof q=="string"&&q!==""||typeof q=="number")return q=Sp(""+q,K.mode,J),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case D:return J=gc(q.type,q.key,q.props,null,K.mode,J),J.ref=qa(K,null,q),J.return=K,J;case R:return q=Ap(q,K.mode,J),q.return=K,q;case ne:var de=q._init;return se(K,de(q._payload),J)}if(At(q)||re(q))return q=Mi(q,K.mode,J,null),q.return=K,q;Wu(K,q)}return null}function oe(K,q,J,de){var Te=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Te!==null?null:O(K,q,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case D:return J.key===Te?H(K,q,J,de):null;case R:return J.key===Te?Q(K,q,J,de):null;case ne:return Te=J._init,oe(K,q,Te(J._payload),de)}if(At(J)||re(J))return Te!==null?null:ie(K,q,J,de,null);Wu(K,J)}return null}function ge(K,q,J,de,Te){if(typeof de=="string"&&de!==""||typeof de=="number")return K=K.get(J)||null,O(q,K,""+de,Te);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case D:return K=K.get(de.key===null?J:de.key)||null,H(q,K,de,Te);case R:return K=K.get(de.key===null?J:de.key)||null,Q(q,K,de,Te);case ne:var Pe=de._init;return ge(K,q,J,Pe(de._payload),Te)}if(At(de)||re(de))return K=K.get(J)||null,ie(q,K,de,Te,null);Wu(q,de)}return null}function Ce(K,q,J,de){for(var Te=null,Pe=null,Ie=q,Fe=q=0,Gt=null;Ie!==null&&Fe<J.length;Fe++){Ie.index>Fe?(Gt=Ie,Ie=null):Gt=Ie.sibling;var Ke=oe(K,Ie,J[Fe],de);if(Ke===null){Ie===null&&(Ie=Gt);break}i&&Ie&&Ke.alternate===null&&a(K,Ie),q=T(Ke,q,Fe),Pe===null?Te=Ke:Pe.sibling=Ke,Pe=Ke,Ie=Gt}if(Fe===J.length)return p(K,Ie),mt&&Ai(K,Fe),Te;if(Ie===null){for(;Fe<J.length;Fe++)Ie=se(K,J[Fe],de),Ie!==null&&(q=T(Ie,q,Fe),Pe===null?Te=Ie:Pe.sibling=Ie,Pe=Ie);return mt&&Ai(K,Fe),Te}for(Ie=x(K,Ie);Fe<J.length;Fe++)Gt=ge(Ie,K,Fe,J[Fe],de),Gt!==null&&(i&&Gt.alternate!==null&&Ie.delete(Gt.key===null?Fe:Gt.key),q=T(Gt,q,Fe),Pe===null?Te=Gt:Pe.sibling=Gt,Pe=Gt);return i&&Ie.forEach(function(qo){return a(K,qo)}),mt&&Ai(K,Fe),Te}function we(K,q,J,de){var Te=re(J);if(typeof Te!="function")throw Error(n(150));if(J=Te.call(J),J==null)throw Error(n(151));for(var Pe=Te=null,Ie=q,Fe=q=0,Gt=null,Ke=J.next();Ie!==null&&!Ke.done;Fe++,Ke=J.next()){Ie.index>Fe?(Gt=Ie,Ie=null):Gt=Ie.sibling;var qo=oe(K,Ie,Ke.value,de);if(qo===null){Ie===null&&(Ie=Gt);break}i&&Ie&&qo.alternate===null&&a(K,Ie),q=T(qo,q,Fe),Pe===null?Te=qo:Pe.sibling=qo,Pe=qo,Ie=Gt}if(Ke.done)return p(K,Ie),mt&&Ai(K,Fe),Te;if(Ie===null){for(;!Ke.done;Fe++,Ke=J.next())Ke=se(K,Ke.value,de),Ke!==null&&(q=T(Ke,q,Fe),Pe===null?Te=Ke:Pe.sibling=Ke,Pe=Ke);return mt&&Ai(K,Fe),Te}for(Ie=x(K,Ie);!Ke.done;Fe++,Ke=J.next())Ke=ge(Ie,K,Fe,Ke.value,de),Ke!==null&&(i&&Ke.alternate!==null&&Ie.delete(Ke.key===null?Fe:Ke.key),q=T(Ke,q,Fe),Pe===null?Te=Ke:Pe.sibling=Ke,Pe=Ke);return i&&Ie.forEach(function(dk){return a(K,dk)}),mt&&Ai(K,Fe),Te}function bt(K,q,J,de){if(typeof J=="object"&&J!==null&&J.type===N&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case D:e:{for(var Te=J.key,Pe=q;Pe!==null;){if(Pe.key===Te){if(Te=J.type,Te===N){if(Pe.tag===7){p(K,Pe.sibling),q=E(Pe,J.props.children),q.return=K,K=q;break e}}else if(Pe.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ne&&$y(Te)===Pe.type){p(K,Pe.sibling),q=E(Pe,J.props),q.ref=qa(K,Pe,J),q.return=K,K=q;break e}p(K,Pe);break}else a(K,Pe);Pe=Pe.sibling}J.type===N?(q=Mi(J.props.children,K.mode,de,J.key),q.return=K,K=q):(de=gc(J.type,J.key,J.props,null,K.mode,de),de.ref=qa(K,q,J),de.return=K,K=de)}return I(K);case R:e:{for(Pe=J.key;q!==null;){if(q.key===Pe)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){p(K,q.sibling),q=E(q,J.children||[]),q.return=K,K=q;break e}else{p(K,q);break}else a(K,q);q=q.sibling}q=Ap(J,K.mode,de),q.return=K,K=q}return I(K);case ne:return Pe=J._init,bt(K,q,Pe(J._payload),de)}if(At(J))return Ce(K,q,J,de);if(re(J))return we(K,q,J,de);Wu(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,q!==null&&q.tag===6?(p(K,q.sibling),q=E(q,J),q.return=K,K=q):(p(K,q),q=Sp(J,K.mode,de),q.return=K,K=q),I(K)):p(K,q)}return bt}var Ss=Hy(!0),zy=Hy(!1),Ku=No(null),Yu=null,As=null,F0=null;function B0(){F0=As=Yu=null}function L0(i){var a=Ku.current;ut(Ku),i._currentValue=a}function U0(i,a,p){for(;i!==null;){var x=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,x!==null&&(x.childLanes|=a)):x!==null&&(x.childLanes&a)!==a&&(x.childLanes|=a),i===p)break;i=i.return}}function ks(i,a){Yu=i,F0=As=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(Tn=!0),i.firstContext=null)}function Yn(i){var a=i._currentValue;if(F0!==i)if(i={context:i,memoizedValue:a,next:null},As===null){if(Yu===null)throw Error(n(308));As=i,Yu.dependencies={lanes:0,firstContext:i}}else As=As.next=i;return a}var ki=null;function O0(i){ki===null?ki=[i]:ki.push(i)}function qy(i,a,p,x){var E=a.interleaved;return E===null?(p.next=p,O0(a)):(p.next=E.next,E.next=p),a.interleaved=p,Xr(i,x)}function Xr(i,a){i.lanes|=a;var p=i.alternate;for(p!==null&&(p.lanes|=a),p=i,i=i.return;i!==null;)i.childLanes|=a,p=i.alternate,p!==null&&(p.childLanes|=a),p=i,i=i.return;return p.tag===3?p.stateNode:null}var Bo=!1;function V0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gy(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Qr(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Lo(i,a,p){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(We&2)!==0){var E=x.pending;return E===null?a.next=a:(a.next=E.next,E.next=a),x.pending=a,Xr(i,p)}return E=x.interleaved,E===null?(a.next=a,O0(x)):(a.next=E.next,E.next=a),x.interleaved=a,Xr(i,p)}function Ju(i,a,p){if(a=a.updateQueue,a!==null&&(a=a.shared,(p&4194240)!==0)){var x=a.lanes;x&=i.pendingLanes,p|=x,a.lanes=p,e0(i,p)}}function Wy(i,a){var p=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var E=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var I={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?E=T=I:T=T.next=I,p=p.next}while(p!==null);T===null?E=T=a:T=T.next=a}else E=T=a;p={baseState:x.baseState,firstBaseUpdate:E,lastBaseUpdate:T,shared:x.shared,effects:x.effects},i.updateQueue=p;return}i=p.lastBaseUpdate,i===null?p.firstBaseUpdate=a:i.next=a,p.lastBaseUpdate=a}function ju(i,a,p,x){var E=i.updateQueue;Bo=!1;var T=E.firstBaseUpdate,I=E.lastBaseUpdate,O=E.shared.pending;if(O!==null){E.shared.pending=null;var H=O,Q=H.next;H.next=null,I===null?T=Q:I.next=Q,I=H;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==I&&(O===null?ie.firstBaseUpdate=Q:O.next=Q,ie.lastBaseUpdate=H))}if(T!==null){var se=E.baseState;I=0,ie=Q=H=null,O=T;do{var oe=O.lane,ge=O.eventTime;if((x&oe)===oe){ie!==null&&(ie=ie.next={eventTime:ge,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ce=i,we=O;switch(oe=a,ge=p,we.tag){case 1:if(Ce=we.payload,typeof Ce=="function"){se=Ce.call(ge,se,oe);break e}se=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=we.payload,oe=typeof Ce=="function"?Ce.call(ge,se,oe):Ce,oe==null)break e;se=ee({},se,oe);break e;case 2:Bo=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,oe=E.effects,oe===null?E.effects=[O]:oe.push(O))}else ge={eventTime:ge,lane:oe,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(Q=ie=ge,H=se):ie=ie.next=ge,I|=oe;if(O=O.next,O===null){if(O=E.shared.pending,O===null)break;oe=O,O=oe.next,oe.next=null,E.lastBaseUpdate=oe,E.shared.pending=null}}while(!0);if(ie===null&&(H=se),E.baseState=H,E.firstBaseUpdate=Q,E.lastBaseUpdate=ie,a=E.shared.interleaved,a!==null){E=a;do I|=E.lane,E=E.next;while(E!==a)}else T===null&&(E.shared.lanes=0);Ii|=I,i.lanes=I,i.memoizedState=se}}function Ky(i,a,p){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var x=i[a],E=x.callback;if(E!==null){if(x.callback=null,x=p,typeof E!="function")throw Error(n(191,E));E.call(x)}}}var Ga={},Dr=No(Ga),Wa=No(Ga),Ka=No(Ga);function bi(i){if(i===Ga)throw Error(n(174));return i}function $0(i,a){switch(it(Ka,a),it(Wa,i),it(Dr,Ga),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ze(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=ze(a,i)}ut(Dr),it(Dr,a)}function bs(){ut(Dr),ut(Wa),ut(Ka)}function Yy(i){bi(Ka.current);var a=bi(Dr.current),p=ze(a,i.type);a!==p&&(it(Wa,i),it(Dr,p))}function H0(i){Wa.current===i&&(ut(Dr),ut(Wa))}var yt=No(0);function Zu(i){for(var a=i;a!==null;){if(a.tag===13){var p=a.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var z0=[];function q0(){for(var i=0;i<z0.length;i++)z0[i]._workInProgressVersionPrimary=null;z0.length=0}var Xu=b.ReactCurrentDispatcher,G0=b.ReactCurrentBatchConfig,Pi=0,xt=null,Lt=null,zt=null,Qu=!1,Ya=!1,Ja=0,N2=0;function rn(){throw Error(n(321))}function W0(i,a){if(a===null)return!1;for(var p=0;p<a.length&&p<i.length;p++)if(!cr(i[p],a[p]))return!1;return!0}function K0(i,a,p,x,E,T){if(Pi=T,xt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Xu.current=i===null||i.memoizedState===null?L2:U2,i=p(x,E),Ya){T=0;do{if(Ya=!1,Ja=0,25<=T)throw Error(n(301));T+=1,zt=Lt=null,a.updateQueue=null,Xu.current=O2,i=p(x,E)}while(Ya)}if(Xu.current=nc,a=Lt!==null&&Lt.next!==null,Pi=0,zt=Lt=xt=null,Qu=!1,a)throw Error(n(300));return i}function Y0(){var i=Ja!==0;return Ja=0,i}function Rr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?xt.memoizedState=zt=i:zt=zt.next=i,zt}function Jn(){if(Lt===null){var i=xt.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var a=zt===null?xt.memoizedState:zt.next;if(a!==null)zt=a,Lt=i;else{if(i===null)throw Error(n(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},zt===null?xt.memoizedState=zt=i:zt=zt.next=i}return zt}function ja(i,a){return typeof a=="function"?a(i):a}function J0(i){var a=Jn(),p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=i;var x=Lt,E=x.baseQueue,T=p.pending;if(T!==null){if(E!==null){var I=E.next;E.next=T.next,T.next=I}x.baseQueue=E=T,p.pending=null}if(E!==null){T=E.next,x=x.baseState;var O=I=null,H=null,Q=T;do{var ie=Q.lane;if((Pi&ie)===ie)H!==null&&(H=H.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),x=Q.hasEagerState?Q.eagerState:i(x,Q.action);else{var se={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};H===null?(O=H=se,I=x):H=H.next=se,xt.lanes|=ie,Ii|=ie}Q=Q.next}while(Q!==null&&Q!==T);H===null?I=x:H.next=O,cr(x,a.memoizedState)||(Tn=!0),a.memoizedState=x,a.baseState=I,a.baseQueue=H,p.lastRenderedState=x}if(i=p.interleaved,i!==null){E=i;do T=E.lane,xt.lanes|=T,Ii|=T,E=E.next;while(E!==i)}else E===null&&(p.lanes=0);return[a.memoizedState,p.dispatch]}function j0(i){var a=Jn(),p=a.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=i;var x=p.dispatch,E=p.pending,T=a.memoizedState;if(E!==null){p.pending=null;var I=E=E.next;do T=i(T,I.action),I=I.next;while(I!==E);cr(T,a.memoizedState)||(Tn=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),p.lastRenderedState=T}return[T,x]}function Jy(){}function jy(i,a){var p=xt,x=Jn(),E=a(),T=!cr(x.memoizedState,E);if(T&&(x.memoizedState=E,Tn=!0),x=x.queue,Z0(Qy.bind(null,p,x,i),[i]),x.getSnapshot!==a||T||zt!==null&&zt.memoizedState.tag&1){if(p.flags|=2048,Za(9,Xy.bind(null,p,x,E,a),void 0,null),qt===null)throw Error(n(349));(Pi&30)!==0||Zy(p,a,E)}return E}function Zy(i,a,p){i.flags|=16384,i={getSnapshot:a,value:p},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.stores=[i]):(p=a.stores,p===null?a.stores=[i]:p.push(i))}function Xy(i,a,p,x){a.value=p,a.getSnapshot=x,ex(a)&&tx(i)}function Qy(i,a,p){return p(function(){ex(a)&&tx(i)})}function ex(i){var a=i.getSnapshot;i=i.value;try{var p=a();return!cr(i,p)}catch{return!0}}function tx(i){var a=Xr(i,1);a!==null&&mr(a,i,1,-1)}function nx(i){var a=Rr();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:i},a.queue=i,i=i.dispatch=B2.bind(null,xt,i),[a.memoizedState,i]}function Za(i,a,p,x){return i={tag:i,create:a,destroy:p,deps:x,next:null},a=xt.updateQueue,a===null?(a={lastEffect:null,stores:null},xt.updateQueue=a,a.lastEffect=i.next=i):(p=a.lastEffect,p===null?a.lastEffect=i.next=i:(x=p.next,p.next=i,i.next=x,a.lastEffect=i)),i}function rx(){return Jn().memoizedState}function ec(i,a,p,x){var E=Rr();xt.flags|=i,E.memoizedState=Za(1|a,p,void 0,x===void 0?null:x)}function tc(i,a,p,x){var E=Jn();x=x===void 0?null:x;var T=void 0;if(Lt!==null){var I=Lt.memoizedState;if(T=I.destroy,x!==null&&W0(x,I.deps)){E.memoizedState=Za(a,p,T,x);return}}xt.flags|=i,E.memoizedState=Za(1|a,p,T,x)}function ox(i,a){return ec(8390656,8,i,a)}function Z0(i,a){return tc(2048,8,i,a)}function ix(i,a){return tc(4,2,i,a)}function sx(i,a){return tc(4,4,i,a)}function ax(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function lx(i,a,p){return p=p!=null?p.concat([i]):null,tc(4,4,ax.bind(null,a,i),p)}function X0(){}function ux(i,a){var p=Jn();a=a===void 0?null:a;var x=p.memoizedState;return x!==null&&a!==null&&W0(a,x[1])?x[0]:(p.memoizedState=[i,a],i)}function cx(i,a){var p=Jn();a=a===void 0?null:a;var x=p.memoizedState;return x!==null&&a!==null&&W0(a,x[1])?x[0]:(i=i(),p.memoizedState=[i,a],i)}function dx(i,a,p){return(Pi&21)===0?(i.baseState&&(i.baseState=!1,Tn=!0),i.memoizedState=p):(cr(p,a)||(p=$g(),xt.lanes|=p,Ii|=p,i.baseState=!0),a)}function M2(i,a){var p=Qe;Qe=p!==0&&4>p?p:4,i(!0);var x=G0.transition;G0.transition={};try{i(!1),a()}finally{Qe=p,G0.transition=x}}function fx(){return Jn().memoizedState}function F2(i,a,p){var x=$o(i);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},px(i))hx(a,p);else if(p=qy(i,a,p,x),p!==null){var E=fn();mr(p,i,x,E),mx(p,a,x)}}function B2(i,a,p){var x=$o(i),E={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(px(i))hx(a,E);else{var T=i.alternate;if(i.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var I=a.lastRenderedState,O=T(I,p);if(E.hasEagerState=!0,E.eagerState=O,cr(O,I)){var H=a.interleaved;H===null?(E.next=E,O0(a)):(E.next=H.next,H.next=E),a.interleaved=E;return}}catch{}finally{}p=qy(i,a,E,x),p!==null&&(E=fn(),mr(p,i,x,E),mx(p,a,x))}}function px(i){var a=i.alternate;return i===xt||a!==null&&a===xt}function hx(i,a){Ya=Qu=!0;var p=i.pending;p===null?a.next=a:(a.next=p.next,p.next=a),i.pending=a}function mx(i,a,p){if((p&4194240)!==0){var x=a.lanes;x&=i.pendingLanes,p|=x,a.lanes=p,e0(i,p)}}var nc={readContext:Yn,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},L2={readContext:Yn,useCallback:function(i,a){return Rr().memoizedState=[i,a===void 0?null:a],i},useContext:Yn,useEffect:ox,useImperativeHandle:function(i,a,p){return p=p!=null?p.concat([i]):null,ec(4194308,4,ax.bind(null,a,i),p)},useLayoutEffect:function(i,a){return ec(4194308,4,i,a)},useInsertionEffect:function(i,a){return ec(4,2,i,a)},useMemo:function(i,a){var p=Rr();return a=a===void 0?null:a,i=i(),p.memoizedState=[i,a],i},useReducer:function(i,a,p){var x=Rr();return a=p!==void 0?p(a):a,x.memoizedState=x.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},x.queue=i,i=i.dispatch=F2.bind(null,xt,i),[x.memoizedState,i]},useRef:function(i){var a=Rr();return i={current:i},a.memoizedState=i},useState:nx,useDebugValue:X0,useDeferredValue:function(i){return Rr().memoizedState=i},useTransition:function(){var i=nx(!1),a=i[0];return i=M2.bind(null,i[1]),Rr().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,p){var x=xt,E=Rr();if(mt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=a(),qt===null)throw Error(n(349));(Pi&30)!==0||Zy(x,a,p)}E.memoizedState=p;var T={value:p,getSnapshot:a};return E.queue=T,ox(Qy.bind(null,x,T,i),[i]),x.flags|=2048,Za(9,Xy.bind(null,x,T,p,a),void 0,null),p},useId:function(){var i=Rr(),a=qt.identifierPrefix;if(mt){var p=Zr,x=jr;p=(x&~(1<<32-ur(x)-1)).toString(32)+p,a=":"+a+"R"+p,p=Ja++,0<p&&(a+="H"+p.toString(32)),a+=":"}else p=N2++,a=":"+a+"r"+p.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},U2={readContext:Yn,useCallback:ux,useContext:Yn,useEffect:Z0,useImperativeHandle:lx,useInsertionEffect:ix,useLayoutEffect:sx,useMemo:cx,useReducer:J0,useRef:rx,useState:function(){return J0(ja)},useDebugValue:X0,useDeferredValue:function(i){var a=Jn();return dx(a,Lt.memoizedState,i)},useTransition:function(){var i=J0(ja)[0],a=Jn().memoizedState;return[i,a]},useMutableSource:Jy,useSyncExternalStore:jy,useId:fx,unstable_isNewReconciler:!1},O2={readContext:Yn,useCallback:ux,useContext:Yn,useEffect:Z0,useImperativeHandle:lx,useInsertionEffect:ix,useLayoutEffect:sx,useMemo:cx,useReducer:j0,useRef:rx,useState:function(){return j0(ja)},useDebugValue:X0,useDeferredValue:function(i){var a=Jn();return Lt===null?a.memoizedState=i:dx(a,Lt.memoizedState,i)},useTransition:function(){var i=j0(ja)[0],a=Jn().memoizedState;return[i,a]},useMutableSource:Jy,useSyncExternalStore:jy,useId:fx,unstable_isNewReconciler:!1};function fr(i,a){if(i&&i.defaultProps){a=ee({},a),i=i.defaultProps;for(var p in i)a[p]===void 0&&(a[p]=i[p]);return a}return a}function Q0(i,a,p,x){a=i.memoizedState,p=p(x,a),p=p==null?a:ee({},a,p),i.memoizedState=p,i.lanes===0&&(i.updateQueue.baseState=p)}var rc={isMounted:function(i){return(i=i._reactInternals)?Pr(i)===i:!1},enqueueSetState:function(i,a,p){i=i._reactInternals;var x=fn(),E=$o(i),T=Qr(x,E);T.payload=a,p!=null&&(T.callback=p),a=Lo(i,T,E),a!==null&&(mr(a,i,E,x),Ju(a,i,E))},enqueueReplaceState:function(i,a,p){i=i._reactInternals;var x=fn(),E=$o(i),T=Qr(x,E);T.tag=1,T.payload=a,p!=null&&(T.callback=p),a=Lo(i,T,E),a!==null&&(mr(a,i,E,x),Ju(a,i,E))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var p=fn(),x=$o(i),E=Qr(p,x);E.tag=2,a!=null&&(E.callback=a),a=Lo(i,E,x),a!==null&&(mr(a,i,x,p),Ju(a,i,x))}};function gx(i,a,p,x,E,T,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,T,I):a.prototype&&a.prototype.isPureReactComponent?!La(p,x)||!La(E,T):!0}function yx(i,a,p){var x=!1,E=Mo,T=a.contextType;return typeof T=="object"&&T!==null?T=Yn(T):(E=wn(a)?Ti:nn.current,x=a.contextTypes,T=(x=x!=null)?Cs(i,E):Mo),a=new a(p,T),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=rc,i.stateNode=a,a._reactInternals=i,x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=E,i.__reactInternalMemoizedMaskedChildContext=T),a}function xx(i,a,p,x){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(p,x),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(p,x),a.state!==i&&rc.enqueueReplaceState(a,a.state,null)}function ep(i,a,p,x){var E=i.stateNode;E.props=p,E.state=i.memoizedState,E.refs={},V0(i);var T=a.contextType;typeof T=="object"&&T!==null?E.context=Yn(T):(T=wn(a)?Ti:nn.current,E.context=Cs(i,T)),E.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Q0(i,a,T,p),E.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(a=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),a!==E.state&&rc.enqueueReplaceState(E,E.state,null),ju(i,p,E,x),E.state=i.memoizedState),typeof E.componentDidMount=="function"&&(i.flags|=4194308)}function Ps(i,a){try{var p="",x=a;do p+=ce(x),x=x.return;while(x);var E=p}catch(T){E=`
Error generating stack: `+T.message+`
`+T.stack}return{value:i,source:a,stack:E,digest:null}}function tp(i,a,p){return{value:i,source:null,stack:p??null,digest:a??null}}function np(i,a){try{console.error(a.value)}catch(p){setTimeout(function(){throw p})}}var V2=typeof WeakMap=="function"?WeakMap:Map;function vx(i,a,p){p=Qr(-1,p),p.tag=3,p.payload={element:null};var x=a.value;return p.callback=function(){cc||(cc=!0,yp=x),np(i,a)},p}function Ex(i,a,p){p=Qr(-1,p),p.tag=3;var x=i.type.getDerivedStateFromError;if(typeof x=="function"){var E=a.value;p.payload=function(){return x(E)},p.callback=function(){np(i,a)}}var T=i.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){np(i,a),typeof x!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var I=a.stack;this.componentDidCatch(a.value,{componentStack:I!==null?I:""})}),p}function Cx(i,a,p){var x=i.pingCache;if(x===null){x=i.pingCache=new V2;var E=new Set;x.set(a,E)}else E=x.get(a),E===void 0&&(E=new Set,x.set(a,E));E.has(p)||(E.add(p),i=ek.bind(null,i,a,p),a.then(i,i))}function _x(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function wx(i,a,p,x,E){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(a=Qr(-1,1),a.tag=2,Lo(p,a,1))),p.lanes|=1),i):(i.flags|=65536,i.lanes=E,i)}var $2=b.ReactCurrentOwner,Tn=!1;function dn(i,a,p,x){a.child=i===null?zy(a,null,p,x):Ss(a,i.child,p,x)}function Tx(i,a,p,x,E){p=p.render;var T=a.ref;return ks(a,E),x=K0(i,a,p,x,T,E),p=Y0(),i!==null&&!Tn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~E,eo(i,a,E)):(mt&&p&&I0(a),a.flags|=1,dn(i,a,x,E),a.child)}function Sx(i,a,p,x,E){if(i===null){var T=p.type;return typeof T=="function"&&!Tp(T)&&T.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(a.tag=15,a.type=T,Ax(i,a,T,x,E)):(i=gc(p.type,null,x,a,a.mode,E),i.ref=a.ref,i.return=a,a.child=i)}if(T=i.child,(i.lanes&E)===0){var I=T.memoizedProps;if(p=p.compare,p=p!==null?p:La,p(I,x)&&i.ref===a.ref)return eo(i,a,E)}return a.flags|=1,i=zo(T,x),i.ref=a.ref,i.return=a,a.child=i}function Ax(i,a,p,x,E){if(i!==null){var T=i.memoizedProps;if(La(T,x)&&i.ref===a.ref)if(Tn=!1,a.pendingProps=x=T,(i.lanes&E)!==0)(i.flags&131072)!==0&&(Tn=!0);else return a.lanes=i.lanes,eo(i,a,E)}return rp(i,a,p,x,E)}function kx(i,a,p){var x=a.pendingProps,E=x.children,T=i!==null?i.memoizedState:null;if(x.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Ds,Ln),Ln|=p;else{if((p&1073741824)===0)return i=T!==null?T.baseLanes|p:p,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,it(Ds,Ln),Ln|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=T!==null?T.baseLanes:p,it(Ds,Ln),Ln|=x}else T!==null?(x=T.baseLanes|p,a.memoizedState=null):x=p,it(Ds,Ln),Ln|=x;return dn(i,a,E,p),a.child}function bx(i,a){var p=a.ref;(i===null&&p!==null||i!==null&&i.ref!==p)&&(a.flags|=512,a.flags|=2097152)}function rp(i,a,p,x,E){var T=wn(p)?Ti:nn.current;return T=Cs(a,T),ks(a,E),p=K0(i,a,p,x,T,E),x=Y0(),i!==null&&!Tn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~E,eo(i,a,E)):(mt&&x&&I0(a),a.flags|=1,dn(i,a,p,E),a.child)}function Px(i,a,p,x,E){if(wn(p)){var T=!0;$u(a)}else T=!1;if(ks(a,E),a.stateNode===null)ic(i,a),yx(a,p,x),ep(a,p,x,E),x=!0;else if(i===null){var I=a.stateNode,O=a.memoizedProps;I.props=O;var H=I.context,Q=p.contextType;typeof Q=="object"&&Q!==null?Q=Yn(Q):(Q=wn(p)?Ti:nn.current,Q=Cs(a,Q));var ie=p.getDerivedStateFromProps,se=typeof ie=="function"||typeof I.getSnapshotBeforeUpdate=="function";se||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==x||H!==Q)&&xx(a,I,x,Q),Bo=!1;var oe=a.memoizedState;I.state=oe,ju(a,x,I,E),H=a.memoizedState,O!==x||oe!==H||_n.current||Bo?(typeof ie=="function"&&(Q0(a,p,ie,x),H=a.memoizedState),(O=Bo||gx(a,p,O,x,oe,H,Q))?(se||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(a.flags|=4194308)):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=x,a.memoizedState=H),I.props=x,I.state=H,I.context=Q,x=O):(typeof I.componentDidMount=="function"&&(a.flags|=4194308),x=!1)}else{I=a.stateNode,Gy(i,a),O=a.memoizedProps,Q=a.type===a.elementType?O:fr(a.type,O),I.props=Q,se=a.pendingProps,oe=I.context,H=p.contextType,typeof H=="object"&&H!==null?H=Yn(H):(H=wn(p)?Ti:nn.current,H=Cs(a,H));var ge=p.getDerivedStateFromProps;(ie=typeof ge=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==se||oe!==H)&&xx(a,I,x,H),Bo=!1,oe=a.memoizedState,I.state=oe,ju(a,x,I,E);var Ce=a.memoizedState;O!==se||oe!==Ce||_n.current||Bo?(typeof ge=="function"&&(Q0(a,p,ge,x),Ce=a.memoizedState),(Q=Bo||gx(a,p,Q,x,oe,Ce,H)||!1)?(ie||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(x,Ce,H),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(x,Ce,H)),typeof I.componentDidUpdate=="function"&&(a.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof I.componentDidUpdate!="function"||O===i.memoizedProps&&oe===i.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&oe===i.memoizedState||(a.flags|=1024),a.memoizedProps=x,a.memoizedState=Ce),I.props=x,I.state=Ce,I.context=H,x=Q):(typeof I.componentDidUpdate!="function"||O===i.memoizedProps&&oe===i.memoizedState||(a.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&oe===i.memoizedState||(a.flags|=1024),x=!1)}return op(i,a,p,x,T,E)}function op(i,a,p,x,E,T){bx(i,a);var I=(a.flags&128)!==0;if(!x&&!I)return E&&My(a,p,!1),eo(i,a,T);x=a.stateNode,$2.current=a;var O=I&&typeof p.getDerivedStateFromError!="function"?null:x.render();return a.flags|=1,i!==null&&I?(a.child=Ss(a,i.child,null,T),a.child=Ss(a,null,O,T)):dn(i,a,O,T),a.memoizedState=x.state,E&&My(a,p,!0),a.child}function Ix(i){var a=i.stateNode;a.pendingContext?Ry(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Ry(i,a.context,!1),$0(i,a.containerInfo)}function Dx(i,a,p,x,E){return Ts(),M0(E),a.flags|=256,dn(i,a,p,x),a.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function sp(i){return{baseLanes:i,cachePool:null,transitions:null}}function Rx(i,a,p){var x=a.pendingProps,E=yt.current,T=!1,I=(a.flags&128)!==0,O;if((O=I)||(O=i!==null&&i.memoizedState===null?!1:(E&2)!==0),O?(T=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(E|=1),it(yt,E&1),i===null)return N0(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(I=x.children,i=x.fallback,T?(x=a.mode,T=a.child,I={mode:"hidden",children:I},(x&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=I):T=yc(I,x,0,null),i=Mi(i,x,p,null),T.return=a,i.return=a,T.sibling=i,a.child=T,a.child.memoizedState=sp(p),a.memoizedState=ip,i):ap(a,I));if(E=i.memoizedState,E!==null&&(O=E.dehydrated,O!==null))return H2(i,a,I,x,O,E,p);if(T){T=x.fallback,I=a.mode,E=i.child,O=E.sibling;var H={mode:"hidden",children:x.children};return(I&1)===0&&a.child!==E?(x=a.child,x.childLanes=0,x.pendingProps=H,a.deletions=null):(x=zo(E,H),x.subtreeFlags=E.subtreeFlags&14680064),O!==null?T=zo(O,T):(T=Mi(T,I,p,null),T.flags|=2),T.return=a,x.return=a,x.sibling=T,a.child=x,x=T,T=a.child,I=i.child.memoizedState,I=I===null?sp(p):{baseLanes:I.baseLanes|p,cachePool:null,transitions:I.transitions},T.memoizedState=I,T.childLanes=i.childLanes&~p,a.memoizedState=ip,x}return T=i.child,i=T.sibling,x=zo(T,{mode:"visible",children:x.children}),(a.mode&1)===0&&(x.lanes=p),x.return=a,x.sibling=null,i!==null&&(p=a.deletions,p===null?(a.deletions=[i],a.flags|=16):p.push(i)),a.child=x,a.memoizedState=null,x}function ap(i,a){return a=yc({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function oc(i,a,p,x){return x!==null&&M0(x),Ss(a,i.child,null,p),i=ap(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function H2(i,a,p,x,E,T,I){if(p)return a.flags&256?(a.flags&=-257,x=tp(Error(n(422))),oc(i,a,I,x)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(T=x.fallback,E=a.mode,x=yc({mode:"visible",children:x.children},E,0,null),T=Mi(T,E,I,null),T.flags|=2,x.return=a,T.return=a,x.sibling=T,a.child=x,(a.mode&1)!==0&&Ss(a,i.child,null,I),a.child.memoizedState=sp(I),a.memoizedState=ip,T);if((a.mode&1)===0)return oc(i,a,I,null);if(E.data==="$!"){if(x=E.nextSibling&&E.nextSibling.dataset,x)var O=x.dgst;return x=O,T=Error(n(419)),x=tp(T,x,void 0),oc(i,a,I,x)}if(O=(I&i.childLanes)!==0,Tn||O){if(x=qt,x!==null){switch(I&-I){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(x.suspendedLanes|I))!==0?0:E,E!==0&&E!==T.retryLane&&(T.retryLane=E,Xr(i,E),mr(x,i,E,-1))}return wp(),x=tp(Error(n(421))),oc(i,a,I,x)}return E.data==="$?"?(a.flags|=128,a.child=i.child,a=tk.bind(null,i),E._reactRetry=a,null):(i=T.treeContext,Bn=Ro(E.nextSibling),Fn=a,mt=!0,dr=null,i!==null&&(Wn[Kn++]=jr,Wn[Kn++]=Zr,Wn[Kn++]=Si,jr=i.id,Zr=i.overflow,Si=a),a=ap(a,x.children),a.flags|=4096,a)}function Nx(i,a,p){i.lanes|=a;var x=i.alternate;x!==null&&(x.lanes|=a),U0(i.return,a,p)}function lp(i,a,p,x,E){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:E}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=x,T.tail=p,T.tailMode=E)}function Mx(i,a,p){var x=a.pendingProps,E=x.revealOrder,T=x.tail;if(dn(i,a,x.children,p),x=yt.current,(x&2)!==0)x=x&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Nx(i,p,a);else if(i.tag===19)Nx(i,p,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}x&=1}if(it(yt,x),(a.mode&1)===0)a.memoizedState=null;else switch(E){case"forwards":for(p=a.child,E=null;p!==null;)i=p.alternate,i!==null&&Zu(i)===null&&(E=p),p=p.sibling;p=E,p===null?(E=a.child,a.child=null):(E=p.sibling,p.sibling=null),lp(a,!1,E,p,T);break;case"backwards":for(p=null,E=a.child,a.child=null;E!==null;){if(i=E.alternate,i!==null&&Zu(i)===null){a.child=E;break}i=E.sibling,E.sibling=p,p=E,E=i}lp(a,!0,p,null,T);break;case"together":lp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ic(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function eo(i,a,p){if(i!==null&&(a.dependencies=i.dependencies),Ii|=a.lanes,(p&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,p=zo(i,i.pendingProps),a.child=p,p.return=a;i.sibling!==null;)i=i.sibling,p=p.sibling=zo(i,i.pendingProps),p.return=a;p.sibling=null}return a.child}function z2(i,a,p){switch(a.tag){case 3:Ix(a),Ts();break;case 5:Yy(a);break;case 1:wn(a.type)&&$u(a);break;case 4:$0(a,a.stateNode.containerInfo);break;case 10:var x=a.type._context,E=a.memoizedProps.value;it(Ku,x._currentValue),x._currentValue=E;break;case 13:if(x=a.memoizedState,x!==null)return x.dehydrated!==null?(it(yt,yt.current&1),a.flags|=128,null):(p&a.child.childLanes)!==0?Rx(i,a,p):(it(yt,yt.current&1),i=eo(i,a,p),i!==null?i.sibling:null);it(yt,yt.current&1);break;case 19:if(x=(p&a.childLanes)!==0,(i.flags&128)!==0){if(x)return Mx(i,a,p);a.flags|=128}if(E=a.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),it(yt,yt.current),x)break;return null;case 22:case 23:return a.lanes=0,kx(i,a,p)}return eo(i,a,p)}var Fx,up,Bx,Lx;Fx=function(i,a){for(var p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break;for(;p.sibling===null;){if(p.return===null||p.return===a)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},up=function(){},Bx=function(i,a,p,x){var E=i.memoizedProps;if(E!==x){i=a.stateNode,bi(Dr.current);var T=null;switch(p){case"input":E=et(i,E),x=et(i,x),T=[];break;case"select":E=ee({},E,{value:void 0}),x=ee({},x,{value:void 0}),T=[];break;case"textarea":E=Ct(i,E),x=Ct(i,x),T=[];break;default:typeof E.onClick!="function"&&typeof x.onClick=="function"&&(i.onclick=Uu)}zn(p,x);var I;p=null;for(Q in E)if(!x.hasOwnProperty(Q)&&E.hasOwnProperty(Q)&&E[Q]!=null)if(Q==="style"){var O=E[Q];for(I in O)O.hasOwnProperty(I)&&(p||(p={}),p[I]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?T||(T=[]):(T=T||[]).push(Q,null));for(Q in x){var H=x[Q];if(O=E!=null?E[Q]:void 0,x.hasOwnProperty(Q)&&H!==O&&(H!=null||O!=null))if(Q==="style")if(O){for(I in O)!O.hasOwnProperty(I)||H&&H.hasOwnProperty(I)||(p||(p={}),p[I]="");for(I in H)H.hasOwnProperty(I)&&O[I]!==H[I]&&(p||(p={}),p[I]=H[I])}else p||(T||(T=[]),T.push(Q,p)),p=H;else Q==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,O=O?O.__html:void 0,H!=null&&O!==H&&(T=T||[]).push(Q,H)):Q==="children"?typeof H!="string"&&typeof H!="number"||(T=T||[]).push(Q,""+H):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(H!=null&&Q==="onScroll"&&lt("scroll",i),T||O===H||(T=[])):(T=T||[]).push(Q,H))}p&&(T=T||[]).push("style",p);var Q=T;(a.updateQueue=Q)&&(a.flags|=4)}},Lx=function(i,a,p,x){p!==x&&(a.flags|=4)};function Xa(i,a){if(!mt)switch(i.tailMode){case"hidden":a=i.tail;for(var p=null;a!==null;)a.alternate!==null&&(p=a),a=a.sibling;p===null?i.tail=null:p.sibling=null;break;case"collapsed":p=i.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function on(i){var a=i.alternate!==null&&i.alternate.child===i.child,p=0,x=0;if(a)for(var E=i.child;E!==null;)p|=E.lanes|E.childLanes,x|=E.subtreeFlags&14680064,x|=E.flags&14680064,E.return=i,E=E.sibling;else for(E=i.child;E!==null;)p|=E.lanes|E.childLanes,x|=E.subtreeFlags,x|=E.flags,E.return=i,E=E.sibling;return i.subtreeFlags|=x,i.childLanes=p,a}function q2(i,a,p){var x=a.pendingProps;switch(D0(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(a),null;case 1:return wn(a.type)&&Vu(),on(a),null;case 3:return x=a.stateNode,bs(),ut(_n),ut(nn),q0(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(i===null||i.child===null)&&(Gu(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,dr!==null&&(Ep(dr),dr=null))),up(i,a),on(a),null;case 5:H0(a);var E=bi(Ka.current);if(p=a.type,i!==null&&a.stateNode!=null)Bx(i,a,p,x,E),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!x){if(a.stateNode===null)throw Error(n(166));return on(a),null}if(i=bi(Dr.current),Gu(a)){x=a.stateNode,p=a.type;var T=a.memoizedProps;switch(x[Ir]=a,x[Ha]=T,i=(a.mode&1)!==0,p){case"dialog":lt("cancel",x),lt("close",x);break;case"iframe":case"object":case"embed":lt("load",x);break;case"video":case"audio":for(E=0;E<Oa.length;E++)lt(Oa[E],x);break;case"source":lt("error",x);break;case"img":case"image":case"link":lt("error",x),lt("load",x);break;case"details":lt("toggle",x);break;case"input":at(x,T),lt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!T.multiple},lt("invalid",x);break;case"textarea":en(x,T),lt("invalid",x)}zn(p,T),E=null;for(var I in T)if(T.hasOwnProperty(I)){var O=T[I];I==="children"?typeof O=="string"?x.textContent!==O&&(T.suppressHydrationWarning!==!0&&Lu(x.textContent,O,i),E=["children",O]):typeof O=="number"&&x.textContent!==""+O&&(T.suppressHydrationWarning!==!0&&Lu(x.textContent,O,i),E=["children",""+O]):o.hasOwnProperty(I)&&O!=null&&I==="onScroll"&&lt("scroll",x)}switch(p){case"input":nt(x),Dt(x,T,!0);break;case"textarea":nt(x),Dn(x);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(x.onclick=Uu)}x=E,a.updateQueue=x,x!==null&&(a.flags|=4)}else{I=E.nodeType===9?E:E.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ue(p)),i==="http://www.w3.org/1999/xhtml"?p==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof x.is=="string"?i=I.createElement(p,{is:x.is}):(i=I.createElement(p),p==="select"&&(I=i,x.multiple?I.multiple=!0:x.size&&(I.size=x.size))):i=I.createElementNS(i,p),i[Ir]=a,i[Ha]=x,Fx(i,a,!1,!1),a.stateNode=i;e:{switch(I=Wr(p,x),p){case"dialog":lt("cancel",i),lt("close",i),E=x;break;case"iframe":case"object":case"embed":lt("load",i),E=x;break;case"video":case"audio":for(E=0;E<Oa.length;E++)lt(Oa[E],i);E=x;break;case"source":lt("error",i),E=x;break;case"img":case"image":case"link":lt("error",i),lt("load",i),E=x;break;case"details":lt("toggle",i),E=x;break;case"input":at(i,x),E=et(i,x),lt("invalid",i);break;case"option":E=x;break;case"select":i._wrapperState={wasMultiple:!!x.multiple},E=ee({},x,{value:void 0}),lt("invalid",i);break;case"textarea":en(i,x),E=Ct(i,x),lt("invalid",i);break;default:E=x}zn(p,E),O=E;for(T in O)if(O.hasOwnProperty(T)){var H=O[T];T==="style"?Ar(i,H):T==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Sr(i,H)):T==="children"?typeof H=="string"?(p!=="textarea"||H!=="")&&rt(i,H):typeof H=="number"&&rt(i,""+H):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(o.hasOwnProperty(T)?H!=null&&T==="onScroll"&&lt("scroll",i):H!=null&&A(i,T,H,I))}switch(p){case"input":nt(i),Dt(i,x,!1);break;case"textarea":nt(i),Dn(i);break;case"option":x.value!=null&&i.setAttribute("value",""+pe(x.value));break;case"select":i.multiple=!!x.multiple,T=x.value,T!=null?Xe(i,!!x.multiple,T,!1):x.defaultValue!=null&&Xe(i,!!x.multiple,x.defaultValue,!0);break;default:typeof E.onClick=="function"&&(i.onclick=Uu)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return on(a),null;case 6:if(i&&a.stateNode!=null)Lx(i,a,i.memoizedProps,x);else{if(typeof x!="string"&&a.stateNode===null)throw Error(n(166));if(p=bi(Ka.current),bi(Dr.current),Gu(a)){if(x=a.stateNode,p=a.memoizedProps,x[Ir]=a,(T=x.nodeValue!==p)&&(i=Fn,i!==null))switch(i.tag){case 3:Lu(x.nodeValue,p,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Lu(x.nodeValue,p,(i.mode&1)!==0)}T&&(a.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[Ir]=a,a.stateNode=x}return on(a),null;case 13:if(ut(yt),x=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(mt&&Bn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Vy(),Ts(),a.flags|=98560,T=!1;else if(T=Gu(a),x!==null&&x.dehydrated!==null){if(i===null){if(!T)throw Error(n(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Ir]=a}else Ts(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;on(a),T=!1}else dr!==null&&(Ep(dr),dr=null),T=!0;if(!T)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=p,a):(x=x!==null,x!==(i!==null&&i.memoizedState!==null)&&x&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(yt.current&1)!==0?Ut===0&&(Ut=3):wp())),a.updateQueue!==null&&(a.flags|=4),on(a),null);case 4:return bs(),up(i,a),i===null&&Va(a.stateNode.containerInfo),on(a),null;case 10:return L0(a.type._context),on(a),null;case 17:return wn(a.type)&&Vu(),on(a),null;case 19:if(ut(yt),T=a.memoizedState,T===null)return on(a),null;if(x=(a.flags&128)!==0,I=T.rendering,I===null)if(x)Xa(T,!1);else{if(Ut!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(I=Zu(i),I!==null){for(a.flags|=128,Xa(T,!1),x=I.updateQueue,x!==null&&(a.updateQueue=x,a.flags|=4),a.subtreeFlags=0,x=p,p=a.child;p!==null;)T=p,i=x,T.flags&=14680066,I=T.alternate,I===null?(T.childLanes=0,T.lanes=i,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=I.childLanes,T.lanes=I.lanes,T.child=I.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=I.memoizedProps,T.memoizedState=I.memoizedState,T.updateQueue=I.updateQueue,T.type=I.type,i=I.dependencies,T.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),p=p.sibling;return it(yt,yt.current&1|2),a.child}i=i.sibling}T.tail!==null&&Ve()>Rs&&(a.flags|=128,x=!0,Xa(T,!1),a.lanes=4194304)}else{if(!x)if(i=Zu(I),i!==null){if(a.flags|=128,x=!0,p=i.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),Xa(T,!0),T.tail===null&&T.tailMode==="hidden"&&!I.alternate&&!mt)return on(a),null}else 2*Ve()-T.renderingStartTime>Rs&&p!==1073741824&&(a.flags|=128,x=!0,Xa(T,!1),a.lanes=4194304);T.isBackwards?(I.sibling=a.child,a.child=I):(p=T.last,p!==null?p.sibling=I:a.child=I,T.last=I)}return T.tail!==null?(a=T.tail,T.rendering=a,T.tail=a.sibling,T.renderingStartTime=Ve(),a.sibling=null,p=yt.current,it(yt,x?p&1|2:p&1),a):(on(a),null);case 22:case 23:return _p(),x=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==x&&(a.flags|=8192),x&&(a.mode&1)!==0?(Ln&1073741824)!==0&&(on(a),a.subtreeFlags&6&&(a.flags|=8192)):on(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function G2(i,a){switch(D0(a),a.tag){case 1:return wn(a.type)&&Vu(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return bs(),ut(_n),ut(nn),q0(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return H0(a),null;case 13:if(ut(yt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ts()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ut(yt),null;case 4:return bs(),null;case 10:return L0(a.type._context),null;case 22:case 23:return _p(),null;case 24:return null;default:return null}}var sc=!1,sn=!1,W2=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Is(i,a){var p=i.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){Tt(i,a,x)}else p.current=null}function cp(i,a,p){try{p()}catch(x){Tt(i,a,x)}}var Ux=!1;function K2(i,a){if(_0=Au,i=gy(),h0(i)){if("selectionStart"in i)var p={start:i.selectionStart,end:i.selectionEnd};else e:{p=(p=i.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var E=x.anchorOffset,T=x.focusNode;x=x.focusOffset;try{p.nodeType,T.nodeType}catch{p=null;break e}var I=0,O=-1,H=-1,Q=0,ie=0,se=i,oe=null;t:for(;;){for(var ge;se!==p||E!==0&&se.nodeType!==3||(O=I+E),se!==T||x!==0&&se.nodeType!==3||(H=I+x),se.nodeType===3&&(I+=se.nodeValue.length),(ge=se.firstChild)!==null;)oe=se,se=ge;for(;;){if(se===i)break t;if(oe===p&&++Q===E&&(O=I),oe===T&&++ie===x&&(H=I),(ge=se.nextSibling)!==null)break;se=oe,oe=se.parentNode}se=ge}p=O===-1||H===-1?null:{start:O,end:H}}else p=null}p=p||{start:0,end:0}}else p=null;for(w0={focusedElem:i,selectionRange:p},Au=!1,ve=a;ve!==null;)if(a=ve,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,ve=i;else for(;ve!==null;){a=ve;try{var Ce=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var we=Ce.memoizedProps,bt=Ce.memoizedState,K=a.stateNode,q=K.getSnapshotBeforeUpdate(a.elementType===a.type?we:fr(a.type,we),bt);K.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){Tt(a,a.return,de)}if(i=a.sibling,i!==null){i.return=a.return,ve=i;break}ve=a.return}return Ce=Ux,Ux=!1,Ce}function Qa(i,a,p){var x=a.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var E=x=x.next;do{if((E.tag&i)===i){var T=E.destroy;E.destroy=void 0,T!==void 0&&cp(a,p,T)}E=E.next}while(E!==x)}}function ac(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var p=a=a.next;do{if((p.tag&i)===i){var x=p.create;p.destroy=x()}p=p.next}while(p!==a)}}function dp(i){var a=i.ref;if(a!==null){var p=i.stateNode;switch(i.tag){case 5:i=p;break;default:i=p}typeof a=="function"?a(i):a.current=i}}function Ox(i){var a=i.alternate;a!==null&&(i.alternate=null,Ox(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Ir],delete a[Ha],delete a[k0],delete a[P2],delete a[I2])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Vx(i){return i.tag===5||i.tag===3||i.tag===4}function $x(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Vx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fp(i,a,p){var x=i.tag;if(x===5||x===6)i=i.stateNode,a?p.nodeType===8?p.parentNode.insertBefore(i,a):p.insertBefore(i,a):(p.nodeType===8?(a=p.parentNode,a.insertBefore(i,p)):(a=p,a.appendChild(i)),p=p._reactRootContainer,p!=null||a.onclick!==null||(a.onclick=Uu));else if(x!==4&&(i=i.child,i!==null))for(fp(i,a,p),i=i.sibling;i!==null;)fp(i,a,p),i=i.sibling}function pp(i,a,p){var x=i.tag;if(x===5||x===6)i=i.stateNode,a?p.insertBefore(i,a):p.appendChild(i);else if(x!==4&&(i=i.child,i!==null))for(pp(i,a,p),i=i.sibling;i!==null;)pp(i,a,p),i=i.sibling}var jt=null,pr=!1;function Uo(i,a,p){for(p=p.child;p!==null;)Hx(i,a,p),p=p.sibling}function Hx(i,a,p){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(_i,p)}catch{}switch(p.tag){case 5:sn||Is(p,a);case 6:var x=jt,E=pr;jt=null,Uo(i,a,p),jt=x,pr=E,jt!==null&&(pr?(i=jt,p=p.stateNode,i.nodeType===8?i.parentNode.removeChild(p):i.removeChild(p)):jt.removeChild(p.stateNode));break;case 18:jt!==null&&(pr?(i=jt,p=p.stateNode,i.nodeType===8?A0(i.parentNode,p):i.nodeType===1&&A0(i,p),Da(i)):A0(jt,p.stateNode));break;case 4:x=jt,E=pr,jt=p.stateNode.containerInfo,pr=!0,Uo(i,a,p),jt=x,pr=E;break;case 0:case 11:case 14:case 15:if(!sn&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){E=x=x.next;do{var T=E,I=T.destroy;T=T.tag,I!==void 0&&((T&2)!==0||(T&4)!==0)&&cp(p,a,I),E=E.next}while(E!==x)}Uo(i,a,p);break;case 1:if(!sn&&(Is(p,a),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(O){Tt(p,a,O)}Uo(i,a,p);break;case 21:Uo(i,a,p);break;case 22:p.mode&1?(sn=(x=sn)||p.memoizedState!==null,Uo(i,a,p),sn=x):Uo(i,a,p);break;default:Uo(i,a,p)}}function zx(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var p=i.stateNode;p===null&&(p=i.stateNode=new W2),a.forEach(function(x){var E=nk.bind(null,i,x);p.has(x)||(p.add(x),x.then(E,E))})}}function hr(i,a){var p=a.deletions;if(p!==null)for(var x=0;x<p.length;x++){var E=p[x];try{var T=i,I=a,O=I;e:for(;O!==null;){switch(O.tag){case 5:jt=O.stateNode,pr=!1;break e;case 3:jt=O.stateNode.containerInfo,pr=!0;break e;case 4:jt=O.stateNode.containerInfo,pr=!0;break e}O=O.return}if(jt===null)throw Error(n(160));Hx(T,I,E),jt=null,pr=!1;var H=E.alternate;H!==null&&(H.return=null),E.return=null}catch(Q){Tt(E,a,Q)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)qx(a,i),a=a.sibling}function qx(i,a){var p=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(hr(a,i),Nr(i),x&4){try{Qa(3,i,i.return),ac(3,i)}catch(we){Tt(i,i.return,we)}try{Qa(5,i,i.return)}catch(we){Tt(i,i.return,we)}}break;case 1:hr(a,i),Nr(i),x&512&&p!==null&&Is(p,p.return);break;case 5:if(hr(a,i),Nr(i),x&512&&p!==null&&Is(p,p.return),i.flags&32){var E=i.stateNode;try{rt(E,"")}catch(we){Tt(i,i.return,we)}}if(x&4&&(E=i.stateNode,E!=null)){var T=i.memoizedProps,I=p!==null?p.memoizedProps:T,O=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{O==="input"&&T.type==="radio"&&T.name!=null&&$t(E,T),Wr(O,I);var Q=Wr(O,T);for(I=0;I<H.length;I+=2){var ie=H[I],se=H[I+1];ie==="style"?Ar(E,se):ie==="dangerouslySetInnerHTML"?Sr(E,se):ie==="children"?rt(E,se):A(E,ie,se,Q)}switch(O){case"input":Qt(E,T);break;case"textarea":In(E,T);break;case"select":var oe=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!T.multiple;var ge=T.value;ge!=null?Xe(E,!!T.multiple,ge,!1):oe!==!!T.multiple&&(T.defaultValue!=null?Xe(E,!!T.multiple,T.defaultValue,!0):Xe(E,!!T.multiple,T.multiple?[]:"",!1))}E[Ha]=T}catch(we){Tt(i,i.return,we)}}break;case 6:if(hr(a,i),Nr(i),x&4){if(i.stateNode===null)throw Error(n(162));E=i.stateNode,T=i.memoizedProps;try{E.nodeValue=T}catch(we){Tt(i,i.return,we)}}break;case 3:if(hr(a,i),Nr(i),x&4&&p!==null&&p.memoizedState.isDehydrated)try{Da(a.containerInfo)}catch(we){Tt(i,i.return,we)}break;case 4:hr(a,i),Nr(i);break;case 13:hr(a,i),Nr(i),E=i.child,E.flags&8192&&(T=E.memoizedState!==null,E.stateNode.isHidden=T,!T||E.alternate!==null&&E.alternate.memoizedState!==null||(gp=Ve())),x&4&&zx(i);break;case 22:if(ie=p!==null&&p.memoizedState!==null,i.mode&1?(sn=(Q=sn)||ie,hr(a,i),sn=Q):hr(a,i),Nr(i),x&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!ie&&(i.mode&1)!==0)for(ve=i,ie=i.child;ie!==null;){for(se=ve=ie;ve!==null;){switch(oe=ve,ge=oe.child,oe.tag){case 0:case 11:case 14:case 15:Qa(4,oe,oe.return);break;case 1:Is(oe,oe.return);var Ce=oe.stateNode;if(typeof Ce.componentWillUnmount=="function"){x=oe,p=oe.return;try{a=x,Ce.props=a.memoizedProps,Ce.state=a.memoizedState,Ce.componentWillUnmount()}catch(we){Tt(x,p,we)}}break;case 5:Is(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Kx(se);continue}}ge!==null?(ge.return=oe,ve=ge):Kx(se)}ie=ie.sibling}e:for(ie=null,se=i;;){if(se.tag===5){if(ie===null){ie=se;try{E=se.stateNode,Q?(T=E.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(O=se.stateNode,H=se.memoizedProps.style,I=H!=null&&H.hasOwnProperty("display")?H.display:null,O.style.display=nr("display",I))}catch(we){Tt(i,i.return,we)}}}else if(se.tag===6){if(ie===null)try{se.stateNode.nodeValue=Q?"":se.memoizedProps}catch(we){Tt(i,i.return,we)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;ie===se&&(ie=null),se=se.return}ie===se&&(ie=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:hr(a,i),Nr(i),x&4&&zx(i);break;case 21:break;default:hr(a,i),Nr(i)}}function Nr(i){var a=i.flags;if(a&2){try{e:{for(var p=i.return;p!==null;){if(Vx(p)){var x=p;break e}p=p.return}throw Error(n(160))}switch(x.tag){case 5:var E=x.stateNode;x.flags&32&&(rt(E,""),x.flags&=-33);var T=$x(i);pp(i,T,E);break;case 3:case 4:var I=x.stateNode.containerInfo,O=$x(i);fp(i,O,I);break;default:throw Error(n(161))}}catch(H){Tt(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Y2(i,a,p){ve=i,Gx(i)}function Gx(i,a,p){for(var x=(i.mode&1)!==0;ve!==null;){var E=ve,T=E.child;if(E.tag===22&&x){var I=E.memoizedState!==null||sc;if(!I){var O=E.alternate,H=O!==null&&O.memoizedState!==null||sn;O=sc;var Q=sn;if(sc=I,(sn=H)&&!Q)for(ve=E;ve!==null;)I=ve,H=I.child,I.tag===22&&I.memoizedState!==null?Yx(E):H!==null?(H.return=I,ve=H):Yx(E);for(;T!==null;)ve=T,Gx(T),T=T.sibling;ve=E,sc=O,sn=Q}Wx(i)}else(E.subtreeFlags&8772)!==0&&T!==null?(T.return=E,ve=T):Wx(i)}}function Wx(i){for(;ve!==null;){var a=ve;if((a.flags&8772)!==0){var p=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:sn||ac(5,a);break;case 1:var x=a.stateNode;if(a.flags&4&&!sn)if(p===null)x.componentDidMount();else{var E=a.elementType===a.type?p.memoizedProps:fr(a.type,p.memoizedProps);x.componentDidUpdate(E,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=a.updateQueue;T!==null&&Ky(a,T,x);break;case 3:var I=a.updateQueue;if(I!==null){if(p=null,a.child!==null)switch(a.child.tag){case 5:p=a.child.stateNode;break;case 1:p=a.child.stateNode}Ky(a,I,p)}break;case 5:var O=a.stateNode;if(p===null&&a.flags&4){p=O;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&p.focus();break;case"img":H.src&&(p.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Q=a.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var se=ie.dehydrated;se!==null&&Da(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}sn||a.flags&512&&dp(a)}catch(oe){Tt(a,a.return,oe)}}if(a===i){ve=null;break}if(p=a.sibling,p!==null){p.return=a.return,ve=p;break}ve=a.return}}function Kx(i){for(;ve!==null;){var a=ve;if(a===i){ve=null;break}var p=a.sibling;if(p!==null){p.return=a.return,ve=p;break}ve=a.return}}function Yx(i){for(;ve!==null;){var a=ve;try{switch(a.tag){case 0:case 11:case 15:var p=a.return;try{ac(4,a)}catch(H){Tt(a,p,H)}break;case 1:var x=a.stateNode;if(typeof x.componentDidMount=="function"){var E=a.return;try{x.componentDidMount()}catch(H){Tt(a,E,H)}}var T=a.return;try{dp(a)}catch(H){Tt(a,T,H)}break;case 5:var I=a.return;try{dp(a)}catch(H){Tt(a,I,H)}}}catch(H){Tt(a,a.return,H)}if(a===i){ve=null;break}var O=a.sibling;if(O!==null){O.return=a.return,ve=O;break}ve=a.return}}var J2=Math.ceil,lc=b.ReactCurrentDispatcher,hp=b.ReactCurrentOwner,jn=b.ReactCurrentBatchConfig,We=0,qt=null,Nt=null,Zt=0,Ln=0,Ds=No(0),Ut=0,el=null,Ii=0,uc=0,mp=0,tl=null,Sn=null,gp=0,Rs=1/0,to=null,cc=!1,yp=null,Oo=null,dc=!1,Vo=null,fc=0,nl=0,xp=null,pc=-1,hc=0;function fn(){return(We&6)!==0?Ve():pc!==-1?pc:pc=Ve()}function $o(i){return(i.mode&1)===0?1:(We&2)!==0&&Zt!==0?Zt&-Zt:R2.transition!==null?(hc===0&&(hc=$g()),hc):(i=Qe,i!==0||(i=window.event,i=i===void 0?16:jg(i.type)),i)}function mr(i,a,p,x){if(50<nl)throw nl=0,xp=null,Error(n(185));Aa(i,p,x),((We&2)===0||i!==qt)&&(i===qt&&((We&2)===0&&(uc|=p),Ut===4&&Ho(i,Zt)),An(i,x),p===1&&We===0&&(a.mode&1)===0&&(Rs=Ve()+500,Hu&&Fo()))}function An(i,a){var p=i.callbackNode;RA(i,a);var x=wu(i,i===qt?Zt:0);if(x===0)p!==null&&le(p),i.callbackNode=null,i.callbackPriority=0;else if(a=x&-x,i.callbackPriority!==a){if(p!=null&&le(p),a===1)i.tag===0?D2(jx.bind(null,i)):Fy(jx.bind(null,i)),k2(function(){(We&6)===0&&Fo()}),p=null;else{switch(Hg(x)){case 1:p=Ht;break;case 4:p=Gn;break;case 16:p=lr;break;case 536870912:p=Rt;break;default:p=lr}p=ov(p,Jx.bind(null,i))}i.callbackPriority=a,i.callbackNode=p}}function Jx(i,a){if(pc=-1,hc=0,(We&6)!==0)throw Error(n(327));var p=i.callbackNode;if(Ns()&&i.callbackNode!==p)return null;var x=wu(i,i===qt?Zt:0);if(x===0)return null;if((x&30)!==0||(x&i.expiredLanes)!==0||a)a=mc(i,x);else{a=x;var E=We;We|=2;var T=Xx();(qt!==i||Zt!==a)&&(to=null,Rs=Ve()+500,Ri(i,a));do try{X2();break}catch(O){Zx(i,O)}while(!0);B0(),lc.current=T,We=E,Nt!==null?a=0:(qt=null,Zt=0,a=Ut)}if(a!==0){if(a===2&&(E=Xf(i),E!==0&&(x=E,a=vp(i,E))),a===1)throw p=el,Ri(i,0),Ho(i,x),An(i,Ve()),p;if(a===6)Ho(i,x);else{if(E=i.current.alternate,(x&30)===0&&!j2(E)&&(a=mc(i,x),a===2&&(T=Xf(i),T!==0&&(x=T,a=vp(i,T))),a===1))throw p=el,Ri(i,0),Ho(i,x),An(i,Ve()),p;switch(i.finishedWork=E,i.finishedLanes=x,a){case 0:case 1:throw Error(n(345));case 2:Ni(i,Sn,to);break;case 3:if(Ho(i,x),(x&130023424)===x&&(a=gp+500-Ve(),10<a)){if(wu(i,0)!==0)break;if(E=i.suspendedLanes,(E&x)!==x){fn(),i.pingedLanes|=i.suspendedLanes&E;break}i.timeoutHandle=S0(Ni.bind(null,i,Sn,to),a);break}Ni(i,Sn,to);break;case 4:if(Ho(i,x),(x&4194240)===x)break;for(a=i.eventTimes,E=-1;0<x;){var I=31-ur(x);T=1<<I,I=a[I],I>E&&(E=I),x&=~T}if(x=E,x=Ve()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*J2(x/1960))-x,10<x){i.timeoutHandle=S0(Ni.bind(null,i,Sn,to),x);break}Ni(i,Sn,to);break;case 5:Ni(i,Sn,to);break;default:throw Error(n(329))}}}return An(i,Ve()),i.callbackNode===p?Jx.bind(null,i):null}function vp(i,a){var p=tl;return i.current.memoizedState.isDehydrated&&(Ri(i,a).flags|=256),i=mc(i,a),i!==2&&(a=Sn,Sn=p,a!==null&&Ep(a)),i}function Ep(i){Sn===null?Sn=i:Sn.push.apply(Sn,i)}function j2(i){for(var a=i;;){if(a.flags&16384){var p=a.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var E=p[x],T=E.getSnapshot;E=E.value;try{if(!cr(T(),E))return!1}catch{return!1}}}if(p=a.child,a.subtreeFlags&16384&&p!==null)p.return=a,a=p;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ho(i,a){for(a&=~mp,a&=~uc,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var p=31-ur(a),x=1<<p;i[p]=-1,a&=~x}}function jx(i){if((We&6)!==0)throw Error(n(327));Ns();var a=wu(i,0);if((a&1)===0)return An(i,Ve()),null;var p=mc(i,a);if(i.tag!==0&&p===2){var x=Xf(i);x!==0&&(a=x,p=vp(i,x))}if(p===1)throw p=el,Ri(i,0),Ho(i,a),An(i,Ve()),p;if(p===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ni(i,Sn,to),An(i,Ve()),null}function Cp(i,a){var p=We;We|=1;try{return i(a)}finally{We=p,We===0&&(Rs=Ve()+500,Hu&&Fo())}}function Di(i){Vo!==null&&Vo.tag===0&&(We&6)===0&&Ns();var a=We;We|=1;var p=jn.transition,x=Qe;try{if(jn.transition=null,Qe=1,i)return i()}finally{Qe=x,jn.transition=p,We=a,(We&6)===0&&Fo()}}function _p(){Ln=Ds.current,ut(Ds)}function Ri(i,a){i.finishedWork=null,i.finishedLanes=0;var p=i.timeoutHandle;if(p!==-1&&(i.timeoutHandle=-1,A2(p)),Nt!==null)for(p=Nt.return;p!==null;){var x=p;switch(D0(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Vu();break;case 3:bs(),ut(_n),ut(nn),q0();break;case 5:H0(x);break;case 4:bs();break;case 13:ut(yt);break;case 19:ut(yt);break;case 10:L0(x.type._context);break;case 22:case 23:_p()}p=p.return}if(qt=i,Nt=i=zo(i.current,null),Zt=Ln=a,Ut=0,el=null,mp=uc=Ii=0,Sn=tl=null,ki!==null){for(a=0;a<ki.length;a++)if(p=ki[a],x=p.interleaved,x!==null){p.interleaved=null;var E=x.next,T=p.pending;if(T!==null){var I=T.next;T.next=E,x.next=I}p.pending=x}ki=null}return i}function Zx(i,a){do{var p=Nt;try{if(B0(),Xu.current=nc,Qu){for(var x=xt.memoizedState;x!==null;){var E=x.queue;E!==null&&(E.pending=null),x=x.next}Qu=!1}if(Pi=0,zt=Lt=xt=null,Ya=!1,Ja=0,hp.current=null,p===null||p.return===null){Ut=1,el=a,Nt=null;break}e:{var T=i,I=p.return,O=p,H=a;if(a=Zt,O.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Q=H,ie=O,se=ie.tag;if((ie.mode&1)===0&&(se===0||se===11||se===15)){var oe=ie.alternate;oe?(ie.updateQueue=oe.updateQueue,ie.memoizedState=oe.memoizedState,ie.lanes=oe.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ge=_x(I);if(ge!==null){ge.flags&=-257,wx(ge,I,O,T,a),ge.mode&1&&Cx(T,Q,a),a=ge,H=Q;var Ce=a.updateQueue;if(Ce===null){var we=new Set;we.add(H),a.updateQueue=we}else Ce.add(H);break e}else{if((a&1)===0){Cx(T,Q,a),wp();break e}H=Error(n(426))}}else if(mt&&O.mode&1){var bt=_x(I);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),wx(bt,I,O,T,a),M0(Ps(H,O));break e}}T=H=Ps(H,O),Ut!==4&&(Ut=2),tl===null?tl=[T]:tl.push(T),T=I;do{switch(T.tag){case 3:T.flags|=65536,a&=-a,T.lanes|=a;var K=vx(T,H,a);Wy(T,K);break e;case 1:O=H;var q=T.type,J=T.stateNode;if((T.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Oo===null||!Oo.has(J)))){T.flags|=65536,a&=-a,T.lanes|=a;var de=Ex(T,O,a);Wy(T,de);break e}}T=T.return}while(T!==null)}ev(p)}catch(Te){a=Te,Nt===p&&p!==null&&(Nt=p=p.return);continue}break}while(!0)}function Xx(){var i=lc.current;return lc.current=nc,i===null?nc:i}function wp(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),qt===null||(Ii&268435455)===0&&(uc&268435455)===0||Ho(qt,Zt)}function mc(i,a){var p=We;We|=2;var x=Xx();(qt!==i||Zt!==a)&&(to=null,Ri(i,a));do try{Z2();break}catch(E){Zx(i,E)}while(!0);if(B0(),We=p,lc.current=x,Nt!==null)throw Error(n(261));return qt=null,Zt=0,Ut}function Z2(){for(;Nt!==null;)Qx(Nt)}function X2(){for(;Nt!==null&&!_e();)Qx(Nt)}function Qx(i){var a=rv(i.alternate,i,Ln);i.memoizedProps=i.pendingProps,a===null?ev(i):Nt=a,hp.current=null}function ev(i){var a=i;do{var p=a.alternate;if(i=a.return,(a.flags&32768)===0){if(p=q2(p,a,Ln),p!==null){Nt=p;return}}else{if(p=G2(p,a),p!==null){p.flags&=32767,Nt=p;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ut=6,Nt=null;return}}if(a=a.sibling,a!==null){Nt=a;return}Nt=a=i}while(a!==null);Ut===0&&(Ut=5)}function Ni(i,a,p){var x=Qe,E=jn.transition;try{jn.transition=null,Qe=1,Q2(i,a,p,x)}finally{jn.transition=E,Qe=x}return null}function Q2(i,a,p,x){do Ns();while(Vo!==null);if((We&6)!==0)throw Error(n(327));p=i.finishedWork;var E=i.finishedLanes;if(p===null)return null;if(i.finishedWork=null,i.finishedLanes=0,p===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var T=p.lanes|p.childLanes;if(NA(i,T),i===qt&&(Nt=qt=null,Zt=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||dc||(dc=!0,ov(lr,function(){return Ns(),null})),T=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||T){T=jn.transition,jn.transition=null;var I=Qe;Qe=1;var O=We;We|=4,hp.current=null,K2(i,p),qx(p,i),v2(w0),Au=!!_0,w0=_0=null,i.current=p,Y2(p),ot(),We=O,Qe=I,jn.transition=T}else i.current=p;if(dc&&(dc=!1,Vo=i,fc=E),T=i.pendingLanes,T===0&&(Oo=null),kA(p.stateNode),An(i,Ve()),a!==null)for(x=i.onRecoverableError,p=0;p<a.length;p++)E=a[p],x(E.value,{componentStack:E.stack,digest:E.digest});if(cc)throw cc=!1,i=yp,yp=null,i;return(fc&1)!==0&&i.tag!==0&&Ns(),T=i.pendingLanes,(T&1)!==0?i===xp?nl++:(nl=0,xp=i):nl=0,Fo(),null}function Ns(){if(Vo!==null){var i=Hg(fc),a=jn.transition,p=Qe;try{if(jn.transition=null,Qe=16>i?16:i,Vo===null)var x=!1;else{if(i=Vo,Vo=null,fc=0,(We&6)!==0)throw Error(n(331));var E=We;for(We|=4,ve=i.current;ve!==null;){var T=ve,I=T.child;if((ve.flags&16)!==0){var O=T.deletions;if(O!==null){for(var H=0;H<O.length;H++){var Q=O[H];for(ve=Q;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:Qa(8,ie,T)}var se=ie.child;if(se!==null)se.return=ie,ve=se;else for(;ve!==null;){ie=ve;var oe=ie.sibling,ge=ie.return;if(Ox(ie),ie===Q){ve=null;break}if(oe!==null){oe.return=ge,ve=oe;break}ve=ge}}}var Ce=T.alternate;if(Ce!==null){var we=Ce.child;if(we!==null){Ce.child=null;do{var bt=we.sibling;we.sibling=null,we=bt}while(we!==null)}}ve=T}}if((T.subtreeFlags&2064)!==0&&I!==null)I.return=T,ve=I;else e:for(;ve!==null;){if(T=ve,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Qa(9,T,T.return)}var K=T.sibling;if(K!==null){K.return=T.return,ve=K;break e}ve=T.return}}var q=i.current;for(ve=q;ve!==null;){I=ve;var J=I.child;if((I.subtreeFlags&2064)!==0&&J!==null)J.return=I,ve=J;else e:for(I=q;ve!==null;){if(O=ve,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:ac(9,O)}}catch(Te){Tt(O,O.return,Te)}if(O===I){ve=null;break e}var de=O.sibling;if(de!==null){de.return=O.return,ve=de;break e}ve=O.return}}if(We=E,Fo(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(_i,i)}catch{}x=!0}return x}finally{Qe=p,jn.transition=a}}return!1}function tv(i,a,p){a=Ps(p,a),a=vx(i,a,1),i=Lo(i,a,1),a=fn(),i!==null&&(Aa(i,1,a),An(i,a))}function Tt(i,a,p){if(i.tag===3)tv(i,i,p);else for(;a!==null;){if(a.tag===3){tv(a,i,p);break}else if(a.tag===1){var x=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Oo===null||!Oo.has(x))){i=Ps(p,i),i=Ex(a,i,1),a=Lo(a,i,1),i=fn(),a!==null&&(Aa(a,1,i),An(a,i));break}}a=a.return}}function ek(i,a,p){var x=i.pingCache;x!==null&&x.delete(a),a=fn(),i.pingedLanes|=i.suspendedLanes&p,qt===i&&(Zt&p)===p&&(Ut===4||Ut===3&&(Zt&130023424)===Zt&&500>Ve()-gp?Ri(i,0):mp|=p),An(i,a)}function nv(i,a){a===0&&((i.mode&1)===0?a=1:(a=_u,_u<<=1,(_u&130023424)===0&&(_u=4194304)));var p=fn();i=Xr(i,a),i!==null&&(Aa(i,a,p),An(i,p))}function tk(i){var a=i.memoizedState,p=0;a!==null&&(p=a.retryLane),nv(i,p)}function nk(i,a){var p=0;switch(i.tag){case 13:var x=i.stateNode,E=i.memoizedState;E!==null&&(p=E.retryLane);break;case 19:x=i.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(a),nv(i,p)}var rv;rv=function(i,a,p){if(i!==null)if(i.memoizedProps!==a.pendingProps||_n.current)Tn=!0;else{if((i.lanes&p)===0&&(a.flags&128)===0)return Tn=!1,z2(i,a,p);Tn=(i.flags&131072)!==0}else Tn=!1,mt&&(a.flags&1048576)!==0&&By(a,qu,a.index);switch(a.lanes=0,a.tag){case 2:var x=a.type;ic(i,a),i=a.pendingProps;var E=Cs(a,nn.current);ks(a,p),E=K0(null,a,x,i,E,p);var T=Y0();return a.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,wn(x)?(T=!0,$u(a)):T=!1,a.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,V0(a),E.updater=rc,a.stateNode=E,E._reactInternals=a,ep(a,x,i,p),a=op(null,a,x,!0,T,p)):(a.tag=0,mt&&T&&I0(a),dn(null,a,E,p),a=a.child),a;case 16:x=a.elementType;e:{switch(ic(i,a),i=a.pendingProps,E=x._init,x=E(x._payload),a.type=x,E=a.tag=ok(x),i=fr(x,i),E){case 0:a=rp(null,a,x,i,p);break e;case 1:a=Px(null,a,x,i,p);break e;case 11:a=Tx(null,a,x,i,p);break e;case 14:a=Sx(null,a,x,fr(x.type,i),p);break e}throw Error(n(306,x,""))}return a;case 0:return x=a.type,E=a.pendingProps,E=a.elementType===x?E:fr(x,E),rp(i,a,x,E,p);case 1:return x=a.type,E=a.pendingProps,E=a.elementType===x?E:fr(x,E),Px(i,a,x,E,p);case 3:e:{if(Ix(a),i===null)throw Error(n(387));x=a.pendingProps,T=a.memoizedState,E=T.element,Gy(i,a),ju(a,x,null,p);var I=a.memoizedState;if(x=I.element,T.isDehydrated)if(T={element:x,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){E=Ps(Error(n(423)),a),a=Dx(i,a,x,p,E);break e}else if(x!==E){E=Ps(Error(n(424)),a),a=Dx(i,a,x,p,E);break e}else for(Bn=Ro(a.stateNode.containerInfo.firstChild),Fn=a,mt=!0,dr=null,p=zy(a,null,x,p),a.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ts(),x===E){a=eo(i,a,p);break e}dn(i,a,x,p)}a=a.child}return a;case 5:return Yy(a),i===null&&N0(a),x=a.type,E=a.pendingProps,T=i!==null?i.memoizedProps:null,I=E.children,T0(x,E)?I=null:T!==null&&T0(x,T)&&(a.flags|=32),bx(i,a),dn(i,a,I,p),a.child;case 6:return i===null&&N0(a),null;case 13:return Rx(i,a,p);case 4:return $0(a,a.stateNode.containerInfo),x=a.pendingProps,i===null?a.child=Ss(a,null,x,p):dn(i,a,x,p),a.child;case 11:return x=a.type,E=a.pendingProps,E=a.elementType===x?E:fr(x,E),Tx(i,a,x,E,p);case 7:return dn(i,a,a.pendingProps,p),a.child;case 8:return dn(i,a,a.pendingProps.children,p),a.child;case 12:return dn(i,a,a.pendingProps.children,p),a.child;case 10:e:{if(x=a.type._context,E=a.pendingProps,T=a.memoizedProps,I=E.value,it(Ku,x._currentValue),x._currentValue=I,T!==null)if(cr(T.value,I)){if(T.children===E.children&&!_n.current){a=eo(i,a,p);break e}}else for(T=a.child,T!==null&&(T.return=a);T!==null;){var O=T.dependencies;if(O!==null){I=T.child;for(var H=O.firstContext;H!==null;){if(H.context===x){if(T.tag===1){H=Qr(-1,p&-p),H.tag=2;var Q=T.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?H.next=H:(H.next=ie.next,ie.next=H),Q.pending=H}}T.lanes|=p,H=T.alternate,H!==null&&(H.lanes|=p),U0(T.return,p,a),O.lanes|=p;break}H=H.next}}else if(T.tag===10)I=T.type===a.type?null:T.child;else if(T.tag===18){if(I=T.return,I===null)throw Error(n(341));I.lanes|=p,O=I.alternate,O!==null&&(O.lanes|=p),U0(I,p,a),I=T.sibling}else I=T.child;if(I!==null)I.return=T;else for(I=T;I!==null;){if(I===a){I=null;break}if(T=I.sibling,T!==null){T.return=I.return,I=T;break}I=I.return}T=I}dn(i,a,E.children,p),a=a.child}return a;case 9:return E=a.type,x=a.pendingProps.children,ks(a,p),E=Yn(E),x=x(E),a.flags|=1,dn(i,a,x,p),a.child;case 14:return x=a.type,E=fr(x,a.pendingProps),E=fr(x.type,E),Sx(i,a,x,E,p);case 15:return Ax(i,a,a.type,a.pendingProps,p);case 17:return x=a.type,E=a.pendingProps,E=a.elementType===x?E:fr(x,E),ic(i,a),a.tag=1,wn(x)?(i=!0,$u(a)):i=!1,ks(a,p),yx(a,x,E),ep(a,x,E,p),op(null,a,x,!0,i,p);case 19:return Mx(i,a,p);case 22:return kx(i,a,p)}throw Error(n(156,a.tag))};function ov(i,a){return z(i,a)}function rk(i,a,p,x){this.tag=i,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(i,a,p,x){return new rk(i,a,p,x)}function Tp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ok(i){if(typeof i=="function")return Tp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===G)return 11;if(i===te)return 14}return 2}function zo(i,a){var p=i.alternate;return p===null?(p=Zn(i.tag,a,i.key,i.mode),p.elementType=i.elementType,p.type=i.type,p.stateNode=i.stateNode,p.alternate=i,i.alternate=p):(p.pendingProps=a,p.type=i.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=i.flags&14680064,p.childLanes=i.childLanes,p.lanes=i.lanes,p.child=i.child,p.memoizedProps=i.memoizedProps,p.memoizedState=i.memoizedState,p.updateQueue=i.updateQueue,a=i.dependencies,p.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},p.sibling=i.sibling,p.index=i.index,p.ref=i.ref,p}function gc(i,a,p,x,E,T){var I=2;if(x=i,typeof i=="function")Tp(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case N:return Mi(p.children,E,T,a);case B:I=8,E|=8;break;case L:return i=Zn(12,p,a,E|2),i.elementType=L,i.lanes=T,i;case W:return i=Zn(13,p,a,E),i.elementType=W,i.lanes=T,i;case X:return i=Zn(19,p,a,E),i.elementType=X,i.lanes=T,i;case ae:return yc(p,E,T,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:I=10;break e;case V:I=9;break e;case G:I=11;break e;case te:I=14;break e;case ne:I=16,x=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Zn(I,p,a,E),a.elementType=i,a.type=x,a.lanes=T,a}function Mi(i,a,p,x){return i=Zn(7,i,x,a),i.lanes=p,i}function yc(i,a,p,x){return i=Zn(22,i,x,a),i.elementType=ae,i.lanes=p,i.stateNode={isHidden:!1},i}function Sp(i,a,p){return i=Zn(6,i,null,a),i.lanes=p,i}function Ap(i,a,p){return a=Zn(4,i.children!==null?i.children:[],i.key,a),a.lanes=p,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function ik(i,a,p,x,E){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=x,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function kp(i,a,p,x,E,T,I,O,H){return i=new ik(i,a,p,O,H),a===1?(a=1,T===!0&&(a|=8)):a=0,T=Zn(3,null,null,a),i.current=T,T.stateNode=i,T.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},V0(T),i}function sk(i,a,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:x==null?null:""+x,children:i,containerInfo:a,implementation:p}}function iv(i){if(!i)return Mo;i=i._reactInternals;e:{if(Pr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(wn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var p=i.type;if(wn(p))return Ny(i,p,a)}return a}function sv(i,a,p,x,E,T,I,O,H){return i=kp(p,x,!0,i,E,T,I,O,H),i.context=iv(null),p=i.current,x=fn(),E=$o(p),T=Qr(x,E),T.callback=a??null,Lo(p,T,E),i.current.lanes=E,Aa(i,E,x),An(i,x),i}function xc(i,a,p,x){var E=a.current,T=fn(),I=$o(E);return p=iv(p),a.context===null?a.context=p:a.pendingContext=p,a=Qr(T,I),a.payload={element:i},x=x===void 0?null:x,x!==null&&(a.callback=x),i=Lo(E,a,I),i!==null&&(mr(i,E,I,T),Ju(i,E,I)),I}function vc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function av(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var p=i.retryLane;i.retryLane=p!==0&&p<a?p:a}}function bp(i,a){av(i,a),(i=i.alternate)&&av(i,a)}function ak(){return null}var lv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Pp(i){this._internalRoot=i}Ec.prototype.render=Pp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));xc(i,a,null,null)},Ec.prototype.unmount=Pp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Di(function(){xc(null,i,null,null)}),a[Yr]=null}};function Ec(i){this._internalRoot=i}Ec.prototype.unstable_scheduleHydration=function(i){if(i){var a=Gg();i={blockedOn:null,target:i,priority:a};for(var p=0;p<Po.length&&a!==0&&a<Po[p].priority;p++);Po.splice(p,0,i),p===0&&Yg(i)}};function Ip(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Cc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function uv(){}function lk(i,a,p,x,E){if(E){if(typeof x=="function"){var T=x;x=function(){var Q=vc(I);T.call(Q)}}var I=sv(a,x,i,0,null,!1,!1,"",uv);return i._reactRootContainer=I,i[Yr]=I.current,Va(i.nodeType===8?i.parentNode:i),Di(),I}for(;E=i.lastChild;)i.removeChild(E);if(typeof x=="function"){var O=x;x=function(){var Q=vc(H);O.call(Q)}}var H=kp(i,0,!1,null,null,!1,!1,"",uv);return i._reactRootContainer=H,i[Yr]=H.current,Va(i.nodeType===8?i.parentNode:i),Di(function(){xc(a,H,p,x)}),H}function _c(i,a,p,x,E){var T=p._reactRootContainer;if(T){var I=T;if(typeof E=="function"){var O=E;E=function(){var H=vc(I);O.call(H)}}xc(a,I,i,E)}else I=lk(p,a,i,E,x);return vc(I)}zg=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var p=Sa(a.pendingLanes);p!==0&&(e0(a,p|1),An(a,Ve()),(We&6)===0&&(Rs=Ve()+500,Fo()))}break;case 13:Di(function(){var x=Xr(i,1);if(x!==null){var E=fn();mr(x,i,1,E)}}),bp(i,1)}},t0=function(i){if(i.tag===13){var a=Xr(i,134217728);if(a!==null){var p=fn();mr(a,i,134217728,p)}bp(i,134217728)}},qg=function(i){if(i.tag===13){var a=$o(i),p=Xr(i,a);if(p!==null){var x=fn();mr(p,i,a,x)}bp(i,a)}},Gg=function(){return Qe},Wg=function(i,a){var p=Qe;try{return Qe=i,a()}finally{Qe=p}},rr=function(i,a,p){switch(a){case"input":if(Qt(i,p),a=p.name,p.type==="radio"&&a!=null){for(p=i;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<p.length;a++){var x=p[a];if(x!==i&&x.form===i.form){var E=Ou(x);if(!E)throw Error(n(90));It(x),Qt(x,E)}}}break;case"textarea":In(i,p);break;case"select":a=p.value,a!=null&&Xe(i,!!p.multiple,a,!1)}},ht=Cp,ir=Di;var uk={usingClientEntryPoint:!1,Events:[za,vs,Ou,us,cs,Cp]},rl={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ck={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Eu(i),i===null?null:i.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{_i=wc.inject(ck),Nn=wc}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uk,kn.createPortal=function(i,a){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ip(a))throw Error(n(200));return sk(i,a,null,p)},kn.createRoot=function(i,a){if(!Ip(i))throw Error(n(299));var p=!1,x="",E=lv;return a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(x=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=kp(i,1,!1,null,null,p,!1,x,E),i[Yr]=a.current,Va(i.nodeType===8?i.parentNode:i),new Pp(a)},kn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Eu(a),i=i===null?null:i.stateNode,i},kn.flushSync=function(i){return Di(i)},kn.hydrate=function(i,a,p){if(!Cc(a))throw Error(n(200));return _c(null,i,a,!0,p)},kn.hydrateRoot=function(i,a,p){if(!Ip(i))throw Error(n(405));var x=p!=null&&p.hydratedSources||null,E=!1,T="",I=lv;if(p!=null&&(p.unstable_strictMode===!0&&(E=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onRecoverableError!==void 0&&(I=p.onRecoverableError)),a=sv(a,null,i,1,p??null,E,!1,T,I),i[Yr]=a.current,Va(i),x)for(i=0;i<x.length;i++)p=x[i],E=p._getVersion,E=E(p._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[p,E]:a.mutableSourceEagerHydrationData.push(p,E);return new Ec(a)},kn.render=function(i,a,p){if(!Cc(a))throw Error(n(200));return _c(null,i,a,!1,p)},kn.unmountComponentAtNode=function(i){if(!Cc(i))throw Error(n(40));return i._reactRootContainer?(Di(function(){_c(null,null,i,!1,function(){i._reactRootContainer=null,i[Yr]=null})}),!0):!1},kn.unstable_batchedUpdates=Cp,kn.unstable_renderSubtreeIntoContainer=function(i,a,p,x){if(!Cc(p))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return _c(i,a,p,!1,x)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var yv;function H_(){if(yv)return Np.exports;yv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Np.exports=Ek(),Np.exports}var xv;function Ck(){if(xv)return Tc;xv=1;var t=H_();return Tc.createRoot=t.createRoot,Tc.hydrateRoot=t.hydrateRoot,Tc}var _k=Ck();const wk=ca(_k),Tk="modulepreload",Sk=function(t){return"/dev_promptstudio/"+t},vv={},na=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=l(n.map(c=>{if(c=Sk(c),c in vv)return;vv[c]=!0;const f=c.endsWith(".css"),y=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${y}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":Tk,f||(m.as="script"),m.crossOrigin="",m.href=c,d&&m.setAttribute("nonce",d),document.head.appendChild(m),f)return new Promise((v,C)=>{m.addEventListener("load",v),m.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return o.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};var Ak={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bk=(t,e)=>{const n=F.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:u,...d},c)=>F.createElement("svg",{ref:c,...Ak,width:o,height:o,stroke:r,strokeWidth:l?Number(s)*24/Number(o):s,className:`lucide lucide-${kk(t)}`,...d},[...e.map(([f,y])=>F.createElement(f,y)),...(Array.isArray(u)?u:[u])||[]]));return n.displayName=`${t}`,n};var Me=bk;const z_=Me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Pk=Me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ik=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Dk=Me("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),Ev=Me("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),Rk=Me("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Hd=Me("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Dm=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Nk=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Mk=Me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Fk=Me("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Bk=Me("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]),Lk=Me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Uk=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ok=Me("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Vk=Me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),q_=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$k=Me("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]),Hk=Me("FileInput",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4",key:"702lig"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]),zk=Me("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),Rm=Me("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),qk=Me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Gk=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),G_=Me("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),W_=Me("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),Wk=Me("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]),Kk=Me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Yk=Me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Nm=Me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Jk=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),jk=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Zk=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Xk=Me("MonitorSmartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]),Qk=Me("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),eb=Me("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),tb=Me("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),nb=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),rb=Me("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),ob=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),ib=Me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),sb=Me("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),ab=Me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),lb=Me("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),da=Me("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),K_=Me("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),ub=Me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),cb=Me("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Rl=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),db={},Cv=t=>{let e;const n=new Set,r=(f,y)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const v=e;e=y??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(C=>C(e,v))}},o=()=>e,d={setState:r,getState:o,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(db?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,o,d);return d},fb=t=>t?Cv(t):Cv;var Bp={exports:{}},Lp={},Up={exports:{}},Op={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function pb(){if(_v)return Op;_v=1;var t=iu();function e(y,m){return y===m&&(y!==0||1/y===1/m)||y!==y&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,o=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(y,m){var v=m(),C=r({inst:{value:v,getSnapshot:m}}),_=C[0].inst,S=C[1];return s(function(){_.value=v,_.getSnapshot=m,d(_)&&S({inst:_})},[y,v,m]),o(function(){return d(_)&&S({inst:_}),y(function(){d(_)&&S({inst:_})})},[y]),l(v),v}function d(y){var m=y.getSnapshot;y=y.value;try{var v=m();return!n(y,v)}catch{return!0}}function c(y,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:u;return Op.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Op}var wv;function hb(){return wv||(wv=1,Up.exports=pb()),Up.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function mb(){if(Tv)return Lp;Tv=1;var t=iu(),e=hb();function n(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Lp.useSyncExternalStoreWithSelector=function(c,f,y,m,v){var C=s(null);if(C.current===null){var _={hasValue:!1,value:null};C.current=_}else _=C.current;C=u(function(){function P(R){if(!w){if(w=!0,A=R,R=m(R),v!==void 0&&_.hasValue){var N=_.value;if(v(N,R))return b=N}return b=R}if(N=b,r(A,R))return N;var B=m(R);return v!==void 0&&v(N,B)?N:(A=R,b=B)}var w=!1,A,b,D=y===void 0?null:y;return[function(){return P(f())},D===null?void 0:function(){return P(D())}]},[f,y,m,v]);var S=o(c,C[0],C[1]);return l(function(){_.hasValue=!0,_.value=S},[S]),d(S),S},Lp}var Sv;function gb(){return Sv||(Sv=1,Bp.exports=mb()),Bp.exports}var yb=gb();const xb=ca(yb),Y_={},{useDebugValue:vb}=Pn,{useSyncExternalStoreWithSelector:Eb}=xb;let Av=!1;const Cb=t=>t;function _b(t,e=Cb,n){(Y_?"production":void 0)!=="production"&&n&&!Av&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Av=!0);const r=Eb(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return vb(r),r}const kv=t=>{(Y_?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?fb(t):t,n=(r,o)=>_b(e,r,o);return Object.assign(n,e),n},tr=t=>t?kv(t):kv,wb={};function J_(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var s;const l=d=>d===null?null:JSON.parse(d,void 0),u=(s=n.getItem(o))!=null?s:null;return u instanceof Promise?u.then(l):l(u)},setItem:(o,s)=>n.setItem(o,JSON.stringify(s,void 0)),removeItem:o=>n.removeItem(o)}}const Nl=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Nl(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Nl(r)(n)}}}},Tb=(t,e)=>(n,r,o)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,P)=>({...P,...S}),...e},l=!1;const u=new Set,d=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...S)},r,o);const f=Nl(s.serialize),y=()=>{const S=s.partialize({...r()});let P;const w=f({state:S,version:s.version}).then(A=>c.setItem(s.name,A)).catch(A=>{P=A});if(P)throw P;return w},m=o.setState;o.setState=(S,P)=>{m(S,P),y()};const v=t((...S)=>{n(...S),y()},r,o);let C;const _=()=>{var S;if(!c)return;l=!1,u.forEach(w=>w(r()));const P=((S=s.onRehydrateStorage)==null?void 0:S.call(s,r()))||void 0;return Nl(c.getItem.bind(c))(s.name).then(w=>{if(w)return s.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var A;return C=s.merge(w,(A=r())!=null?A:v),n(C,!0),y()}).then(()=>{P==null||P(C,void 0),l=!0,d.forEach(w=>w(C))}).catch(w=>{P==null||P(void 0,w)})};return o.persist={setOptions:S=>{s={...s,...S},S.getStorage&&(c=S.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>_(),hasHydrated:()=>l,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(d.add(S),()=>{d.delete(S)})},_(),C||v},Sb=(t,e)=>(n,r,o)=>{let s={storage:J_(()=>localStorage),partialize:_=>_,version:0,merge:(_,S)=>({...S,..._}),...e},l=!1;const u=new Set,d=new Set;let c=s.storage;if(!c)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},r,o);const f=()=>{const _=s.partialize({...r()});return c.setItem(s.name,{state:_,version:s.version})},y=o.setState;o.setState=(_,S)=>{y(_,S),f()};const m=t((..._)=>{n(..._),f()},r,o);o.getInitialState=()=>m;let v;const C=()=>{var _,S;if(!c)return;l=!1,u.forEach(w=>{var A;return w((A=r())!=null?A:m)});const P=((S=s.onRehydrateStorage)==null?void 0:S.call(s,(_=r())!=null?_:m))||void 0;return Nl(c.getItem.bind(c))(s.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var A;return v=s.merge(w,(A=r())!=null?A:m),n(v,!0),f()}).then(()=>{P==null||P(v,void 0),v=r(),l=!0,d.forEach(w=>w(v))}).catch(w=>{P==null||P(void 0,w)})};return o.persist={setOptions:_=>{s={...s,..._},_.storage&&(c=_.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>C(),hasHydrated:()=>l,onHydrate:_=>(u.add(_),()=>{u.delete(_)}),onFinishHydration:_=>(d.add(_),()=>{d.delete(_)})},s.skipHydration||C(),v||m},Ab=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((wb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Tb(t,e)):Sb(t,e),zr=Ab,bv="devprompt-encryption-key";async function j_(){const t=localStorage.getItem(bv);if(t){const r=JSON.parse(t);return await crypto.subtle.importKey("jwk",r,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}const e=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),n=await crypto.subtle.exportKey("jwk",e);return localStorage.setItem(bv,JSON.stringify(n)),e}async function kb(t){const e=await j_(),n=crypto.getRandomValues(new Uint8Array(12)),r=new TextEncoder().encode(t),o=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},e,r),s=new Uint8Array(n.length+o.byteLength);return s.set(n,0),s.set(new Uint8Array(o),n.length),btoa(String.fromCharCode(...s))}async function bb(t){const e=await j_(),n=Uint8Array.from(atob(t),l=>l.charCodeAt(0)),r=n.slice(0,12),o=n.slice(12),s=await crypto.subtle.decrypt({name:"AES-GCM",iv:r},e,o);return new TextDecoder().decode(s)}const Pb=J_(()=>({getItem:async t=>{const e=localStorage.getItem(t);if(!e)return null;try{const n=await bb(e);return JSON.parse(n)}catch{return null}},setItem:async(t,e)=>{const n=JSON.stringify(e),r=await kb(n);localStorage.setItem(t,r)},removeItem:t=>localStorage.removeItem(t)})),Z_=tr()(zr((t,e)=>({keys:{openai:null,gemini:null,claude:null,openrouter:null},setKey:(n,r)=>t(o=>({keys:{...o.keys,[n]:{value:r,status:"unverified",lastVerified:Date.now()}}})),updateKeyStatus:(n,r)=>t(o=>{const s=o.keys[n];return s?{keys:{...o.keys,[n]:{...s,status:r,lastVerified:Date.now()}}}:o}),deleteKey:n=>t(r=>({keys:{...r.keys,[n]:null}})),getKey:n=>{var r;return((r=e().keys[n])==null?void 0:r.value)||null}}),{name:"user-llm-api-keys",storage:Pb,version:1})),Fi={openai:{name:"openai",label:"OpenAI",docsUrl:"https://platform.openai.com/api-keys",placeholder:"sk-..."},gemini:{name:"gemini",label:"Google Gemini",docsUrl:"https://aistudio.google.com/app/apikey",placeholder:"AIza..."},claude:{name:"claude",label:"Anthropic Claude",docsUrl:"https://console.anthropic.com/settings/keys",placeholder:"sk-ant-..."},openrouter:{name:"openrouter",label:"OpenRouter",docsUrl:"https://openrouter.ai/keys",placeholder:"sk-or-..."}},Ib=({provider:t,config:e,value:n,status:r,onSave:o,onDelete:s,onVerify:l})=>{const[u,d]=F.useState(n),[c,f]=F.useState(!1),y=()=>{u.trim()&&(o(t,u.trim()),l(t,u.trim()))},m={verified:k.jsx(Hd,{className:"w-4 h-4 text-green-400"}),invalid:k.jsx(Rl,{className:"w-4 h-4 text-red-400"}),loading:k.jsx(Nm,{className:"w-4 h-4 text-blue-400 animate-spin"}),unverified:null}[r];return k.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4 space-y-3",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("h3",{className:"text-sm font-semibold text-slate-200",children:e.label}),m]}),k.jsxs("a",{href:e.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-1",children:["Get API Key ",k.jsx(Ok,{className:"w-3 h-3"})]})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsxs("div",{className:"flex-1 relative",children:[k.jsx("input",{type:c?"text":"password",value:u,onChange:v=>d(v.target.value),placeholder:e.placeholder,className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 pr-10 text-slate-100 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}),k.jsx("button",{onClick:()=>f(!c),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200",type:"button",children:c?k.jsx(Vk,{className:"w-4 h-4"}):k.jsx(q_,{className:"w-4 h-4"})})]}),k.jsx("button",{onClick:y,disabled:!u.trim()||r==="loading",className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save"}),n&&k.jsx("button",{onClick:()=>s(t),className:"px-4 py-2 bg-red-600/10 hover:bg-red-600/20 text-red-400 text-sm font-medium rounded-lg border border-red-500/30 transition-colors",children:"Delete"})]}),r==="verified"&&k.jsx("p",{className:"text-xs text-green-400",children:" API key verified successfully"}),r==="invalid"&&k.jsx("p",{className:"text-xs text-red-400",children:" Invalid API key. Please check and try again."})]})},X_=new Map,Db=300*1e3,Pv=2e3;let Iv=0;function Q_(t,e){return`${t}:${e.slice(-8)}`}function Rb(t,e){const n=Q_(t,e),r=X_.get(n);return r&&Date.now()-r.timestamp<Db?r.result:null}function Nb(t,e,n){const r=Q_(t,e);X_.set(r,{result:n,timestamp:Date.now()})}async function Af(t,e){const r=Date.now()-Iv;return r<Pv&&await new Promise(o=>setTimeout(o,Pv-r)),Iv=Date.now(),fetch(t,e)}async function Mb(t){try{const e=await Af("https://api.openai.com/v1/models",{headers:{Authorization:`Bearer ${t}`}});return e.status===429?{valid:!1,error:"Rate limited. Please wait a moment.",rateLimited:!0}:{valid:e.ok,error:e.ok?void 0:"Invalid API key"}}catch{return{valid:!1,error:"Network error. Please check your connection."}}}async function Fb(t){try{const e=await Af(`https://generativelanguage.googleapis.com/v1/models?key=${t}`);return e.status===429?{valid:!1,error:"Rate limited. Please wait a moment.",rateLimited:!0}:{valid:e.ok,error:e.ok?void 0:"Invalid API key"}}catch{return{valid:!1,error:"Network error. Please check your connection."}}}async function Bb(t){try{const e=await Af("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":t,"anthropic-version":"2023-06-01","content-type":"application/json"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:1,messages:[{role:"user",content:"test"}]})});if(e.status===429)return{valid:!1,error:"Rate limited. Please wait a moment.",rateLimited:!0};const n=e.status!==401&&e.status!==403;return{valid:n,error:n?void 0:"Invalid API key"}}catch{return{valid:!1,error:"Network error. Please check your connection."}}}async function Lb(t){try{const e=await Af("https://openrouter.ai/api/v1/auth/key",{headers:{Authorization:`Bearer ${t}`}});return e.status===429?{valid:!1,error:"Rate limited. Please wait a moment.",rateLimited:!0}:{valid:e.ok,error:e.ok?void 0:"Invalid API key"}}catch{return{valid:!1,error:"Network error. Please check your connection."}}}async function Ub(t,e){const n=Rb(t,e);if(n!==null)return{valid:n,error:n?void 0:"Invalid API key (cached)"};let r;switch(t){case"openai":r=await Mb(e);break;case"gemini":r=await Fb(e);break;case"claude":r=await Bb(e);break;case"openrouter":r=await Lb(e);break;default:r={valid:!1,error:"Unknown provider"}}return r.rateLimited||Nb(t,e,r.valid),r}let Ob={data:""},Vb=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||Ob},$b=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Hb=/\/\*[^]*?\*\/|  +/g,Dv=/\n+/g,Zo=(t,e)=>{let n="",r="",o="";for(let s in t){let l=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+l+";":r+=s[1]=="f"?Zo(l,s):s+"{"+Zo(l,s[1]=="k"?"":e)+"}":typeof l=="object"?r+=Zo(l,e?e.replace(/([^,])+/g,u=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Zo.p?Zo.p(s,l):s+":"+l+";")}return n+(e&&o?e+"{"+o+"}":o)+r},no={},ew=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+ew(t[n]);return e}return t},zb=(t,e,n,r,o)=>{let s=ew(t),l=no[s]||(no[s]=(d=>{let c=0,f=11;for(;c<d.length;)f=101*f+d.charCodeAt(c++)>>>0;return"go"+f})(s));if(!no[l]){let d=s!==t?t:(c=>{let f,y,m=[{}];for(;f=$b.exec(c.replace(Hb,""));)f[4]?m.shift():f[3]?(y=f[3].replace(Dv," ").trim(),m.unshift(m[0][y]=m[0][y]||{})):m[0][f[1]]=f[2].replace(Dv," ").trim();return m[0]})(t);no[l]=Zo(o?{["@keyframes "+l]:d}:d,n?"":"."+l)}let u=n&&no.g?no.g:null;return n&&(no.g=no[l]),((d,c,f,y)=>{y?c.data=c.data.replace(y,d):c.data.indexOf(d)===-1&&(c.data=f?d+c.data:c.data+d)})(no[l],e,r,u),l},qb=(t,e,n)=>t.reduce((r,o,s)=>{let l=e[s];if(l&&l.call){let u=l(n),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=d?"."+d:u&&typeof u=="object"?u.props?"":Zo(u,""):u===!1?"":u}return r+o+(l??"")},"");function kf(t){let e=this||{},n=t.call?t(e.p):t;return zb(n.unshift?n.raw?qb(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,Vb(e.target),e.g,e.o,e.k)}let tw,Eh,Ch;kf.bind({g:1});let go=kf.bind({k:1});function Gb(t,e,n,r){Zo.p=e,tw=t,Eh=n,Ch=r}function mi(t,e){let n=this||{};return function(){let r=arguments;function o(s,l){let u=Object.assign({},s),d=u.className||o.className;n.p=Object.assign({theme:Eh&&Eh()},u),n.o=/ *go\d+/.test(d),u.className=kf.apply(n,r)+(d?" "+d:"");let c=t;return t[0]&&(c=u.as||t,delete u.as),Ch&&c[0]&&Ch(u),tw(c,u)}return o}}var Wb=t=>typeof t=="function",zd=(t,e)=>Wb(t)?t(e):t,Kb=(()=>{let t=0;return()=>(++t).toString()})(),nw=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Yb=20,Hc=new Map,Jb=1e3,Rv=t=>{if(Hc.has(t))return;let e=setTimeout(()=>{Hc.delete(t),ts({type:4,toastId:t})},Jb);Hc.set(t,e)},jb=t=>{let e=Hc.get(t);e&&clearTimeout(e)},_h=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Yb)};case 1:return e.toast.id&&jb(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?_h(t,{type:1,toast:n}):_h(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?Rv(r):t.toasts.forEach(s=>{Rv(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+o}))}}},zc=[],qc={toasts:[],pausedAt:void 0},ts=t=>{qc=_h(qc,t),zc.forEach(e=>{e(qc)})},Zb={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Xb=(t={})=>{let[e,n]=F.useState(qc);F.useEffect(()=>(zc.push(n),()=>{let o=zc.indexOf(n);o>-1&&zc.splice(o,1)}),[e]);let r=e.toasts.map(o=>{var s,l;return{...t,...t[o.type],...o,duration:o.duration||((s=t[o.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||Zb[o.type],style:{...t.style,...(l=t[o.type])==null?void 0:l.style,...o.style}}});return{...e,toasts:r}},Qb=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Kb()}),su=t=>(e,n)=>{let r=Qb(e,t,n);return ts({type:2,toast:r}),r.id},St=(t,e)=>su("blank")(t,e);St.error=su("error");St.success=su("success");St.loading=su("loading");St.custom=su("custom");St.dismiss=t=>{ts({type:3,toastId:t})};St.remove=t=>ts({type:4,toastId:t});St.promise=(t,e,n)=>{let r=St.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(o=>(St.success(zd(e.success,o),{id:r,...n,...n==null?void 0:n.success}),o)).catch(o=>{St.error(zd(e.error,o),{id:r,...n,...n==null?void 0:n.error})}),t};var eP=(t,e)=>{ts({type:1,toast:{id:t,height:e}})},tP=()=>{ts({type:5,time:Date.now()})},nP=t=>{let{toasts:e,pausedAt:n}=Xb(t);F.useEffect(()=>{if(n)return;let s=Date.now(),l=e.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(s-u.createdAt);if(d<0){u.visible&&St.dismiss(u.id);return}return setTimeout(()=>St.dismiss(u.id),d)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[e,n]);let r=F.useCallback(()=>{n&&ts({type:6,time:Date.now()})},[n]),o=F.useCallback((s,l)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:c}=l||{},f=e.filter(v=>(v.position||c)===(s.position||c)&&v.height),y=f.findIndex(v=>v.id===s.id),m=f.filter((v,C)=>C<y&&v.visible).length;return f.filter(v=>v.visible).slice(...u?[m+1]:[0,m]).reduce((v,C)=>v+(C.height||0)+d,0)},[e]);return{toasts:e,handlers:{updateHeight:eP,startPause:tP,endPause:r,calculateOffset:o}}},rP=go`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oP=go`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iP=go`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,sP=mi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${rP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${iP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,aP=go`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lP=mi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${aP} 1s linear infinite;
`,uP=go`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,cP=go`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,dP=mi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${cP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fP=mi("div")`
  position: absolute;
`,pP=mi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,hP=go`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mP=mi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${hP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gP=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?F.createElement(mP,null,e):e:n==="blank"?null:F.createElement(pP,null,F.createElement(lP,{...r}),n!=="loading"&&F.createElement(fP,null,n==="error"?F.createElement(sP,{...r}):F.createElement(dP,{...r})))},yP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,vP="0%{opacity:0;} 100%{opacity:1;}",EP="0%{opacity:1;} 100%{opacity:0;}",CP=mi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_P=mi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wP=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=nw()?[vP,EP]:[yP(n),xP(n)];return{animation:e?`${go(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${go(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},TP=F.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?wP(t.position||e||"top-center",t.visible):{opacity:0},s=F.createElement(gP,{toast:t}),l=F.createElement(_P,{...t.ariaProps},zd(t.message,t));return F.createElement(CP,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:s,message:l}):F.createElement(F.Fragment,null,s,l))});Gb(F.createElement);var SP=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let s=F.useCallback(l=>{if(l){let u=()=>{let d=l.getBoundingClientRect().height;r(t,d)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return F.createElement("div",{ref:s,className:e,style:n},o)},AP=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:nw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},kP=kf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sc=16,bP=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:s,containerClassName:l})=>{let{toasts:u,handlers:d}=nP(n);return F.createElement("div",{style:{position:"fixed",zIndex:9999,top:Sc,left:Sc,right:Sc,bottom:Sc,pointerEvents:"none",...s},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(c=>{let f=c.position||e,y=d.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),m=AP(f,y);return F.createElement(SP,{id:c.id,key:c.id,onHeightUpdate:d.updateHeight,className:c.visible?kP:"",style:m},c.type==="custom"?zd(c.message,c):o?o(c):F.createElement(TP,{toast:c,position:f}))}))};const hl={background:"#0f172a",color:"#e2e8f0",border:"1px solid #1e293b",padding:"12px 16px",borderRadius:"12px",fontSize:"13px",maxWidth:"400px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(0, 0, 0, 0.3)"},PP=()=>k.jsx(bP,{position:"top-right",toastOptions:{style:hl,duration:4e3,success:{iconTheme:{primary:"#8b5cf6",secondary:"#ffffff"},style:{...hl,borderLeft:"4px solid #8b5cf6"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"},style:{...hl,borderLeft:"4px solid #ef4444",duration:5e3}},loading:{style:{...hl,borderLeft:"4px solid #3b82f6"}}}}),Nv=(t,e)=>{St.custom(n=>k.jsx("div",{className:`${n.visible?"animate-enter":"animate-leave"} max-w-md w-full bg-slate-900 shadow-lg rounded-xl pointer-events-auto flex border border-slate-800 ring-1 ring-black ring-opacity-5 border-l-4 border-l-red-500`,children:k.jsx("div",{className:"flex-1 w-0 p-4",children:k.jsxs("div",{className:"flex items-start",children:[k.jsx("div",{className:"flex-shrink-0 pt-0.5",children:k.jsx(z_,{className:"h-5 w-5 text-red-500"})}),k.jsxs("div",{className:"ml-3 flex-1",children:[k.jsx("p",{className:"text-sm font-medium text-white",children:"Action Failed"}),k.jsx("p",{className:"mt-1 text-sm text-slate-400",children:t}),k.jsxs("div",{className:"mt-3 flex space-x-3",children:[k.jsx("button",{onClick:()=>{St.dismiss(n.id),e()},className:"bg-slate-800 rounded-md text-sm font-medium text-indigo-400 hover:text-indigo-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx(tb,{className:"w-3 h-3"}),"Try Again"]})}),k.jsx("button",{onClick:()=>St.dismiss(n.id),className:"bg-transparent rounded-md text-sm font-medium text-slate-500 hover:text-slate-400 focus:outline-none",children:"Dismiss"})]})]})]})})}),{duration:6e3})},ct=t=>{St.success(t)},zi=t=>{St.error(t)},Mv=t=>{St(t,{icon:"",style:{...hl,borderLeft:"4px solid #64748b"}})},rw=()=>{const{keys:t,setKey:e,updateKeyStatus:n,deleteKey:r}=Z_(),o=(u,d)=>{e(u,d),ct(`${Fi[u].label} API key saved`)},s=async(u,d)=>{n(u,"loading");try{const c=await Ub(u,d);n(u,c.valid?"verified":"invalid"),c.valid?ct(`${Fi[u].label} API key verified`):c.rateLimited?zi("Rate limited. Please wait before verifying again."):zi(c.error||`${Fi[u].label} API key verification failed`)}catch{n(u,"invalid"),zi("Verification failed. Please check your connection.")}},l=u=>{window.confirm(`Delete ${Fi[u].label} API key?`)&&(r(u),ct(`${Fi[u].label} API key deleted`))};return k.jsx("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:k.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[k.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[k.jsx("div",{className:"bg-blue-500/10 p-2 rounded-lg",children:k.jsx(G_,{className:"w-6 h-6 text-blue-400"})}),k.jsxs("div",{children:[k.jsx("h2",{className:"text-xl font-bold text-slate-100",children:"API Key Management"}),k.jsx("p",{className:"text-sm text-slate-400",children:"Manage your LLM provider API keys"})]})]}),k.jsxs("div",{className:"space-y-3 mb-6",children:[k.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 flex gap-3",children:[k.jsx(lb,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),k.jsxs("div",{className:"text-sm text-blue-200",children:[k.jsx("p",{className:"font-medium mb-1",children:"Security Notice"}),k.jsx("p",{className:"text-blue-300/80",children:"Your API keys are encrypted and stored locally in your browser. They never leave your device except when making requests to the respective LLM providers."})]})]}),k.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 flex gap-3",children:[k.jsx("span",{className:"text-amber-400 flex-shrink-0 mt-0.5",children:""}),k.jsxs("div",{className:"text-sm text-amber-200",children:[k.jsx("p",{className:"font-medium mb-1",children:"Rate Limiting"}),k.jsx("p",{className:"text-amber-300/80",children:"Verification requests are rate-limited (2 seconds between checks) and cached for 5 minutes to prevent API quota issues."})]})]})]}),k.jsx("div",{className:"space-y-4",children:Object.keys(Fi).map(u=>{var d,c;return k.jsx(Ib,{provider:u,config:Fi[u],value:((d=t[u])==null?void 0:d.value)||"",status:((c=t[u])==null?void 0:c.status)||"unverified",onSave:o,onDelete:l,onVerify:s},u)})})]})})},IP=Object.freeze(Object.defineProperty({__proto__:null,ApiKeyManager:rw},Symbol.toStringTag,{value:"Module"})),ow=Pn.memo(({onFeedback:t})=>{const[e,n]=F.useState(!1);return k.jsxs(k.Fragment,{children:[k.jsx("header",{className:"border-b border-slate-700 bg-slate-800 backdrop-blur-md sticky top-0 z-50 shadow-sm",role:"banner",children:k.jsxs("div",{className:"max-w-[1920px] mx-auto px-3 sm:px-4 lg:px-6 h-16 flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-600 p-2 rounded-lg shadow-lg",children:k.jsx(K_,{className:"w-6 h-6 text-white","aria-hidden":"true"})}),k.jsxs("div",{children:[k.jsxs("h1",{className:"text-xl font-bold text-slate-100 tracking-tight",id:"app-title",children:["DevPrompt",k.jsx("span",{className:"text-blue-400",children:"Studio"})]}),k.jsx("p",{className:"text-xs text-slate-300 font-medium hidden sm:block",children:"AI-Powered Engineering Assistant"})]})]}),k.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[k.jsxs("div",{className:"hidden md:flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-blue-500/10 border border-blue-500/30 text-blue-400 text-xs font-semibold",role:"status",children:[k.jsx(da,{className:"w-3 h-3","aria-hidden":"true"}),k.jsx("span",{children:"Powered by Gemini 2.5 Flash"})]}),k.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 text-xs font-medium text-slate-300 hover:text-white transition-colors bg-slate-700 hover:bg-slate-600 px-3 py-2 rounded-lg border border-slate-600 hover:border-slate-500 focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 focus:ring-offset-slate-900 outline-none min-h-[44px]","aria-label":"Manage API Keys",title:"Manage API Keys",children:[k.jsx(G_,{className:"w-3.5 h-3.5"}),k.jsx("span",{children:"API Keys"})]}),t&&k.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-xs font-medium text-slate-300 hover:text-white transition-colors bg-slate-700 hover:bg-slate-600 px-3 py-2 rounded-lg border border-slate-600 hover:border-slate-500 focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 focus:ring-offset-slate-900 outline-none","aria-label":"Report a bug or suggest a feature",title:"Report a bug or suggest a feature",children:[k.jsx(Zk,{className:"w-3.5 h-3.5"}),k.jsx("span",{className:"hidden sm:inline",children:"Feedback"})]})]})]})}),e&&k.jsxs("div",{className:"fixed inset-0 z-[100] flex items-start justify-center p-4 overflow-y-auto",role:"dialog","aria-modal":"true",children:[k.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>n(!1)}),k.jsxs("div",{className:"relative bg-slate-900 border border-slate-700 rounded-xl w-full max-w-4xl shadow-2xl my-8 animate-in zoom-in-95 duration-200",children:[k.jsxs("div",{className:"sticky top-0 px-6 py-4 border-b border-slate-700 bg-slate-900 flex items-center justify-between z-10",children:[k.jsx("h2",{className:"text-lg font-semibold text-white",children:"API Key Management"}),k.jsx("button",{onClick:()=>n(!1),className:"text-slate-400 hover:text-white transition-colors focus:ring-2 focus:ring-blue-500 rounded-lg p-2 min-w-[44px] min-h-[44px] flex items-center justify-center bg-slate-800 hover:bg-slate-700","aria-label":"Close",children:k.jsx(Rl,{className:"w-5 h-5"})})]}),k.jsx(rw,{})]})]})]})});ow.displayName="Header";function Vt(){return Vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vt.apply(null,arguments)}function io(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function DP(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function iw(...t){return e=>t.forEach(n=>DP(n,e))}function fa(...t){return F.useCallback(iw(...t),t)}function sw(t,e=[]){let n=[];function r(s,l){const u=F.createContext(l),d=n.length;n=[...n,l];function c(y){const{scope:m,children:v,...C}=y,_=(m==null?void 0:m[t][d])||u,S=F.useMemo(()=>C,Object.values(C));return F.createElement(_.Provider,{value:S},v)}function f(y,m){const v=(m==null?void 0:m[t][d])||u,C=F.useContext(v);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,f]}const o=()=>{const s=n.map(l=>F.createContext(l));return function(u){const d=(u==null?void 0:u[t])||s;return F.useMemo(()=>({[`__scope${t}`]:{...u,[t]:d}}),[u,d])}};return o.scopeName=t,[r,RP(o,...e)]}function RP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const l=r.reduce((u,{useScope:d,scopeName:c})=>{const y=d(s)[`__scope${c}`];return{...u,...y}},{});return F.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var bf=H_();const NP=ca(bf),aw=F.forwardRef((t,e)=>{const{children:n,...r}=t,o=F.Children.toArray(n),s=o.find(MP);if(s){const l=s.props.children,u=o.map(d=>d===s?F.Children.count(l)>1?F.Children.only(null):F.isValidElement(l)?l.props.children:null:d);return F.createElement(wh,Vt({},r,{ref:e}),F.isValidElement(l)?F.cloneElement(l,void 0,u):null)}return F.createElement(wh,Vt({},r,{ref:e}),n)});aw.displayName="Slot";const wh=F.forwardRef((t,e)=>{const{children:n,...r}=t;return F.isValidElement(n)?F.cloneElement(n,{...FP(r,n.props),ref:e?iw(e,n.ref):n.ref}):F.Children.count(n)>1?F.Children.only(null):null});wh.displayName="SlotClone";const lw=({children:t})=>F.createElement(F.Fragment,null,t);function MP(t){return F.isValidElement(t)&&t.type===lw}function FP(t,e){const n={...e};for(const r in e){const o=t[r],s=e[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...u)=>{s(...u),o(...u)}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...t,...n}}const BP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ns=BP.reduce((t,e)=>{const n=F.forwardRef((r,o)=>{const{asChild:s,...l}=r,u=s?aw:e;return F.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),F.createElement(u,Vt({},l,{ref:o}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function LP(t,e){t&&bf.flushSync(()=>t.dispatchEvent(e))}function pa(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t}),F.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function UP(t,e=globalThis==null?void 0:globalThis.document){const n=pa(t);F.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Th="dismissableLayer.update",OP="dismissableLayer.pointerDownOutside",VP="dismissableLayer.focusOutside";let Fv;const $P=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HP=F.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:l,onInteractOutside:u,onDismiss:d,...c}=t,f=F.useContext($P),[y,m]=F.useState(null),v=(n=y==null?void 0:y.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,C]=F.useState({}),_=fa(e,B=>m(B)),S=Array.from(f.layers),[P]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=S.indexOf(P),A=y?S.indexOf(y):-1,b=f.layersWithOutsidePointerEventsDisabled.size>0,D=A>=w,R=zP(B=>{const L=B.target,U=[...f.branches].some(V=>V.contains(L));!D||U||(s==null||s(B),u==null||u(B),B.defaultPrevented||d==null||d())},v),N=qP(B=>{const L=B.target;[...f.branches].some(V=>V.contains(L))||(l==null||l(B),u==null||u(B),B.defaultPrevented||d==null||d())},v);return UP(B=>{A===f.layers.size-1&&(o==null||o(B),!B.defaultPrevented&&d&&(B.preventDefault(),d()))},v),F.useEffect(()=>{if(y)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Fv=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(y)),f.layers.add(y),Bv(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Fv)}},[y,v,r,f]),F.useEffect(()=>()=>{y&&(f.layers.delete(y),f.layersWithOutsidePointerEventsDisabled.delete(y),Bv())},[y,f]),F.useEffect(()=>{const B=()=>C({});return document.addEventListener(Th,B),()=>document.removeEventListener(Th,B)},[]),F.createElement(ns.div,Vt({},c,{ref:_,style:{pointerEvents:b?D?"auto":"none":void 0,...t.style},onFocusCapture:io(t.onFocusCapture,N.onFocusCapture),onBlurCapture:io(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:io(t.onPointerDownCapture,R.onPointerDownCapture)}))});function zP(t,e=globalThis==null?void 0:globalThis.document){const n=pa(t),r=F.useRef(!1),o=F.useRef(()=>{});return F.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let c=function(){uw(OP,n,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=c,e.addEventListener("click",o.current,{once:!0})):c()}else e.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",s),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function qP(t,e=globalThis==null?void 0:globalThis.document){const n=pa(t),r=F.useRef(!1);return F.useEffect(()=>{const o=s=>{s.target&&!r.current&&uw(VP,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Bv(){const t=new CustomEvent(Th);document.dispatchEvent(t)}function uw(t,e,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?LP(o,s):o.dispatchEvent(s)}const ra=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},GP=yk.useId||(()=>{});let WP=0;function KP(t){const[e,n]=F.useState(GP());return ra(()=>{n(r=>r??String(WP++))},[t]),e?`radix-${e}`:""}const YP=["top","right","bottom","left"],ri=Math.min,On=Math.max,qd=Math.round,Ac=Math.floor,Ur=t=>({x:t,y:t}),JP={left:"right",right:"left",bottom:"top",top:"bottom"},jP={start:"end",end:"start"};function Sh(t,e,n){return On(t,ri(e,n))}function yo(t,e){return typeof t=="function"?t(e):t}function xo(t){return t.split("-")[0]}function ha(t){return t.split("-")[1]}function Mm(t){return t==="x"?"y":"x"}function Fm(t){return t==="y"?"height":"width"}const ZP=new Set(["top","bottom"]);function Lr(t){return ZP.has(xo(t))?"y":"x"}function Bm(t){return Mm(Lr(t))}function XP(t,e,n){n===void 0&&(n=!1);const r=ha(t),o=Bm(t),s=Fm(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=Gd(l)),[l,Gd(l)]}function QP(t){const e=Gd(t);return[Ah(t),e,Ah(e)]}function Ah(t){return t.replace(/start|end/g,e=>jP[e])}const Lv=["left","right"],Uv=["right","left"],eI=["top","bottom"],tI=["bottom","top"];function nI(t,e,n){switch(t){case"top":case"bottom":return n?e?Uv:Lv:e?Lv:Uv;case"left":case"right":return e?eI:tI;default:return[]}}function rI(t,e,n,r){const o=ha(t);let s=nI(xo(t),n==="start",r);return o&&(s=s.map(l=>l+"-"+o),e&&(s=s.concat(s.map(Ah)))),s}function Gd(t){return t.replace(/left|right|bottom|top/g,e=>JP[e])}function oI(t){return{top:0,right:0,bottom:0,left:0,...t}}function cw(t){return typeof t!="number"?oI(t):{top:t,right:t,bottom:t,left:t}}function Wd(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function Ov(t,e,n){let{reference:r,floating:o}=t;const s=Lr(e),l=Bm(e),u=Fm(l),d=xo(e),c=s==="y",f=r.x+r.width/2-o.width/2,y=r.y+r.height/2-o.height/2,m=r[u]/2-o[u]/2;let v;switch(d){case"top":v={x:f,y:r.y-o.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y};break;case"left":v={x:r.x-o.width,y};break;default:v={x:r.x,y:r.y}}switch(ha(e)){case"start":v[l]-=m*(n&&c?-1:1);break;case"end":v[l]+=m*(n&&c?-1:1);break}return v}const iI=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:l}=n,u=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let c=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:f,y}=Ov(c,r,d),m=r,v={},C=0;for(let _=0;_<u.length;_++){const{name:S,fn:P}=u[_],{x:w,y:A,data:b,reset:D}=await P({x:f,y,initialPlacement:r,placement:m,strategy:o,middlewareData:v,rects:c,platform:l,elements:{reference:t,floating:e}});f=w??f,y=A??y,v={...v,[S]:{...v[S],...b}},D&&C<=50&&(C++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(c=D.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:o}):D.rects),{x:f,y}=Ov(c,m,d)),_=-1)}return{x:f,y,placement:m,strategy:o,middlewareData:v}};async function Ml(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:s,rects:l,elements:u,strategy:d}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:y="floating",altBoundary:m=!1,padding:v=0}=yo(e,t),C=cw(v),S=u[m?y==="floating"?"reference":"floating":y],P=Wd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:c,rootBoundary:f,strategy:d})),w=y==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),b=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},D=Wd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:w,offsetParent:A,strategy:d}):w);return{top:(P.top-D.top+C.top)/b.y,bottom:(D.bottom-P.bottom+C.bottom)/b.y,left:(P.left-D.left+C.left)/b.x,right:(D.right-P.right+C.right)/b.x}}const sI=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:s,platform:l,elements:u,middlewareData:d}=e,{element:c,padding:f=0}=yo(t,e)||{};if(c==null)return{};const y=cw(f),m={x:n,y:r},v=Bm(o),C=Fm(v),_=await l.getDimensions(c),S=v==="y",P=S?"top":"left",w=S?"bottom":"right",A=S?"clientHeight":"clientWidth",b=s.reference[C]+s.reference[v]-m[v]-s.floating[C],D=m[v]-s.reference[v],R=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c));let N=R?R[A]:0;(!N||!await(l.isElement==null?void 0:l.isElement(R)))&&(N=u.floating[A]||s.floating[C]);const B=b/2-D/2,L=N/2-_[C]/2-1,U=ri(y[P],L),V=ri(y[w],L),G=U,W=N-_[C]-V,X=N/2-_[C]/2+B,te=Sh(G,X,W),ne=!d.arrow&&ha(o)!=null&&X!==te&&s.reference[C]/2-(X<G?U:V)-_[C]/2<0,ae=ne?X<G?X-G:X-W:0;return{[v]:m[v]+ae,data:{[v]:te,centerOffset:X-te-ae,...ne&&{alignmentOffset:ae}},reset:ne}}}),aI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:s,rects:l,initialPlacement:u,platform:d,elements:c}=e,{mainAxis:f=!0,crossAxis:y=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:_=!0,...S}=yo(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const P=xo(o),w=Lr(u),A=xo(u)===u,b=await(d.isRTL==null?void 0:d.isRTL(c.floating)),D=m||(A||!_?[Gd(u)]:QP(u)),R=C!=="none";!m&&R&&D.push(...rI(u,_,C,b));const N=[u,...D],B=await Ml(e,S),L=[];let U=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&L.push(B[P]),y){const X=XP(o,l,b);L.push(B[X[0]],B[X[1]])}if(U=[...U,{placement:o,overflows:L}],!L.every(X=>X<=0)){var V,G;const X=(((V=s.flip)==null?void 0:V.index)||0)+1,te=N[X];if(te&&(!(y==="alignment"?w!==Lr(te):!1)||U.every(j=>Lr(j.placement)===w?j.overflows[0]>0:!0)))return{data:{index:X,overflows:U},reset:{placement:te}};let ne=(G=U.filter(ae=>ae.overflows[0]<=0).sort((ae,j)=>ae.overflows[1]-j.overflows[1])[0])==null?void 0:G.placement;if(!ne)switch(v){case"bestFit":{var W;const ae=(W=U.filter(j=>{if(R){const re=Lr(j.placement);return re===w||re==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(re=>re>0).reduce((re,ee)=>re+ee,0)]).sort((j,re)=>j[1]-re[1])[0])==null?void 0:W[0];ae&&(ne=ae);break}case"initialPlacement":ne=u;break}if(o!==ne)return{reset:{placement:ne}}}return{}}}};function Vv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $v(t){return YP.some(e=>t[e]>=0)}const lI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=yo(t,e);switch(r){case"referenceHidden":{const s=await Ml(e,{...o,elementContext:"reference"}),l=Vv(s,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:$v(l)}}}case"escaped":{const s=await Ml(e,{...o,altBoundary:!0}),l=Vv(s,n.floating);return{data:{escapedOffsets:l,escaped:$v(l)}}}default:return{}}}}},dw=new Set(["left","top"]);async function uI(t,e){const{placement:n,platform:r,elements:o}=t,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=xo(n),u=ha(n),d=Lr(n)==="y",c=dw.has(l)?-1:1,f=s&&d?-1:1,y=yo(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof C=="number"&&(v=u==="end"?C*-1:C),d?{x:v*f,y:m*c}:{x:m*c,y:v*f}}const cI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:s,placement:l,middlewareData:u}=e,d=await uI(e,t);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+d.x,y:s+d.y,data:{...d,placement:l}}}}},dI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:s=!0,crossAxis:l=!1,limiter:u={fn:S=>{let{x:P,y:w}=S;return{x:P,y:w}}},...d}=yo(t,e),c={x:n,y:r},f=await Ml(e,d),y=Lr(xo(o)),m=Mm(y);let v=c[m],C=c[y];if(s){const S=m==="y"?"top":"left",P=m==="y"?"bottom":"right",w=v+f[S],A=v-f[P];v=Sh(w,v,A)}if(l){const S=y==="y"?"top":"left",P=y==="y"?"bottom":"right",w=C+f[S],A=C-f[P];C=Sh(w,C,A)}const _=u.fn({...e,[m]:v,[y]:C});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:s,[y]:l}}}}}},fI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:s,middlewareData:l}=e,{offset:u=0,mainAxis:d=!0,crossAxis:c=!0}=yo(t,e),f={x:n,y:r},y=Lr(o),m=Mm(y);let v=f[m],C=f[y];const _=yo(u,e),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(d){const A=m==="y"?"height":"width",b=s.reference[m]-s.floating[A]+S.mainAxis,D=s.reference[m]+s.reference[A]-S.mainAxis;v<b?v=b:v>D&&(v=D)}if(c){var P,w;const A=m==="y"?"width":"height",b=dw.has(xo(o)),D=s.reference[y]-s.floating[A]+(b&&((P=l.offset)==null?void 0:P[y])||0)+(b?0:S.crossAxis),R=s.reference[y]+s.reference[A]+(b?0:((w=l.offset)==null?void 0:w[y])||0)-(b?S.crossAxis:0);C<D?C=D:C>R&&(C=R)}return{[m]:v,[y]:C}}}},pI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:s,platform:l,elements:u}=e,{apply:d=()=>{},...c}=yo(t,e),f=await Ml(e,c),y=xo(o),m=ha(o),v=Lr(o)==="y",{width:C,height:_}=s.floating;let S,P;y==="top"||y==="bottom"?(S=y,P=m===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(P=y,S=m==="end"?"top":"bottom");const w=_-f.top-f.bottom,A=C-f.left-f.right,b=ri(_-f[S],w),D=ri(C-f[P],A),R=!e.middlewareData.shift;let N=b,B=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(B=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=w),R&&!m){const U=On(f.left,0),V=On(f.right,0),G=On(f.top,0),W=On(f.bottom,0);v?B=C-2*(U!==0||V!==0?U+V:On(f.left,f.right)):N=_-2*(G!==0||W!==0?G+W:On(f.top,f.bottom))}await d({...e,availableWidth:B,availableHeight:N});const L=await l.getDimensions(u.floating);return C!==L.width||_!==L.height?{reset:{rects:!0}}:{}}}};function Pf(){return typeof window<"u"}function ma(t){return fw(t)?(t.nodeName||"").toLowerCase():"#document"}function Vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qr(t){var e;return(e=(fw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fw(t){return Pf()?t instanceof Node||t instanceof Vn(t).Node:!1}function Cr(t){return Pf()?t instanceof Element||t instanceof Vn(t).Element:!1}function Vr(t){return Pf()?t instanceof HTMLElement||t instanceof Vn(t).HTMLElement:!1}function Hv(t){return!Pf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vn(t).ShadowRoot}const hI=new Set(["inline","contents"]);function au(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=_r(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!hI.has(o)}const mI=new Set(["table","td","th"]);function gI(t){return mI.has(ma(t))}const yI=[":popover-open",":modal"];function If(t){return yI.some(e=>{try{return t.matches(e)}catch{return!1}})}const xI=["transform","translate","scale","rotate","perspective"],vI=["transform","translate","scale","rotate","perspective","filter"],EI=["paint","layout","strict","content"];function Lm(t){const e=Um(),n=Cr(t)?_r(t):t;return xI.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||vI.some(r=>(n.willChange||"").includes(r))||EI.some(r=>(n.contain||"").includes(r))}function CI(t){let e=oi(t);for(;Vr(e)&&!oa(e);){if(Lm(e))return e;if(If(e))return null;e=oi(e)}return null}function Um(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _I=new Set(["html","body","#document"]);function oa(t){return _I.has(ma(t))}function _r(t){return Vn(t).getComputedStyle(t)}function Df(t){return Cr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oi(t){if(ma(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Hv(t)&&t.host||qr(t);return Hv(e)?e.host:e}function pw(t){const e=oi(t);return oa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vr(e)&&au(e)?e:pw(e)}function Fl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=pw(t),s=o===((r=t.ownerDocument)==null?void 0:r.body),l=Vn(o);if(s){const u=kh(l);return e.concat(l,l.visualViewport||[],au(o)?o:[],u&&n?Fl(u):[])}return e.concat(o,Fl(o,[],n))}function kh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hw(t){const e=_r(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Vr(t),s=o?t.offsetWidth:n,l=o?t.offsetHeight:r,u=qd(n)!==s||qd(r)!==l;return u&&(n=s,r=l),{width:n,height:r,$:u}}function Om(t){return Cr(t)?t:t.contextElement}function Ks(t){const e=Om(t);if(!Vr(e))return Ur(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:s}=hw(e);let l=(s?qd(n.width):n.width)/r,u=(s?qd(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const wI=Ur(0);function mw(t){const e=Vn(t);return!Um()||!e.visualViewport?wI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TI(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vn(t)?!1:e}function Ji(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),s=Om(t);let l=Ur(1);e&&(r?Cr(r)&&(l=Ks(r)):l=Ks(t));const u=TI(s,n,r)?mw(s):Ur(0);let d=(o.left+u.x)/l.x,c=(o.top+u.y)/l.y,f=o.width/l.x,y=o.height/l.y;if(s){const m=Vn(s),v=r&&Cr(r)?Vn(r):r;let C=m,_=kh(C);for(;_&&r&&v!==C;){const S=Ks(_),P=_.getBoundingClientRect(),w=_r(_),A=P.left+(_.clientLeft+parseFloat(w.paddingLeft))*S.x,b=P.top+(_.clientTop+parseFloat(w.paddingTop))*S.y;d*=S.x,c*=S.y,f*=S.x,y*=S.y,d+=A,c+=b,C=Vn(_),_=kh(C)}}return Wd({width:f,height:y,x:d,y:c})}function Rf(t,e){const n=Df(t).scrollLeft;return e?e.left+n:Ji(qr(t)).left+n}function gw(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Rf(t,n),o=n.top+e.scrollTop;return{x:r,y:o}}function SI(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const s=o==="fixed",l=qr(r),u=e?If(e.floating):!1;if(r===l||u&&s)return n;let d={scrollLeft:0,scrollTop:0},c=Ur(1);const f=Ur(0),y=Vr(r);if((y||!y&&!s)&&((ma(r)!=="body"||au(l))&&(d=Df(r)),Vr(r))){const v=Ji(r);c=Ks(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const m=l&&!y&&!s?gw(l,d):Ur(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-d.scrollLeft*c.x+f.x+m.x,y:n.y*c.y-d.scrollTop*c.y+f.y+m.y}}function AI(t){return Array.from(t.getClientRects())}function kI(t){const e=qr(t),n=Df(t),r=t.ownerDocument.body,o=On(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=On(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Rf(t);const u=-n.scrollTop;return _r(r).direction==="rtl"&&(l+=On(e.clientWidth,r.clientWidth)-o),{width:o,height:s,x:l,y:u}}const zv=25;function bI(t,e){const n=Vn(t),r=qr(t),o=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,u=0,d=0;if(o){s=o.width,l=o.height;const f=Um();(!f||f&&e==="fixed")&&(u=o.offsetLeft,d=o.offsetTop)}const c=Rf(r);if(c<=0){const f=r.ownerDocument,y=f.body,m=getComputedStyle(y),v=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,C=Math.abs(r.clientWidth-y.clientWidth-v);C<=zv&&(s-=C)}else c<=zv&&(s+=c);return{width:s,height:l,x:u,y:d}}const PI=new Set(["absolute","fixed"]);function II(t,e){const n=Ji(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,s=Vr(t)?Ks(t):Ur(1),l=t.clientWidth*s.x,u=t.clientHeight*s.y,d=o*s.x,c=r*s.y;return{width:l,height:u,x:d,y:c}}function qv(t,e,n){let r;if(e==="viewport")r=bI(t,n);else if(e==="document")r=kI(qr(t));else if(Cr(e))r=II(e,n);else{const o=mw(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Wd(r)}function yw(t,e){const n=oi(t);return n===e||!Cr(n)||oa(n)?!1:_r(n).position==="fixed"||yw(n,e)}function DI(t,e){const n=e.get(t);if(n)return n;let r=Fl(t,[],!1).filter(u=>Cr(u)&&ma(u)!=="body"),o=null;const s=_r(t).position==="fixed";let l=s?oi(t):t;for(;Cr(l)&&!oa(l);){const u=_r(l),d=Lm(l);!d&&u.position==="fixed"&&(o=null),(s?!d&&!o:!d&&u.position==="static"&&!!o&&PI.has(o.position)||au(l)&&!d&&yw(t,l))?r=r.filter(f=>f!==l):o=u,l=oi(l)}return e.set(t,r),r}function RI(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const l=[...n==="clippingAncestors"?If(e)?[]:DI(e,this._c):[].concat(n),r],u=l[0],d=l.reduce((c,f)=>{const y=qv(e,f,o);return c.top=On(y.top,c.top),c.right=ri(y.right,c.right),c.bottom=ri(y.bottom,c.bottom),c.left=On(y.left,c.left),c},qv(e,u,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function NI(t){const{width:e,height:n}=hw(t);return{width:e,height:n}}function MI(t,e,n){const r=Vr(e),o=qr(e),s=n==="fixed",l=Ji(t,!0,s,e);let u={scrollLeft:0,scrollTop:0};const d=Ur(0);function c(){d.x=Rf(o)}if(r||!r&&!s)if((ma(e)!=="body"||au(o))&&(u=Df(e)),r){const v=Ji(e,!0,s,e);d.x=v.x+e.clientLeft,d.y=v.y+e.clientTop}else o&&c();s&&!r&&o&&c();const f=o&&!r&&!s?gw(o,u):Ur(0),y=l.left+u.scrollLeft-d.x-f.x,m=l.top+u.scrollTop-d.y-f.y;return{x:y,y:m,width:l.width,height:l.height}}function Vp(t){return _r(t).position==="static"}function Gv(t,e){if(!Vr(t)||_r(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qr(t)===n&&(n=n.ownerDocument.body),n}function xw(t,e){const n=Vn(t);if(If(t))return n;if(!Vr(t)){let o=oi(t);for(;o&&!oa(o);){if(Cr(o)&&!Vp(o))return o;o=oi(o)}return n}let r=Gv(t,e);for(;r&&gI(r)&&Vp(r);)r=Gv(r,e);return r&&oa(r)&&Vp(r)&&!Lm(r)?n:r||CI(t)||n}const FI=async function(t){const e=this.getOffsetParent||xw,n=this.getDimensions,r=await n(t.floating);return{reference:MI(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BI(t){return _r(t).direction==="rtl"}const LI={convertOffsetParentRelativeRectToViewportRelativeRect:SI,getDocumentElement:qr,getClippingRect:RI,getOffsetParent:xw,getElementRects:FI,getClientRects:AI,getDimensions:NI,getScale:Ks,isElement:Cr,isRTL:BI};function vw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function UI(t,e){let n=null,r;const o=qr(t);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const c=t.getBoundingClientRect(),{left:f,top:y,width:m,height:v}=c;if(u||e(),!m||!v)return;const C=Ac(y),_=Ac(o.clientWidth-(f+m)),S=Ac(o.clientHeight-(y+v)),P=Ac(f),A={rootMargin:-C+"px "+-_+"px "+-S+"px "+-P+"px",threshold:On(0,ri(1,d))||1};let b=!0;function D(R){const N=R[0].intersectionRatio;if(N!==d){if(!b)return l();N?l(!1,N):r=setTimeout(()=>{l(!1,1e-7)},1e3)}N===1&&!vw(c,t.getBoundingClientRect())&&l(),b=!1}try{n=new IntersectionObserver(D,{...A,root:o.ownerDocument})}catch{n=new IntersectionObserver(D,A)}n.observe(t)}return l(!0),s}function OI(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,c=Om(t),f=o||s?[...c?Fl(c):[],...Fl(e)]:[];f.forEach(P=>{o&&P.addEventListener("scroll",n,{passive:!0}),s&&P.addEventListener("resize",n)});const y=c&&u?UI(c,n):null;let m=-1,v=null;l&&(v=new ResizeObserver(P=>{let[w]=P;w&&w.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=v)==null||A.observe(e)})),n()}),c&&!d&&v.observe(c),v.observe(e));let C,_=d?Ji(t):null;d&&S();function S(){const P=Ji(t);_&&!vw(_,P)&&n(),_=P,C=requestAnimationFrame(S)}return n(),()=>{var P;f.forEach(w=>{o&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),y==null||y(),(P=v)==null||P.disconnect(),v=null,d&&cancelAnimationFrame(C)}}const VI=cI,$I=dI,HI=aI,zI=pI,qI=lI,Wv=sI,GI=fI,WI=(t,e,n)=>{const r=new Map,o={platform:LI,...n},s={...o.platform,_c:r};return iI(t,e,{...o,platform:s})};var KI=typeof document<"u",YI=function(){},Gc=KI?F.useLayoutEffect:YI;function Kd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kd(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&t.$$typeof)&&!Kd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Ew(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Kv(t,e){const n=Ew(t);return Math.round(e*n)/n}function $p(t){const e=F.useRef(t);return Gc(()=>{e.current=t}),e}function JI(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:d,open:c}=t,[f,y]=F.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=F.useState(r);Kd(m,r)||v(r);const[C,_]=F.useState(null),[S,P]=F.useState(null),w=F.useCallback(j=>{j!==R.current&&(R.current=j,_(j))},[]),A=F.useCallback(j=>{j!==N.current&&(N.current=j,P(j))},[]),b=s||C,D=l||S,R=F.useRef(null),N=F.useRef(null),B=F.useRef(f),L=d!=null,U=$p(d),V=$p(o),G=$p(c),W=F.useCallback(()=>{if(!R.current||!N.current)return;const j={placement:e,strategy:n,middleware:m};V.current&&(j.platform=V.current),WI(R.current,N.current,j).then(re=>{const ee={...re,isPositioned:G.current!==!1};X.current&&!Kd(B.current,ee)&&(B.current=ee,bf.flushSync(()=>{y(ee)}))})},[m,e,n,V,G]);Gc(()=>{c===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,y(j=>({...j,isPositioned:!1})))},[c]);const X=F.useRef(!1);Gc(()=>(X.current=!0,()=>{X.current=!1}),[]),Gc(()=>{if(b&&(R.current=b),D&&(N.current=D),b&&D){if(U.current)return U.current(b,D,W);W()}},[b,D,W,U,L]);const te=F.useMemo(()=>({reference:R,floating:N,setReference:w,setFloating:A}),[w,A]),ne=F.useMemo(()=>({reference:b,floating:D}),[b,D]),ae=F.useMemo(()=>{const j={position:n,left:0,top:0};if(!ne.floating)return j;const re=Kv(ne.floating,f.x),ee=Kv(ne.floating,f.y);return u?{...j,transform:"translate("+re+"px, "+ee+"px)",...Ew(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:re,top:ee}},[n,u,ne.floating,f.x,f.y]);return F.useMemo(()=>({...f,update:W,refs:te,elements:ne,floatingStyles:ae}),[f,W,te,ne,ae])}const jI=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Wv({element:r.current,padding:o}).fn(n):{}:r?Wv({element:r,padding:o}).fn(n):{}}}},ZI=(t,e)=>({...VI(t),options:[t,e]}),XI=(t,e)=>({...$I(t),options:[t,e]}),QI=(t,e)=>({...GI(t),options:[t,e]}),eD=(t,e)=>({...HI(t),options:[t,e]}),tD=(t,e)=>({...zI(t),options:[t,e]}),nD=(t,e)=>({...qI(t),options:[t,e]}),rD=(t,e)=>({...jI(t),options:[t,e]}),oD=F.forwardRef((t,e)=>{const{children:n,width:r=10,height:o=5,...s}=t;return F.createElement(ns.svg,Vt({},s,{ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:F.createElement("polygon",{points:"0,0 30,0 15,10"}))}),iD=oD;function sD(t){const[e,n]=F.useState(void 0);return ra(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const s=o[0];let l,u;if("borderBoxSize"in s){const d=s.borderBoxSize,c=Array.isArray(d)?d[0]:d;l=c.inlineSize,u=c.blockSize}else l=t.offsetWidth,u=t.offsetHeight;n({width:l,height:u})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const Cw="Popper",[_w,ww]=sw(Cw),[aD,Tw]=_w(Cw),lD=t=>{const{__scopePopper:e,children:n}=t,[r,o]=F.useState(null);return F.createElement(aD,{scope:e,anchor:r,onAnchorChange:o},n)},uD="PopperAnchor",cD=F.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,s=Tw(uD,n),l=F.useRef(null),u=fa(e,l);return F.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:F.createElement(ns.div,Vt({},o,{ref:u}))}),Sw="PopperContent",[dD,fD]=_w(Sw),pD=F.forwardRef((t,e)=>{var n,r,o,s,l,u,d,c;const{__scopePopper:f,side:y="bottom",sideOffset:m=0,align:v="center",alignOffset:C=0,arrowPadding:_=0,avoidCollisions:S=!0,collisionBoundary:P=[],collisionPadding:w=0,sticky:A="partial",hideWhenDetached:b=!1,updatePositionStrategy:D="optimized",onPlaced:R,...N}=t,B=Tw(Sw,f),[L,U]=F.useState(null),V=fa(e,at=>U(at)),[G,W]=F.useState(null),X=sD(G),te=(n=X==null?void 0:X.width)!==null&&n!==void 0?n:0,ne=(r=X==null?void 0:X.height)!==null&&r!==void 0?r:0,ae=y+(v!=="center"?"-"+v:""),j=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},re=Array.isArray(P)?P:[P],ee=re.length>0,M={padding:j,boundary:re.filter(yD),altBoundary:ee},{refs:$,floatingStyles:Y,placement:Z,isPositioned:ce,middlewareData:he}=JI({strategy:"fixed",placement:ae,whileElementsMounted:(...at)=>OI(...at,{animationFrame:D==="always"}),elements:{reference:B.anchor},middleware:[ZI({mainAxis:m+ne,alignmentAxis:C}),S&&XI({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?QI():void 0,...M}),S&&eD({...M}),tD({...M,apply:({elements:at,rects:$t,availableWidth:Qt,availableHeight:Dt})=>{const{width:Jt,height:At}=$t.reference,Xe=at.floating.style;Xe.setProperty("--radix-popper-available-width",`${Qt}px`),Xe.setProperty("--radix-popper-available-height",`${Dt}px`),Xe.setProperty("--radix-popper-anchor-width",`${Jt}px`),Xe.setProperty("--radix-popper-anchor-height",`${At}px`)}}),G&&rD({element:G,padding:_}),xD({arrowWidth:te,arrowHeight:ne}),b&&nD({strategy:"referenceHidden",...M})]}),[Ae,pe]=Aw(Z),Be=pa(R);ra(()=>{ce&&(Be==null||Be())},[ce,Be]);const Ge=(o=he.arrow)===null||o===void 0?void 0:o.x,nt=(s=he.arrow)===null||s===void 0?void 0:s.y,It=((l=he.arrow)===null||l===void 0?void 0:l.centerOffset)!==0,[je,et]=F.useState();return ra(()=>{L&&et(window.getComputedStyle(L).zIndex)},[L]),F.createElement("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:ce?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(u=he.transformOrigin)===null||u===void 0?void 0:u.x,(d=he.transformOrigin)===null||d===void 0?void 0:d.y].join(" ")},dir:t.dir},F.createElement(dD,{scope:f,placedSide:Ae,onArrowChange:W,arrowX:Ge,arrowY:nt,shouldHideArrow:It},F.createElement(ns.div,Vt({"data-side":Ae,"data-align":pe},N,{ref:V,style:{...N.style,animation:ce?void 0:"none",opacity:(c=he.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),hD="PopperArrow",mD={top:"bottom",right:"left",bottom:"top",left:"right"},gD=F.forwardRef(function(e,n){const{__scopePopper:r,...o}=e,s=fD(hD,r),l=mD[s.placedSide];return F.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},F.createElement(iD,Vt({},o,{ref:n,style:{...o.style,display:"block"}})))});function yD(t){return t!==null}const xD=t=>({name:"transformOrigin",options:t,fn(e){var n,r,o,s,l;const{placement:u,rects:d,middlewareData:c}=e,y=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,m=y?0:t.arrowWidth,v=y?0:t.arrowHeight,[C,_]=Aw(u),S={start:"0%",center:"50%",end:"100%"}[_],P=((r=(o=c.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+m/2,w=((s=(l=c.arrow)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0)+v/2;let A="",b="";return C==="bottom"?(A=y?S:`${P}px`,b=`${-v}px`):C==="top"?(A=y?S:`${P}px`,b=`${d.floating.height+v}px`):C==="right"?(A=`${-v}px`,b=y?S:`${w}px`):C==="left"&&(A=`${d.floating.width+v}px`,b=y?S:`${w}px`),{data:{x:A,y:b}}}});function Aw(t){const[e,n="center"]=t.split("-");return[e,n]}const vD=lD,ED=cD,CD=pD,_D=gD,wD=F.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=t;return r?NP.createPortal(F.createElement(ns.div,Vt({},o,{ref:e})),r):null});function TD(t,e){return F.useReducer((n,r)=>{const o=e[n][r];return o??n},t)}const Vm=t=>{const{present:e,children:n}=t,r=SD(e),o=typeof n=="function"?n({present:r.isPresent}):F.Children.only(n),s=fa(r.ref,o.ref);return typeof n=="function"||r.isPresent?F.cloneElement(o,{ref:s}):null};Vm.displayName="Presence";function SD(t){const[e,n]=F.useState(),r=F.useRef({}),o=F.useRef(t),s=F.useRef("none"),l=t?"mounted":"unmounted",[u,d]=TD(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const c=kc(r.current);s.current=u==="mounted"?c:"none"},[u]),ra(()=>{const c=r.current,f=o.current;if(f!==t){const m=s.current,v=kc(c);t?d("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(f&&m!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,d]),ra(()=>{if(e){const c=y=>{const v=kc(r.current).includes(y.animationName);y.target===e&&v&&bf.flushSync(()=>d("ANIMATION_END"))},f=y=>{y.target===e&&(s.current=kc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:F.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function kc(t){return(t==null?void 0:t.animationName)||"none"}function AD({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=kD({defaultProp:e,onChange:n}),s=t!==void 0,l=s?t:r,u=pa(n),d=F.useCallback(c=>{if(s){const y=typeof c=="function"?c(t):c;y!==t&&u(y)}else o(c)},[s,t,o,u]);return[l,d]}function kD({defaultProp:t,onChange:e}){const n=F.useState(t),[r]=n,o=F.useRef(r),s=pa(e);return F.useEffect(()=>{o.current!==r&&(s(r),o.current=r)},[r,o,s]),n}const bD=F.forwardRef((t,e)=>F.createElement(ns.span,Vt({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),PD=bD,[Nf]=sw("Tooltip",[ww]),Mf=ww(),ID="TooltipProvider",DD=700,bh="tooltip.open",[RD,$m]=Nf(ID),ND=t=>{const{__scopeTooltip:e,delayDuration:n=DD,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=t,[l,u]=F.useState(!0),d=F.useRef(!1),c=F.useRef(0);return F.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),F.createElement(RD,{scope:e,isOpenDelayed:l,delayDuration:n,onOpen:F.useCallback(()=>{window.clearTimeout(c.current),u(!1)},[]),onClose:F.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:F.useCallback(f=>{d.current=f},[]),disableHoverableContent:o},s)},Hm="Tooltip",[MD,lu]=Nf(Hm),FD=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:l,delayDuration:u}=t,d=$m(Hm,t.__scopeTooltip),c=Mf(e),[f,y]=F.useState(null),m=KP(),v=F.useRef(0),C=l??d.disableHoverableContent,_=u??d.delayDuration,S=F.useRef(!1),[P=!1,w]=AD({prop:r,defaultProp:o,onChange:N=>{N?(d.onOpen(),document.dispatchEvent(new CustomEvent(bh))):d.onClose(),s==null||s(N)}}),A=F.useMemo(()=>P?S.current?"delayed-open":"instant-open":"closed",[P]),b=F.useCallback(()=>{window.clearTimeout(v.current),S.current=!1,w(!0)},[w]),D=F.useCallback(()=>{window.clearTimeout(v.current),w(!1)},[w]),R=F.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{S.current=!0,w(!0)},_)},[_,w]);return F.useEffect(()=>()=>window.clearTimeout(v.current),[]),F.createElement(vD,c,F.createElement(MD,{scope:e,contentId:m,open:P,stateAttribute:A,trigger:f,onTriggerChange:y,onTriggerEnter:F.useCallback(()=>{d.isOpenDelayed?R():b()},[d.isOpenDelayed,R,b]),onTriggerLeave:F.useCallback(()=>{C?D():window.clearTimeout(v.current)},[D,C]),onOpen:b,onClose:D,disableHoverableContent:C},n))},Yv="TooltipTrigger",BD=F.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=lu(Yv,n),s=$m(Yv,n),l=Mf(n),u=F.useRef(null),d=fa(e,u,o.onTriggerChange),c=F.useRef(!1),f=F.useRef(!1),y=F.useCallback(()=>c.current=!1,[]);return F.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),F.createElement(ED,Vt({asChild:!0},l),F.createElement(ns.button,Vt({"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute},r,{ref:d,onPointerMove:io(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),f.current=!0)}),onPointerLeave:io(t.onPointerLeave,()=>{o.onTriggerLeave(),f.current=!1}),onPointerDown:io(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:io(t.onFocus,()=>{c.current||o.onOpen()}),onBlur:io(t.onBlur,o.onClose),onClick:io(t.onClick,o.onClose)})))}),kw="TooltipPortal",[LD,UD]=Nf(kw,{forceMount:void 0}),OD=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:o}=t,s=lu(kw,e);return F.createElement(LD,{scope:e,forceMount:n},F.createElement(Vm,{present:n||s.open},F.createElement(wD,{asChild:!0,container:o},r)))},Bl="TooltipContent",VD=F.forwardRef((t,e)=>{const n=UD(Bl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...s}=t,l=lu(Bl,t.__scopeTooltip);return F.createElement(Vm,{present:r||l.open},l.disableHoverableContent?F.createElement(bw,Vt({side:o},s,{ref:e})):F.createElement($D,Vt({side:o},s,{ref:e})))}),$D=F.forwardRef((t,e)=>{const n=lu(Bl,t.__scopeTooltip),r=$m(Bl,t.__scopeTooltip),o=F.useRef(null),s=fa(e,o),[l,u]=F.useState(null),{trigger:d,onClose:c}=n,f=o.current,{onPointerInTransitChange:y}=r,m=F.useCallback(()=>{u(null),y(!1)},[y]),v=F.useCallback((C,_)=>{const S=C.currentTarget,P={x:C.clientX,y:C.clientY},w=WD(P,S.getBoundingClientRect()),A=KD(P,w),b=YD(_.getBoundingClientRect()),D=jD([...A,...b]);u(D),y(!0)},[y]);return F.useEffect(()=>()=>m(),[m]),F.useEffect(()=>{if(d&&f){const C=S=>v(S,f),_=S=>v(S,d);return d.addEventListener("pointerleave",C),f.addEventListener("pointerleave",_),()=>{d.removeEventListener("pointerleave",C),f.removeEventListener("pointerleave",_)}}},[d,f,v,m]),F.useEffect(()=>{if(l){const C=_=>{const S=_.target,P={x:_.clientX,y:_.clientY},w=(d==null?void 0:d.contains(S))||(f==null?void 0:f.contains(S)),A=!JD(P,l);w?m():A&&(m(),c())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,f,l,c,m]),F.createElement(bw,Vt({},t,{ref:s}))}),[HD,zD]=Nf(Hm,{isInside:!1}),bw=F.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:l,...u}=t,d=lu(Bl,n),c=Mf(n),{onClose:f}=d;return F.useEffect(()=>(document.addEventListener(bh,f),()=>document.removeEventListener(bh,f)),[f]),F.useEffect(()=>{if(d.trigger){const y=m=>{const v=m.target;v!=null&&v.contains(d.trigger)&&f()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[d.trigger,f]),F.createElement(HP,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:y=>y.preventDefault(),onDismiss:f},F.createElement(CD,Vt({"data-state":d.stateAttribute},c,u,{ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),F.createElement(lw,null,r),F.createElement(HD,{scope:n,isInside:!0},F.createElement(PD,{id:d.contentId,role:"tooltip"},o||r))))}),qD="TooltipArrow",GD=F.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,o=Mf(n);return zD(qD,n).isInside?null:F.createElement(_D,Vt({},o,r,{ref:e}))});function WD(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function KD(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function YD(t){const{top:e,right:n,bottom:r,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:r},{x:o,y:r}]}function JD(t,e){const{x:n,y:r}=t;let o=!1;for(let s=0,l=e.length-1;s<e.length;l=s++){const u=e[s].x,d=e[s].y,c=e[l].x,f=e[l].y;d>r!=f>r&&n<(c-u)*(r-d)/(f-d)+u&&(o=!o)}return o}function jD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ZD(e)}function ZD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const o=t[r];for(;e.length>=2;){const s=e[e.length-1],l=e[e.length-2];if((s.x-l.x)*(o.y-l.y)>=(s.y-l.y)*(o.x-l.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const o=t[r];for(;n.length>=2;){const s=n[n.length-1],l=n[n.length-2];if((s.x-l.x)*(o.y-l.y)>=(s.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const XD=ND,QD=FD,eR=BD,tR=OD,nR=VD,rR=GD;var Ze=(t=>(t.FRONTEND="Frontend Development",t.BACKEND="Backend Systems",t.UI_UX="UI/UX Design",t.DEVOPS="DevOps & Infrastructure",t.MOBILE="Mobile App Development",t.FULLSTACK="Full Stack",t))(Ze||{}),zm=(t=>(t.WEB="Web (Browser)",t.MOBILE="Mobile (iOS/Android)",t.CROSS_PLATFORM="Cross-Platform (RN/Flutter)",t.DESKTOP="Desktop (Electron/Native)",t.CLI="CLI / Terminal",t.SERVER="Server / Cloud",t.ALL="Platform Agnostic",t))(zm||{}),qm=(t=>(t.CONCISE="Concise",t.DETAILED="Detailed",t.EXPERT="Expert / Architectural",t))(qm||{}),Xt=(t=>(t.BASIC="Basic Refinement",t.PROMPT="Prompt Enhancement",t.OUTLINE="Structured Outline",t))(Xt||{});const Pw=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ff=F.createContext({}),Bf=F.createContext(null),Lf=typeof document<"u",Gm=Lf?F.useLayoutEffect:F.useEffect,Iw=F.createContext({strict:!1});function oR(t,e,n,r){const{visualElement:o}=F.useContext(Ff),s=F.useContext(Iw),l=F.useContext(Bf),u=F.useContext(Pw).reducedMotion,d=F.useRef();r=r||s.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const c=d.current;F.useInsertionEffect(()=>{c&&c.update(n,l)});const f=F.useRef(!!window.HandoffAppearAnimations);return Gm(()=>{c&&(c.render(),f.current&&c.animationState&&c.animationState.animateChanges())}),F.useEffect(()=>{c&&(c.updateFeatures(),!f.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,f.current=!1)}),c}function Os(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iR(t,e,n){return F.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Os(n)&&(n.current=r))},[e])}function Ll(t){return typeof t=="string"||Array.isArray(t)}function Uf(t){return typeof t=="object"&&typeof t.start=="function"}const Wm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Km=["initial",...Wm];function Of(t){return Uf(t.animate)||Km.some(e=>Ll(t[e]))}function Dw(t){return!!(Of(t)||t.variants)}function sR(t,e){if(Of(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ll(n)?n:void 0,animate:Ll(r)?r:void 0}}return t.inherit!==!1?e:{}}function aR(t){const{initial:e,animate:n}=sR(t,F.useContext(Ff));return F.useMemo(()=>({initial:e,animate:n}),[Jv(e),Jv(n)])}function Jv(t){return Array.isArray(t)?t.join(" "):t}const jv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ul={};for(const t in jv)Ul[t]={isEnabled:e=>jv[t].some(n=>!!e[n])};function lR(t){for(const e in t)Ul[e]={...Ul[e],...t[e]}}const Ym=F.createContext({}),Rw=F.createContext({}),uR=Symbol.for("motionComponentSymbol");function cR({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&lR(t);function s(u,d){let c;const f={...F.useContext(Pw),...u,layoutId:dR(u)},{isStatic:y}=f,m=aR(u),v=r(u,y);if(!y&&Lf){m.visualElement=oR(o,v,f,e);const C=F.useContext(Rw),_=F.useContext(Iw).strict;m.visualElement&&(c=m.visualElement.loadFeatures(f,_,t,C))}return F.createElement(Ff.Provider,{value:m},c&&m.visualElement?F.createElement(c,{visualElement:m.visualElement,...f}):null,n(o,u,iR(v,m.visualElement,d),v,y,m.visualElement))}const l=F.forwardRef(s);return l[uR]=o,l}function dR({layoutId:t}){const e=F.useContext(Ym).id;return e&&t!==void 0?e+"-"+t:t}function fR(t){function e(r,o={}){return cR(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const pR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jm(t){return typeof t!="string"||t.includes("-")?!1:!!(pR.indexOf(t)>-1||/[A-Z]/.test(t))}const Yd={};function hR(t){Object.assign(Yd,t)}const uu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rs=new Set(uu);function Nw(t,{layout:e,layoutId:n}){return rs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Yd[t]||t==="opacity")}const bn=t=>!!(t&&t.getVelocity),mR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gR=uu.length;function yR(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let s="";for(let l=0;l<gR;l++){const u=uu[l];if(t[u]!==void 0){const d=mR[u]||u;s+=`${d}(${t[u]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),o?s=o(t,r?"":s):n&&r&&(s="none"),s}const Mw=t=>e=>typeof e=="string"&&e.startsWith(t),Fw=Mw("--"),Ph=Mw("var(--"),xR=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,vR=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ii=(t,e,n)=>Math.min(Math.max(n,t),e),os={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Cl={...os,transform:t=>ii(0,1,t)},bc={...os,default:1},_l=t=>Math.round(t*1e5)/1e5,Vf=/(-)?([\d]*\.?[\d])+/g,Bw=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ER=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function cu(t){return typeof t=="string"}const du=t=>({test:e=>cu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Go=du("deg"),Or=du("%"),De=du("px"),CR=du("vh"),_R=du("vw"),Zv={...Or,parse:t=>Or.parse(t)/100,transform:t=>Or.transform(t*100)},Xv={...os,transform:Math.round},Lw={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,size:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,rotate:Go,rotateX:Go,rotateY:Go,rotateZ:Go,scale:bc,scaleX:bc,scaleY:bc,scaleZ:bc,skew:Go,skewX:Go,skewY:Go,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Cl,originX:Zv,originY:Zv,originZ:De,zIndex:Xv,fillOpacity:Cl,strokeOpacity:Cl,numOctaves:Xv};function jm(t,e,n,r){const{style:o,vars:s,transform:l,transformOrigin:u}=t;let d=!1,c=!1,f=!0;for(const y in e){const m=e[y];if(Fw(y)){s[y]=m;continue}const v=Lw[y],C=vR(m,v);if(rs.has(y)){if(d=!0,l[y]=C,!f)continue;m!==(v.default||0)&&(f=!1)}else y.startsWith("origin")?(c=!0,u[y]=C):o[y]=C}if(e.transform||(d||r?o.transform=yR(t.transform,n,f,r):o.transform&&(o.transform="none")),c){const{originX:y="50%",originY:m="50%",originZ:v=0}=u;o.transformOrigin=`${y} ${m} ${v}`}}const Zm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Uw(t,e,n){for(const r in e)!bn(e[r])&&!Nw(r,n)&&(t[r]=e[r])}function wR({transformTemplate:t},e,n){return F.useMemo(()=>{const r=Zm();return jm(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function TR(t,e,n){const r=t.style||{},o={};return Uw(o,r,t),Object.assign(o,wR(t,e,n)),t.transformValues?t.transformValues(o):o}function SR(t,e,n){const r={},o=TR(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const AR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Jd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||AR.has(t)}let Ow=t=>!Jd(t);function kR(t){t&&(Ow=e=>e.startsWith("on")?!Jd(e):t(e))}try{kR(require("@emotion/is-prop-valid").default)}catch{}function bR(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Ow(o)||n===!0&&Jd(o)||!e&&!Jd(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function Qv(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function PR(t,e,n){const r=Qv(e,t.x,t.width),o=Qv(n,t.y,t.height);return`${r} ${o}`}const IR={offset:"stroke-dashoffset",array:"stroke-dasharray"},DR={offset:"strokeDashoffset",array:"strokeDasharray"};function RR(t,e,n=1,r=0,o=!0){t.pathLength=1;const s=o?IR:DR;t[s.offset]=De.transform(-r);const l=De.transform(e),u=De.transform(n);t[s.array]=`${l} ${u}`}function Xm(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:s,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...c},f,y,m){if(jm(t,c,f,m),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:C,dimensions:_}=t;v.transform&&(_&&(C.transform=v.transform),delete v.transform),_&&(o!==void 0||s!==void 0||C.transform)&&(C.transformOrigin=PR(_,o!==void 0?o:.5,s!==void 0?s:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),l!==void 0&&RR(v,l,u,d,!1)}const Vw=()=>({...Zm(),attrs:{}}),Qm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function NR(t,e,n,r){const o=F.useMemo(()=>{const s=Vw();return Xm(s,e,{enableHardwareAcceleration:!1},Qm(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Uw(s,t.style,t),o.style={...s,...o.style}}return o}function MR(t=!1){return(n,r,o,{latestValues:s},l)=>{const d=(Jm(n)?NR:SR)(r,s,l,n),f={...bR(r,typeof n=="string",t),...d,ref:o},{children:y}=r,m=F.useMemo(()=>bn(y)?y.get():y,[y]);return F.createElement(n,{...f,children:m})}}const eg=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function $w(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Hw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zw(t,e,n,r){$w(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(Hw.has(o)?o:eg(o),e.attrs[o])}function tg(t,e){const{style:n}=t,r={};for(const o in n)(bn(n[o])||e.style&&bn(e.style[o])||Nw(o,t))&&(r[o]=n[o]);return r}function qw(t,e){const n=tg(t,e);for(const r in t)if(bn(t[r])||bn(e[r])){const o=uu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function ng(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function Gw(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const jd=t=>Array.isArray(t),FR=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),BR=t=>jd(t)?t[t.length-1]||0:t;function Wc(t){const e=bn(t)?t.get():t;return FR(e)?e.toValue():e}function LR({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,s){const l={latestValues:UR(r,o,s,t),renderState:e()};return n&&(l.mount=u=>n(r,u,l)),l}const Ww=t=>(e,n)=>{const r=F.useContext(Ff),o=F.useContext(Bf),s=()=>LR(t,e,r,o);return n?s():Gw(s)};function UR(t,e,n,r){const o={},s=r(t,{});for(const m in s)o[m]=Wc(s[m]);let{initial:l,animate:u}=t;const d=Of(t),c=Dw(t);e&&c&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let f=n?n.initial===!1:!1;f=f||l===!1;const y=f?u:l;return y&&typeof y!="boolean"&&!Uf(y)&&(Array.isArray(y)?y:[y]).forEach(v=>{const C=ng(t,v);if(!C)return;const{transitionEnd:_,transition:S,...P}=C;for(const w in P){let A=P[w];if(Array.isArray(A)){const b=f?A.length-1:0;A=A[b]}A!==null&&(o[w]=A)}for(const w in _)o[w]=_[w]}),o}const Pt=t=>t;class e1{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function OR(t){let e=new e1,n=new e1,r=0,o=!1,s=!1;const l=new WeakSet,u={schedule:(d,c=!1,f=!1)=>{const y=f&&o,m=y?e:n;return c&&l.add(d),m.add(d)&&y&&o&&(r=e.order.length),d},cancel:d=>{n.remove(d),l.delete(d)},process:d=>{if(o){s=!0;return}if(o=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const f=e.order[c];f(d),l.has(f)&&(u.schedule(f),t())}o=!1,s&&(s=!1,u.process(d))}};return u}const Pc=["prepare","read","update","preRender","render","postRender"],VR=40;function $R(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=Pc.reduce((y,m)=>(y[m]=OR(()=>n=!0),y),{}),l=y=>s[y].process(o),u=()=>{const y=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(y-o.timestamp,VR),1),o.timestamp=y,o.isProcessing=!0,Pc.forEach(l),o.isProcessing=!1,n&&e&&(r=!1,t(u))},d=()=>{n=!0,r=!0,o.isProcessing||t(u)};return{schedule:Pc.reduce((y,m)=>{const v=s[m];return y[m]=(C,_=!1,S=!1)=>(n||d(),v.schedule(C,_,S)),y},{}),cancel:y=>Pc.forEach(m=>s[m].cancel(y)),state:o,steps:s}}const{schedule:st,cancel:vo,state:Wt,steps:Hp}=$R(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pt,!0),HR={useVisualState:Ww({scrapeMotionValuesFromProps:qw,createRenderState:Vw,onMount:(t,e,{renderState:n,latestValues:r})=>{st.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),st.render(()=>{Xm(n,r,{enableHardwareAcceleration:!1},Qm(e.tagName),t.transformTemplate),zw(e,n)})}})},zR={useVisualState:Ww({scrapeMotionValuesFromProps:tg,createRenderState:Zm})};function qR(t,{forwardMotionProps:e=!1},n,r){return{...Jm(t)?HR:zR,preloadedFeatures:n,useRender:MR(e),createVisualElement:r,Component:t}}function lo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Kw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function $f(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const GR=t=>e=>Kw(e)&&t(e,$f(e));function co(t,e,n,r){return lo(t,e,GR(n),r)}const WR=(t,e)=>n=>e(t(n)),ni=(...t)=>t.reduce(WR);function Yw(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const t1=Yw("dragHorizontal"),n1=Yw("dragVertical");function Jw(t){let e=!1;if(t==="y")e=n1();else if(t==="x")e=t1();else{const n=t1(),r=n1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function jw(){const t=Jw(!0);return t?(t(),!1):!0}class gi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function r1(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(s,l)=>{if(s.type==="touch"||jw())return;const u=t.getProps();t.animationState&&u.whileHover&&t.animationState.setActive("whileHover",e),u[r]&&st.update(()=>u[r](s,l))};return co(t.current,n,o,{passive:!t.getProps()[r]})}class KR extends gi{mount(){this.unmount=ni(r1(this.node,!0),r1(this.node,!1))}unmount(){}}class YR extends gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ni(lo(this.node.current,"focus",()=>this.onFocus()),lo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Zw=(t,e)=>e?t===e?!0:Zw(t,e.parentElement):!1;function zp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,$f(n))}class JR extends gi{constructor(){super(...arguments),this.removeStartListeners=Pt,this.removeEndListeners=Pt,this.removeAccessibleListeners=Pt,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=co(window,"pointerup",(u,d)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:f}=this.node.getProps();st.update(()=>{Zw(this.node.current,u.target)?c&&c(u,d):f&&f(u,d)})},{passive:!(r.onTap||r.onPointerUp)}),l=co(window,"pointercancel",(u,d)=>this.cancelPress(u,d),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ni(s,l),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const l=u=>{u.key!=="Enter"||!this.checkPressEnd()||zp("up",(d,c)=>{const{onTap:f}=this.node.getProps();f&&st.update(()=>f(d,c))})};this.removeEndListeners(),this.removeEndListeners=lo(this.node.current,"keyup",l),zp("down",(u,d)=>{this.startPress(u,d)})},n=lo(this.node.current,"keydown",e),r=()=>{this.isPressing&&zp("cancel",(s,l)=>this.cancelPress(s,l))},o=lo(this.node.current,"blur",r);this.removeAccessibleListeners=ni(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&st.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!jw()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&st.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=co(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=lo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ni(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ih=new WeakMap,qp=new WeakMap,jR=t=>{const e=Ih.get(t.target);e&&e(t)},ZR=t=>{t.forEach(jR)};function XR({root:t,...e}){const n=t||document;qp.has(n)||qp.set(n,{});const r=qp.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(ZR,{root:t,...e})),r[o]}function QR(t,e,n){const r=XR(e);return Ih.set(t,n),r.observe(t),()=>{Ih.delete(t),r.unobserve(t)}}const e4={some:0,all:1};class t4 extends gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:e4[o]},u=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:y}=this.node.getProps(),m=c?f:y;m&&m(d)};return QR(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(n4(e,n))&&this.startObserver()}unmount(){}}function n4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const r4={inView:{Feature:t4},tap:{Feature:JR},focus:{Feature:YR},hover:{Feature:KR}};function Xw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function o4(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function i4(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Hf(t,e,n){const r=t.getProps();return ng(r,e,n!==void 0?n:r.custom,o4(t),i4(t))}const s4="framerAppearId",a4="data-"+eg(s4);let rg=Pt;const qi=t=>t*1e3,fo=t=>t/1e3,l4={current:!1},Qw=t=>Array.isArray(t)&&typeof t[0]=="number";function eT(t){return!!(!t||typeof t=="string"&&tT[t]||Qw(t)||Array.isArray(t)&&t.every(eT))}const ml=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,tT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ml([0,.65,.55,1]),circOut:ml([.55,0,1,.45]),backIn:ml([.31,.01,.66,-.59]),backOut:ml([.33,1.53,.69,.99])};function nT(t){if(t)return Qw(t)?ml(t):Array.isArray(t)?t.map(nT):tT[t]}function u4(t,e,n,{delay:r=0,duration:o,repeat:s=0,repeatType:l="loop",ease:u,times:d}={}){const c={[e]:n};d&&(c.offset=d);const f=nT(u);return Array.isArray(f)&&(c.easing=f),t.animate(c,{delay:r,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"})}function c4(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const rT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,d4=1e-7,f4=12;function p4(t,e,n,r,o){let s,l,u=0;do l=e+(n-e)/2,s=rT(l,r,o)-t,s>0?n=l:e=l;while(Math.abs(s)>d4&&++u<f4);return l}function fu(t,e,n,r){if(t===e&&n===r)return Pt;const o=s=>p4(s,0,1,t,n);return s=>s===0||s===1?s:rT(o(s),e,r)}const h4=fu(.42,0,1,1),m4=fu(0,0,.58,1),oT=fu(.42,0,.58,1),g4=t=>Array.isArray(t)&&typeof t[0]!="number",iT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sT=t=>e=>1-t(1-e),aT=t=>1-Math.sin(Math.acos(t)),og=sT(aT),y4=iT(og),lT=fu(.33,1.53,.69,.99),ig=sT(lT),x4=iT(ig),v4=t=>(t*=2)<1?.5*ig(t):.5*(2-Math.pow(2,-10*(t-1))),E4={linear:Pt,easeIn:h4,easeInOut:oT,easeOut:m4,circIn:aT,circInOut:y4,circOut:og,backIn:ig,backInOut:x4,backOut:lT,anticipate:v4},o1=t=>{if(Array.isArray(t)){rg(t.length===4);const[e,n,r,o]=t;return fu(e,n,r,o)}else if(typeof t=="string")return E4[t];return t},sg=(t,e)=>n=>!!(cu(n)&&ER.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),uT=(t,e,n)=>r=>{if(!cu(r))return r;const[o,s,l,u]=r.match(Vf);return{[t]:parseFloat(o),[e]:parseFloat(s),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},C4=t=>ii(0,255,t),Gp={...os,transform:t=>Math.round(C4(t))},$i={test:sg("rgb","red"),parse:uT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Gp.transform(t)+", "+Gp.transform(e)+", "+Gp.transform(n)+", "+_l(Cl.transform(r))+")"};function _4(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Dh={test:sg("#"),parse:_4,transform:$i.transform},Vs={test:sg("hsl","hue"),parse:uT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Or.transform(_l(e))+", "+Or.transform(_l(n))+", "+_l(Cl.transform(r))+")"},hn={test:t=>$i.test(t)||Dh.test(t)||Vs.test(t),parse:t=>$i.test(t)?$i.parse(t):Vs.test(t)?Vs.parse(t):Dh.parse(t),transform:t=>cu(t)?t:t.hasOwnProperty("red")?$i.transform(t):Vs.transform(t)},Et=(t,e,n)=>-n*t+n*e+t;function Wp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function w4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,s=0,l=0;if(!e)o=s=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,d=2*n-u;o=Wp(d,u,t+1/3),s=Wp(d,u,t),l=Wp(d,u,t-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:r}}const Kp=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},T4=[Dh,$i,Vs],S4=t=>T4.find(e=>e.test(t));function i1(t){const e=S4(t);let n=e.parse(t);return e===Vs&&(n=w4(n)),n}const cT=(t,e)=>{const n=i1(t),r=i1(e),o={...n};return s=>(o.red=Kp(n.red,r.red,s),o.green=Kp(n.green,r.green,s),o.blue=Kp(n.blue,r.blue,s),o.alpha=Et(n.alpha,r.alpha,s),$i.transform(o))};function A4(t){var e,n;return isNaN(t)&&cu(t)&&(((e=t.match(Vf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Bw))===null||n===void 0?void 0:n.length)||0)>0}const dT={regex:xR,countKey:"Vars",token:"${v}",parse:Pt},fT={regex:Bw,countKey:"Colors",token:"${c}",parse:hn.parse},pT={regex:Vf,countKey:"Numbers",token:"${n}",parse:os.parse};function Yp(t,{regex:e,countKey:n,token:r,parse:o}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(o)))}function Zd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Yp(n,dT),Yp(n,fT),Yp(n,pT),n}function hT(t){return Zd(t).values}function mT(t){const{values:e,numColors:n,numVars:r,tokenised:o}=Zd(t),s=e.length;return l=>{let u=o;for(let d=0;d<s;d++)d<r?u=u.replace(dT.token,l[d]):d<r+n?u=u.replace(fT.token,hn.transform(l[d])):u=u.replace(pT.token,_l(l[d]));return u}}const k4=t=>typeof t=="number"?0:t;function b4(t){const e=hT(t);return mT(t)(e.map(k4))}const si={test:A4,parse:hT,createTransformer:mT,getAnimatableNone:b4},gT=(t,e)=>n=>`${n>0?e:t}`;function yT(t,e){return typeof t=="number"?n=>Et(t,e,n):hn.test(t)?cT(t,e):t.startsWith("var(")?gT(t,e):vT(t,e)}const xT=(t,e)=>{const n=[...t],r=n.length,o=t.map((s,l)=>yT(s,e[l]));return s=>{for(let l=0;l<r;l++)n[l]=o[l](s);return n}},P4=(t,e)=>{const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=yT(t[o],e[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}},vT=(t,e)=>{const n=si.createTransformer(e),r=Zd(t),o=Zd(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?ni(xT(r.values,o.values),n):gT(t,e)},Ol=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},s1=(t,e)=>n=>Et(t,e,n);function I4(t){return typeof t=="number"?s1:typeof t=="string"?hn.test(t)?cT:vT:Array.isArray(t)?xT:typeof t=="object"?P4:s1}function D4(t,e,n){const r=[],o=n||I4(t[0]),s=t.length-1;for(let l=0;l<s;l++){let u=o(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Pt:e;u=ni(d,u)}r.push(u)}return r}function ET(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const s=t.length;if(rg(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=D4(e,r,o),u=l.length,d=c=>{let f=0;if(u>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const y=Ol(t[f],t[f+1],c);return l[f](y)};return n?c=>d(ii(t[0],t[s-1],c)):d}function R4(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Ol(0,e,r);t.push(Et(n,1,o))}}function N4(t){const e=[0];return R4(e,t.length-1),e}function M4(t,e){return t.map(n=>n*e)}function F4(t,e){return t.map(()=>e||oT).splice(0,t.length-1)}function Xd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=g4(r)?r.map(o1):o1(r),s={done:!1,value:e[0]},l=M4(n&&n.length===e.length?n:N4(e),t),u=ET(l,e,{ease:Array.isArray(o)?o:F4(e,o)});return{calculatedDuration:t,next:d=>(s.value=u(d),s.done=d>=t,s)}}function CT(t,e){return e?t*(1e3/e):0}const B4=5;function _T(t,e,n){const r=Math.max(e-B4,0);return CT(n-t(r),e-r)}const Jp=.001,L4=.01,U4=10,O4=.05,V4=1;function $4({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,s,l=1-e;l=ii(O4,V4,l),t=ii(L4,U4,fo(t)),l<1?(o=c=>{const f=c*l,y=f*t,m=f-n,v=Rh(c,l),C=Math.exp(-y);return Jp-m/v*C},s=c=>{const y=c*l*t,m=y*n+n,v=Math.pow(l,2)*Math.pow(c,2)*t,C=Math.exp(-y),_=Rh(Math.pow(c,2),l);return(-o(c)+Jp>0?-1:1)*((m-v)*C)/_}):(o=c=>{const f=Math.exp(-c*t),y=(c-n)*t+1;return-Jp+f*y},s=c=>{const f=Math.exp(-c*t),y=(n-c)*(t*t);return f*y});const u=5/t,d=z4(o,s,u);if(t=qi(t),isNaN(d))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(d,2)*r;return{stiffness:c,damping:l*2*Math.sqrt(r*c),duration:t}}}const H4=12;function z4(t,e,n){let r=n;for(let o=1;o<H4;o++)r=r-t(r)/e(r);return r}function Rh(t,e){return t*Math.sqrt(1-e*e)}const q4=["duration","bounce"],G4=["stiffness","damping","mass"];function a1(t,e){return e.some(n=>t[n]!==void 0)}function W4(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!a1(t,G4)&&a1(t,q4)){const n=$4(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function wT({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],s=t[t.length-1],l={done:!1,value:o},{stiffness:u,damping:d,mass:c,velocity:f,duration:y,isResolvedFromDuration:m}=W4(r),v=f?-fo(f):0,C=d/(2*Math.sqrt(u*c)),_=s-o,S=fo(Math.sqrt(u/c)),P=Math.abs(_)<5;n||(n=P?.01:2),e||(e=P?.005:.5);let w;if(C<1){const A=Rh(S,C);w=b=>{const D=Math.exp(-C*S*b);return s-D*((v+C*S*_)/A*Math.sin(A*b)+_*Math.cos(A*b))}}else if(C===1)w=A=>s-Math.exp(-S*A)*(_+(v+S*_)*A);else{const A=S*Math.sqrt(C*C-1);w=b=>{const D=Math.exp(-C*S*b),R=Math.min(A*b,300);return s-D*((v+C*S*_)*Math.sinh(R)+A*_*Math.cosh(R))/A}}return{calculatedDuration:m&&y||null,next:A=>{const b=w(A);if(m)l.done=A>=y;else{let D=v;A!==0&&(C<1?D=_T(w,A,b):D=0);const R=Math.abs(D)<=n,N=Math.abs(s-b)<=e;l.done=R&&N}return l.value=l.done?s:b,l}}}function l1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:l,min:u,max:d,restDelta:c=.5,restSpeed:f}){const y=t[0],m={done:!1,value:y},v=B=>u!==void 0&&B<u||d!==void 0&&B>d,C=B=>u===void 0?d:d===void 0||Math.abs(u-B)<Math.abs(d-B)?u:d;let _=n*e;const S=y+_,P=l===void 0?S:l(S);P!==S&&(_=P-y);const w=B=>-_*Math.exp(-B/r),A=B=>P+w(B),b=B=>{const L=w(B),U=A(B);m.done=Math.abs(L)<=c,m.value=m.done?P:U};let D,R;const N=B=>{v(m.value)&&(D=B,R=wT({keyframes:[m.value,C(m.value)],velocity:_T(A,B,m.value),damping:o,stiffness:s,restDelta:c,restSpeed:f}))};return N(0),{calculatedDuration:null,next:B=>{let L=!1;return!R&&D===void 0&&(L=!0,b(B),N(B)),D!==void 0&&B>D?R.next(B-D):(!L&&b(B),m)}}}const K4=t=>{const e=({timestamp:n})=>t(n);return{start:()=>st.update(e,!0),stop:()=>vo(e),now:()=>Wt.isProcessing?Wt.timestamp:performance.now()}},u1=2e4;function c1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<u1;)e+=n,r=t.next(e);return e>=u1?1/0:e}const Y4={decay:l1,inertia:l1,tween:Xd,keyframes:Xd,spring:wT};function Qd({autoplay:t=!0,delay:e=0,driver:n=K4,keyframes:r,type:o="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:u="loop",onPlay:d,onStop:c,onComplete:f,onUpdate:y,...m}){let v=1,C=!1,_,S;const P=()=>{S=new Promise(M=>{_=M})};P();let w;const A=Y4[o]||Xd;let b;A!==Xd&&typeof r[0]!="number"&&(b=ET([0,100],r,{clamp:!1}),r=[0,100]);const D=A({...m,keyframes:r});let R;u==="mirror"&&(R=A({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let N="idle",B=null,L=null,U=null;D.calculatedDuration===null&&s&&(D.calculatedDuration=c1(D));const{calculatedDuration:V}=D;let G=1/0,W=1/0;V!==null&&(G=V+l,W=G*(s+1)-l);let X=0;const te=M=>{if(L===null)return;v>0&&(L=Math.min(L,M)),v<0&&(L=Math.min(M-W/v,L)),B!==null?X=B:X=Math.round(M-L)*v;const $=X-e*(v>=0?1:-1),Y=v>=0?$<0:$>W;X=Math.max($,0),N==="finished"&&B===null&&(X=W);let Z=X,ce=D;if(s){const Be=X/G;let Ge=Math.floor(Be),nt=Be%1;!nt&&Be>=1&&(nt=1),nt===1&&Ge--,Ge=Math.min(Ge,s+1);const It=!!(Ge%2);It&&(u==="reverse"?(nt=1-nt,l&&(nt-=l/G)):u==="mirror"&&(ce=R));let je=ii(0,1,nt);X>W&&(je=u==="reverse"&&It?1:0),Z=je*G}const he=Y?{done:!1,value:r[0]}:ce.next(Z);b&&(he.value=b(he.value));let{done:Ae}=he;!Y&&V!==null&&(Ae=v>=0?X>=W:X<=0);const pe=B===null&&(N==="finished"||N==="running"&&Ae);return y&&y(he.value),pe&&j(),he},ne=()=>{w&&w.stop(),w=void 0},ae=()=>{N="idle",ne(),_(),P(),L=U=null},j=()=>{N="finished",f&&f(),ne(),_()},re=()=>{if(C)return;w||(w=n(te));const M=w.now();d&&d(),B!==null?L=M-B:(!L||N==="finished")&&(L=M),N==="finished"&&P(),U=L,B=null,N="running",w.start()};t&&re();const ee={then(M,$){return S.then(M,$)},get time(){return fo(X)},set time(M){M=qi(M),X=M,B!==null||!w||v===0?B=M:L=w.now()-M/v},get duration(){const M=D.calculatedDuration===null?c1(D):D.calculatedDuration;return fo(M)},get speed(){return v},set speed(M){M===v||!w||(v=M,ee.time=fo(X))},get state(){return N},play:re,pause:()=>{N="paused",B=X},stop:()=>{C=!0,N!=="idle"&&(N="idle",c&&c(),ae())},cancel:()=>{U!==null&&te(U),ae()},complete:()=>{N="finished"},sample:M=>(L=0,te(M))};return ee}function J4(t){let e;return()=>(e===void 0&&(e=t()),e)}const j4=J4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Z4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ic=10,X4=2e4,Q4=(t,e)=>e.type==="spring"||t==="backgroundColor"||!eT(e.ease);function eN(t,e,{onUpdate:n,onComplete:r,...o}){if(!(j4()&&Z4.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let l=!1,u,d;const c=()=>{d=new Promise(w=>{u=w})};c();let{keyframes:f,duration:y=300,ease:m,times:v}=o;if(Q4(e,o)){const w=Qd({...o,repeat:0,delay:0});let A={done:!1,value:f[0]};const b=[];let D=0;for(;!A.done&&D<X4;)A=w.sample(D),b.push(A.value),D+=Ic;v=void 0,f=b,y=D-Ic,m="linear"}const C=u4(t.owner.current,e,f,{...o,duration:y,ease:m,times:v});o.syncStart&&(C.startTime=Wt.isProcessing?Wt.timestamp:document.timeline?document.timeline.currentTime:performance.now());const _=()=>C.cancel(),S=()=>{st.update(_),u(),c()};return C.onfinish=()=>{t.set(c4(f,o)),r&&r(),S()},{then(w,A){return d.then(w,A)},attachTimeline(w){return C.timeline=w,C.onfinish=null,Pt},get time(){return fo(C.currentTime||0)},set time(w){C.currentTime=qi(w)},get speed(){return C.playbackRate},set speed(w){C.playbackRate=w},get duration(){return fo(y)},play:()=>{l||(C.play(),vo(_))},pause:()=>C.pause(),stop:()=>{if(l=!0,C.playState==="idle")return;const{currentTime:w}=C;if(w){const A=Qd({...o,autoplay:!1});t.setWithVelocity(A.sample(w-Ic).value,A.sample(w).value,Ic)}S()},complete:()=>C.finish(),cancel:S}}function tN({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const o=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Pt,pause:Pt,stop:Pt,then:s=>(s(),Promise.resolve()),cancel:Pt,complete:Pt});return e?Qd({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const nN={type:"spring",stiffness:500,damping:25,restSpeed:10},rN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),oN={type:"keyframes",duration:.8},iN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sN=(t,{keyframes:e})=>e.length>2?oN:rs.has(t)?t.startsWith("scale")?rN(e[1]):nN:iN,Nh=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(si.test(e)||e==="0")&&!e.startsWith("url(")),aN=new Set(["brightness","contrast","saturate","opacity"]);function lN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Vf)||[];if(!r)return t;const o=n.replace(r,"");let s=aN.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+o+")"}const uN=/([a-z-]*)\(.*?\)/g,Mh={...si,getAnimatableNone:t=>{const e=t.match(uN);return e?e.map(lN).join(" "):t}},cN={...Lw,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:Mh,WebkitFilter:Mh},ag=t=>cN[t];function TT(t,e){let n=ag(t);return n!==Mh&&(n=si),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ST=t=>/^0[^.\s]+$/.test(t);function dN(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||ST(t)}function fN(t,e,n,r){const o=Nh(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const l=r.from!==void 0?r.from:t.get();let u;const d=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?l:s[c-1]),dN(s[c])&&d.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(u=s[c]);if(o&&d.length&&u)for(let c=0;c<d.length;c++){const f=d[c];s[f]=TT(e,u)}return s}function pN({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:l,repeatDelay:u,from:d,elapsed:c,...f}){return!!Object.keys(f).length}function AT(t,e){return t[e]||t.default||t}const lg=(t,e,n,r={})=>o=>{const s=AT(r,t)||{},l=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-qi(l);const d=fN(e,t,n,s),c=d[0],f=d[d.length-1],y=Nh(t,c),m=Nh(t,f);let v={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-u,onUpdate:C=>{e.set(C),s.onUpdate&&s.onUpdate(C)},onComplete:()=>{o(),s.onComplete&&s.onComplete()}};if(pN(s)||(v={...v,...sN(t,v)}),v.duration&&(v.duration=qi(v.duration)),v.repeatDelay&&(v.repeatDelay=qi(v.repeatDelay)),!y||!m||l4.current||s.type===!1)return tN(v);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const C=eN(e,t,v);if(C)return C}return Qd(v)};function ef(t){return!!(bn(t)&&t.add)}const kT=t=>/^\-?\d*\.?\d+$/.test(t);function ug(t,e){t.indexOf(e)===-1&&t.push(e)}function cg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dg{constructor(){this.subscriptions=[]}add(e){return ug(this.subscriptions,e),()=>cg(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let s=0;s<o;s++){const l=this.subscriptions[s];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hN=t=>!isNaN(parseFloat(t));class mN{constructor(e,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:l}=Wt;this.lastUpdated!==l&&(this.timeDelta=s,this.lastUpdated=l,st.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>st.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=hN(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dg);const r=this.events[e].add(n);return e==="change"?()=>{r(),st.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?CT(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ia(t,e){return new mN(t,e)}const bT=t=>e=>e.test(t),gN={test:t=>t==="auto",parse:t=>t},PT=[os,De,Or,Go,_R,CR,gN],il=t=>PT.find(bT(t)),yN=[...PT,hn,si],xN=t=>yN.find(bT(t));function vN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ia(n))}function EN(t,e){const n=Hf(t,e);let{transitionEnd:r={},transition:o={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const l in s){const u=BR(s[l]);vN(t,l,u)}}function CN(t,e,n){var r,o;const s=Object.keys(e).filter(u=>!t.hasValue(u)),l=s.length;if(l)for(let u=0;u<l;u++){const d=s[u],c=e[d];let f=null;Array.isArray(c)&&(f=c[0]),f===null&&(f=(o=(r=n[d])!==null&&r!==void 0?r:t.readValue(d))!==null&&o!==void 0?o:e[d]),f!=null&&(typeof f=="string"&&(kT(f)||ST(f))?f=parseFloat(f):!xN(f)&&si.test(c)&&(f=TT(d,c)),t.addValue(d,ia(f,{owner:t})),n[d]===void 0&&(n[d]=f),f!==null&&t.setBaseTarget(d,f))}}function _N(t,e){return e?(e[t]||e.default||e).from:void 0}function wN(t,e,n){const r={};for(const o in t){const s=_N(o,e);if(s!==void 0)r[o]=s;else{const l=n.getValue(o);l&&(r[o]=l.get())}}return r}function TN({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function IT(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:l,...u}=t.makeTargetAnimatable(e);const d=t.getValue("willChange");r&&(s=r);const c=[],f=o&&t.animationState&&t.animationState.getState()[o];for(const y in u){const m=t.getValue(y),v=u[y];if(!m||v===void 0||f&&TN(f,y))continue;const C={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!m.hasAnimated){const S=t.getProps()[a4];S&&(C.elapsed=window.HandoffAppearAnimations(S,y,m,st),C.syncStart=!0)}m.start(lg(y,m,v,t.shouldReduceMotion&&rs.has(y)?{type:!1}:C));const _=m.animation;ef(d)&&(d.add(y),_.then(()=>d.remove(y))),c.push(_)}return l&&Promise.all(c).then(()=>{l&&EN(t,l)}),c}function Fh(t,e,n={}){const r=Hf(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const s=r?()=>Promise.all(IT(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:y}=o;return SN(t,e,c+d,f,y,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[d,c]=u==="beforeChildren"?[s,l]:[l,s];return d().then(()=>c())}else return Promise.all([s(),l(n.delay)])}function SN(t,e,n=0,r=0,o=1,s){const l=[],u=(t.variantChildren.size-1)*r,d=o===1?(c=0)=>c*r:(c=0)=>u-c*r;return Array.from(t.variantChildren).sort(AN).forEach((c,f)=>{c.notify("AnimationStart",e),l.push(Fh(c,e,{...s,delay:n+d(f)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(l)}function AN(t,e){return t.sortNodePosition(e)}function kN(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(s=>Fh(t,s,n));r=Promise.all(o)}else if(typeof e=="string")r=Fh(t,e,n);else{const o=typeof e=="function"?Hf(t,e,n.custom):e;r=Promise.all(IT(t,o,n))}return r.then(()=>t.notify("AnimationComplete",e))}const bN=[...Wm].reverse(),PN=Wm.length;function IN(t){return e=>Promise.all(e.map(({animation:n,options:r})=>kN(t,n,r)))}function DN(t){let e=IN(t);const n=NN();let r=!0;const o=(d,c)=>{const f=Hf(t,c);if(f){const{transition:y,transitionEnd:m,...v}=f;d={...d,...v,...m}}return d};function s(d){e=d(t)}function l(d,c){const f=t.getProps(),y=t.getVariantContext(!0)||{},m=[],v=new Set;let C={},_=1/0;for(let P=0;P<PN;P++){const w=bN[P],A=n[w],b=f[w]!==void 0?f[w]:y[w],D=Ll(b),R=w===c?A.isActive:null;R===!1&&(_=P);let N=b===y[w]&&b!==f[w]&&D;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),A.protectedKeys={...C},!A.isActive&&R===null||!b&&!A.prevProp||Uf(b)||typeof b=="boolean")continue;const B=RN(A.prevProp,b);let L=B||w===c&&A.isActive&&!N&&D||P>_&&D;const U=Array.isArray(b)?b:[b];let V=U.reduce(o,{});R===!1&&(V={});const{prevResolvedValues:G={}}=A,W={...G,...V},X=te=>{L=!0,v.delete(te),A.needsAnimating[te]=!0};for(const te in W){const ne=V[te],ae=G[te];C.hasOwnProperty(te)||(ne!==ae?jd(ne)&&jd(ae)?!Xw(ne,ae)||B?X(te):A.protectedKeys[te]=!0:ne!==void 0?X(te):v.add(te):ne!==void 0&&v.has(te)?X(te):A.protectedKeys[te]=!0)}A.prevProp=b,A.prevResolvedValues=V,A.isActive&&(C={...C,...V}),r&&t.blockInitialAnimation&&(L=!1),L&&!N&&m.push(...U.map(te=>({animation:te,options:{type:w,...d}})))}if(v.size){const P={};v.forEach(w=>{const A=t.getBaseTarget(w);A!==void 0&&(P[w]=A)}),m.push({animation:P})}let S=!!m.length;return r&&f.initial===!1&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(m):Promise.resolve()}function u(d,c,f){var y;if(n[d].isActive===c)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(v=>{var C;return(C=v.animationState)===null||C===void 0?void 0:C.setActive(d,c)}),n[d].isActive=c;const m=l(f,d);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:s,getState:()=>n}}function RN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Xw(e,t):!1}function Bi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NN(){return{animate:Bi(!0),whileInView:Bi(),whileHover:Bi(),whileTap:Bi(),whileDrag:Bi(),whileFocus:Bi(),exit:Bi()}}class MN extends gi{constructor(e){super(e),e.animationState||(e.animationState=DN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Uf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let FN=0;class BN extends gi{constructor(){super(...arguments),this.id=FN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LN={animation:{Feature:MN},exit:{Feature:BN}},d1=(t,e)=>Math.abs(t-e);function UN(t,e){const n=d1(t.x,e.x),r=d1(t.y,e.y);return Math.sqrt(n**2+r**2)}class DT{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Zp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=UN(c.offset,{x:0,y:0})>=3;if(!f&&!y)return;const{point:m}=c,{timestamp:v}=Wt;this.history.push({...m,timestamp:v});const{onStart:C,onMove:_}=this.handlers;f||(C&&C(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,c)},this.handlePointerMove=(c,f)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=jp(f,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(c,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:y,onSessionEnd:m}=this.handlers,v=Zp(c.type==="pointercancel"?this.lastMoveEventInfo:jp(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(c,v),m&&m(c,v)},!Kw(e))return;this.handlers=n,this.transformPagePoint=r;const o=$f(e),s=jp(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=Wt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Zp(s,this.history)),this.removeListeners=ni(co(window,"pointermove",this.handlePointerMove),co(window,"pointerup",this.handlePointerUp),co(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vo(this.updatePoint)}}function jp(t,e){return e?{point:e(t.point)}:t}function f1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zp({point:t},e){return{point:t,delta:f1(t,RT(e)),offset:f1(t,ON(e)),velocity:VN(e,.1)}}function ON(t){return t[0]}function RT(t){return t[t.length-1]}function VN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=RT(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>qi(e)));)n--;if(!r)return{x:0,y:0};const s=fo(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const l={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function $n(t){return t.max-t.min}function Bh(t,e=0,n=.01){return Math.abs(t-e)<=n}function p1(t,e,n,r=.5){t.origin=r,t.originPoint=Et(e.min,e.max,t.origin),t.scale=$n(n)/$n(e),(Bh(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Et(n.min,n.max,t.origin)-t.originPoint,(Bh(t.translate)||isNaN(t.translate))&&(t.translate=0)}function wl(t,e,n,r){p1(t.x,e.x,n.x,r?r.originX:void 0),p1(t.y,e.y,n.y,r?r.originY:void 0)}function h1(t,e,n){t.min=n.min+e.min,t.max=t.min+$n(e)}function $N(t,e,n){h1(t.x,e.x,n.x),h1(t.y,e.y,n.y)}function m1(t,e,n){t.min=e.min-n.min,t.max=t.min+$n(e)}function Tl(t,e,n){m1(t.x,e.x,n.x),m1(t.y,e.y,n.y)}function HN(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Et(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Et(n,t,r.max):Math.min(t,n)),t}function g1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zN(t,{top:e,left:n,bottom:r,right:o}){return{x:g1(t.x,n,o),y:g1(t.y,e,r)}}function y1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function qN(t,e){return{x:y1(t.x,e.x),y:y1(t.y,e.y)}}function GN(t,e){let n=.5;const r=$n(t),o=$n(e);return o>r?n=Ol(e.min,e.max-r,t.min):r>o&&(n=Ol(t.min,t.max-o,e.min)),ii(0,1,n)}function WN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Lh=.35;function KN(t=Lh){return t===!1?t=0:t===!0&&(t=Lh),{x:x1(t,"left","right"),y:x1(t,"top","bottom")}}function x1(t,e,n){return{min:v1(t,e),max:v1(t,n)}}function v1(t,e){return typeof t=="number"?t:t[e]||0}const E1=()=>({translate:0,scale:1,origin:0,originPoint:0}),$s=()=>({x:E1(),y:E1()}),C1=()=>({min:0,max:0}),Mt=()=>({x:C1(),y:C1()});function Fr(t){return[t("x"),t("y")]}function NT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function YN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Xp(t){return t===void 0||t===1}function Uh({scale:t,scaleX:e,scaleY:n}){return!Xp(t)||!Xp(e)||!Xp(n)}function Ui(t){return Uh(t)||MT(t)||t.z||t.rotate||t.rotateX||t.rotateY}function MT(t){return _1(t.x)||_1(t.y)}function _1(t){return t&&t!=="0%"}function tf(t,e,n){const r=t-n,o=e*r;return n+o}function w1(t,e,n,r,o){return o!==void 0&&(t=tf(t,o,r)),tf(t,n,r)+e}function Oh(t,e=0,n=1,r,o){t.min=w1(t.min,e,n,r,o),t.max=w1(t.max,e,n,r,o)}function FT(t,{x:e,y:n}){Oh(t.x,e.translate,e.scale,e.originPoint),Oh(t.y,n.translate,n.scale,n.originPoint)}function jN(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let s,l;for(let u=0;u<o;u++){s=n[u],l=s.projectionDelta;const d=s.instance;d&&d.style&&d.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Hs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,FT(t,l)),r&&Ui(s.latestValues)&&Hs(t,s.latestValues))}e.x=T1(e.x),e.y=T1(e.y)}function T1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Jo(t,e){t.min=t.min+e,t.max=t.max+e}function S1(t,e,[n,r,o]){const s=e[o]!==void 0?e[o]:.5,l=Et(t.min,t.max,s);Oh(t,e[n],e[r],l,e.scale)}const ZN=["x","scaleX","originX"],XN=["y","scaleY","originY"];function Hs(t,e){S1(t.x,e,ZN),S1(t.y,e,XN)}function BT(t,e){return NT(JN(t.getBoundingClientRect(),e))}function QN(t,e,n){const r=BT(t,n),{scroll:o}=e;return o&&(Jo(r.x,o.offset.x),Jo(r.y,o.offset.y)),r}const eM=new WeakMap;class tM{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{this.stopAnimation(),n&&this.snapToCursor($f(d,"page").point)},s=(d,c)=>{const{drag:f,dragPropagation:y,onDragStart:m}=this.getProps();if(f&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Jw(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fr(C=>{let _=this.getAxisMotionValue(C).get()||0;if(Or.test(_)){const{projection:S}=this.visualElement;if(S&&S.layout){const P=S.layout.layoutBox[C];P&&(_=$n(P)*(parseFloat(_)/100))}}this.originPoint[C]=_}),m&&st.update(()=>m(d,c),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(d,c)=>{const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:m,onDrag:v}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:C}=c;if(y&&this.currentDirection===null){this.currentDirection=nM(C),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",c.point,C),this.updateAxis("y",c.point,C),this.visualElement.render(),v&&v(d,c)},u=(d,c)=>this.stop(d,c);this.panSession=new DT(e,{onSessionStart:o,onStart:s,onMove:l,onSessionEnd:u},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&st.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Dc(e,o,this.currentDirection))return;const s=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=HN(l,this.constraints[e],this.elastic[e])),s.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;e&&Os(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=zN(r.layoutBox,e):this.constraints=!1,this.elastic=KN(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Fr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=WN(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Os(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=QN(r,o.root,this.visualElement.getTransformPagePoint());let l=qN(o.layout.layoutBox,s);if(n){const u=n(YN(l));this.hasMutatedConstraints=!!u,u&&(l=NT(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},c=Fr(f=>{if(!Dc(f,n,this.currentDirection))return;let y=d&&d[f]||{};l&&(y={min:0,max:0});const m=o?200:1e6,v=o?40:1e7,C={type:"inertia",velocity:r?e[f]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...y};return this.startAxisValueAnimation(f,C)});return Promise.all(c).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(lg(e,r,0,n))}stopAnimation(){Fr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fr(n=>{const{drag:r}=this.getProps();if(!Dc(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:l,max:u}=o.layout.layoutBox[n];s.set(e[n]-Et(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Os(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Fr(l=>{const u=this.getAxisMotionValue(l);if(u){const d=u.get();o[l]=GN({min:d,max:d},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fr(l=>{if(!Dc(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:c}=this.constraints[l];u.set(Et(d,c,o[l]))})}addListeners(){if(!this.visualElement.current)return;eM.set(this.visualElement,this);const e=this.visualElement.current,n=co(e,"pointerdown",d=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Os(d)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const l=lo(window,"resize",()=>this.scalePositionWithinConstraints()),u=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(Fr(f=>{const y=this.getAxisMotionValue(f);y&&(this.originPoint[f]+=d[f].translate,y.set(y.get()+d[f].translate))}),this.visualElement.render())}));return()=>{l(),n(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:l=Lh,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:l,dragMomentum:u}}}function Dc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class rM extends gi{constructor(e){super(e),this.removeGroupControls=Pt,this.removeListeners=Pt,this.controls=new tM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pt}unmount(){this.removeGroupControls(),this.removeListeners()}}const A1=t=>(e,n)=>{t&&st.update(()=>t(e,n))};class oM extends gi{constructor(){super(...arguments),this.removePointerDownListener=Pt}onPointerDown(e){this.session=new DT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:A1(e),onStart:A1(n),onMove:r,onEnd:(s,l)=>{delete this.session,o&&st.update(()=>o(s,l))}}}mount(){this.removePointerDownListener=co(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function iM(){const t=F.useContext(Bf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=F.useId();return F.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const Kc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function k1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=k1(t,e.target.x),r=k1(t,e.target.y);return`${n}% ${r}%`}},sM={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=si.parse(t);if(o.length>5)return r;const s=si.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,d=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=d;const c=Et(u,d,.5);return typeof o[2+l]=="number"&&(o[2+l]/=c),typeof o[3+l]=="number"&&(o[3+l]/=c),s(o)}};class aM extends Pn.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=e;hR(lM),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Kc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,l=r.projection;return l&&(l.isPresent=s,o||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?l.promote():l.relegate()||st.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LT(t){const[e,n]=iM(),r=F.useContext(Ym);return Pn.createElement(aM,{...t,layoutGroup:r,switchLayoutGroup:F.useContext(Rw),isPresent:e,safeToRemove:n})}const lM={borderRadius:{...sl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sl,borderTopRightRadius:sl,borderBottomLeftRadius:sl,borderBottomRightRadius:sl,boxShadow:sM},UT=["TopLeft","TopRight","BottomLeft","BottomRight"],uM=UT.length,b1=t=>typeof t=="string"?parseFloat(t):t,P1=t=>typeof t=="number"||De.test(t);function cM(t,e,n,r,o,s){o?(t.opacity=Et(0,n.opacity!==void 0?n.opacity:1,dM(r)),t.opacityExit=Et(e.opacity!==void 0?e.opacity:1,0,fM(r))):s&&(t.opacity=Et(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<uM;l++){const u=`border${UT[l]}Radius`;let d=I1(e,u),c=I1(n,u);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||P1(d)===P1(c)?(t[u]=Math.max(Et(b1(d),b1(c),r),0),(Or.test(c)||Or.test(d))&&(t[u]+="%")):t[u]=c}(e.rotate||n.rotate)&&(t.rotate=Et(e.rotate||0,n.rotate||0,r))}function I1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const dM=OT(0,.5,og),fM=OT(.5,.95,Pt);function OT(t,e,n){return r=>r<t?0:r>e?1:n(Ol(t,e,r))}function D1(t,e){t.min=e.min,t.max=e.max}function Xn(t,e){D1(t.x,e.x),D1(t.y,e.y)}function R1(t,e,n,r,o){return t-=e,t=tf(t,1/n,r),o!==void 0&&(t=tf(t,1/o,r)),t}function pM(t,e=0,n=1,r=.5,o,s=t,l=t){if(Or.test(e)&&(e=parseFloat(e),e=Et(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Et(s.min,s.max,r);t===s&&(u-=e),t.min=R1(t.min,e,n,u,o),t.max=R1(t.max,e,n,u,o)}function N1(t,e,[n,r,o],s,l){pM(t,e[n],e[r],e[o],e.scale,s,l)}const hM=["x","scaleX","originX"],mM=["y","scaleY","originY"];function M1(t,e,n,r){N1(t.x,e,hM,n?n.x:void 0,r?r.x:void 0),N1(t.y,e,mM,n?n.y:void 0,r?r.y:void 0)}function F1(t){return t.translate===0&&t.scale===1}function VT(t){return F1(t.x)&&F1(t.y)}function gM(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function $T(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function B1(t){return $n(t.x)/$n(t.y)}class yM{constructor(){this.members=[]}add(e){ug(this.members,e),e.scheduleRender()}remove(e){if(cg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function L1(t,e,n){let r="";const o=t.x.translate/e.x,s=t.y.translate/e.y;if((o||s)&&(r=`translate3d(${o}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:d,rotateX:c,rotateY:f}=n;d&&(r+=`rotate(${d}deg) `),c&&(r+=`rotateX(${c}deg) `),f&&(r+=`rotateY(${f}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const xM=(t,e)=>t.depth-e.depth;class vM{constructor(){this.children=[],this.isDirty=!1}add(e){ug(this.children,e),this.isDirty=!0}remove(e){cg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xM),this.isDirty=!1,this.children.forEach(e)}}function EM(t,e){const n=performance.now(),r=({timestamp:o})=>{const s=o-n;s>=e&&(vo(r),t(s-e))};return st.read(r,!0),()=>vo(r)}function CM(t){window.MotionDebug&&window.MotionDebug.record(t)}function _M(t){return t instanceof SVGElement&&t.tagName!=="svg"}function wM(t,e,n){const r=bn(t)?t:ia(t);return r.start(lg("",r,e,n)),r.animation}const U1=["","X","Y","Z"],O1=1e3;let TM=0;const Oi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function HT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(l={},u=e==null?void 0:e()){this.id=TM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Oi.totalNodes=Oi.resolvedTargetDeltas=Oi.recalculatedProjection=0,this.nodes.forEach(kM),this.nodes.forEach(RM),this.nodes.forEach(NM),this.nodes.forEach(bM),CM(Oi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new vM)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new dg),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_M(l),this.instance=l;const{layoutId:d,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(c||d)&&(this.isLayoutDirty=!0),t){let y;const m=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=EM(m,250),Kc.hasAnimatedSinceResize&&(Kc.hasAnimatedSinceResize=!1,this.nodes.forEach($1))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||c)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:m,hasRelativeTargetChanged:v,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||UM,{onLayoutAnimationStart:S,onLayoutAnimationComplete:P}=f.getProps(),w=!this.targetLayout||!$T(this.targetLayout,C)||v,A=!m&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,A);const b={...AT(_,"layout"),onPlay:S,onComplete:P};(f.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else m||$1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MM),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const y=this.path[f];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V1);return}this.isUpdating||this.nodes.forEach(IM),this.isUpdating=!1,this.nodes.forEach(DM),this.nodes.forEach(SM),this.nodes.forEach(AM),this.clearAllSnapshots();const u=performance.now();Wt.delta=ii(0,1e3/60,u-Wt.timestamp),Wt.timestamp=u,Wt.isProcessing=!0,Hp.update.process(Wt),Hp.preRender.process(Wt),Hp.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(PM),this.sharedNodes.forEach(FM)}scheduleUpdateProjection(){st.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!VT(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;l&&(u||Ui(this.latestValues)||f)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),OM(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Mt();const u=l.measureViewportBox(),{scroll:d}=this.root;return d&&(Jo(u.x,d.offset.x),Jo(u.y,d.offset.y)),u}removeElementScroll(l){const u=Mt();Xn(u,l);for(let d=0;d<this.path.length;d++){const c=this.path[d],{scroll:f,options:y}=c;if(c!==this.root&&f&&y.layoutScroll){if(f.isRoot){Xn(u,l);const{scroll:m}=this.root;m&&(Jo(u.x,-m.offset.x),Jo(u.y,-m.offset.y))}Jo(u.x,f.offset.x),Jo(u.y,f.offset.y)}}return u}applyTransform(l,u=!1){const d=Mt();Xn(d,l);for(let c=0;c<this.path.length;c++){const f=this.path[c];!u&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Hs(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ui(f.latestValues)&&Hs(d,f.latestValues)}return Ui(this.latestValues)&&Hs(d,this.latestValues),d}removeTransform(l){const u=Mt();Xn(u,l);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!Ui(c.latestValues))continue;Uh(c.latestValues)&&c.updateSnapshot();const f=Mt(),y=c.measurePageBox();Xn(f,y),M1(u,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return Ui(this.latestValues)&&M1(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==d;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:m}=this.options;if(!(!this.layout||!(y||m))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Tl(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Mt(),this.targetWithTransforms=Mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$N(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),FT(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Tl(this.relativeTargetOrigin,this.target,v.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Oi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Uh(this.parent.latestValues)||MT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let c=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(c=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(c=!1),c)return;const{layout:f,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||y))return;Xn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;jN(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:C}=u;if(!C){this.projectionTransform&&(this.projectionDelta=$s(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=$s(),this.projectionDeltaWithTransform=$s());const _=this.projectionTransform;wl(this.projectionDelta,this.layoutCorrected,C,this.latestValues),this.projectionTransform=L1(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==m||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),Oi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,u=!1){const d=this.snapshot,c=d?d.latestValues:{},f={...this.latestValues},y=$s();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const m=Mt(),v=d?d.source:void 0,C=this.layout?this.layout.source:void 0,_=v!==C,S=this.getStack(),P=!S||S.members.length<=1,w=!!(_&&!P&&this.options.crossfade===!0&&!this.path.some(LM));this.animationProgress=0;let A;this.mixTargetDelta=b=>{const D=b/1e3;H1(y.x,l.x,D),H1(y.y,l.y,D),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BM(this.relativeTarget,this.relativeTargetOrigin,m,D),A&&gM(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Mt()),Xn(A,this.relativeTarget)),_&&(this.animationValues=f,cM(f,c,this.latestValues,D,w,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Kc.hasAnimatedSinceResize=!0,this.currentAnimation=wM(0,O1,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(O1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:c,latestValues:f}=l;if(!(!u||!d||!c)){if(this!==l&&this.layout&&c&&zT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||Mt();const y=$n(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const m=$n(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+m}Xn(u,d),Hs(u,f),wl(this.projectionDeltaWithTransform,this.layoutCorrected,u,f)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new yM),this.sharedNodes.get(l).add(u);const c=u.options.initialPromotionConfig;u.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(u=!0),!u)return;const c={};for(let f=0;f<U1.length;f++){const y="rotate"+U1[f];d[y]&&(c[y]=d[y],l.setStaticValue(y,0))}l.render();for(const f in c)l.setStaticValue(f,c[f]);l.scheduleRender()}getProjectionStyles(l={}){var u,d;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Wc(l.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Wc(l.pointerEvents)||""),this.hasProjected&&!Ui(this.latestValues)&&(_.transform=f?f({},""):"none",this.hasProjected=!1),_}const m=y.animationValues||y.latestValues;this.applyTransformsToTarget(),c.transform=L1(this.projectionDeltaWithTransform,this.treeScale,m),f&&(c.transform=f(m,c.transform));const{x:v,y:C}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${C.origin*100}% 0`,y.animationValues?c.opacity=y===this?(d=(u=m.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=y===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Yd){if(m[_]===void 0)continue;const{correct:S,applyTo:P}=Yd[_],w=c.transform==="none"?m[_]:S(m[_],y);if(P){const A=P.length;for(let b=0;b<A;b++)c[P[b]]=w}else c[_]=w}return this.options.layoutId&&(c.pointerEvents=y===this?Wc(l.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(V1),this.root.sharedNodes.clear()}}}function SM(t){t.updateLayout()}function AM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:s}=t.options,l=n.source!==t.layout.source;s==="size"?Fr(y=>{const m=l?n.measuredBox[y]:n.layoutBox[y],v=$n(m);m.min=r[y].min,m.max=m.min+v}):zT(s,n.layoutBox,r)&&Fr(y=>{const m=l?n.measuredBox[y]:n.layoutBox[y],v=$n(r[y]);m.max=m.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+v)});const u=$s();wl(u,r,n.layoutBox);const d=$s();l?wl(d,t.applyTransform(o,!0),n.measuredBox):wl(d,r,n.layoutBox);const c=!VT(u);let f=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:m,layout:v}=y;if(m&&v){const C=Mt();Tl(C,n.layoutBox,m.layoutBox);const _=Mt();Tl(_,r,v.layoutBox),$T(C,_)||(f=!0),y.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:u,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kM(t){Oi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function bM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PM(t){t.clearSnapshot()}function V1(t){t.clearMeasurements()}function IM(t){t.isLayoutDirty=!1}function DM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RM(t){t.resolveTargetDelta()}function NM(t){t.calcProjection()}function MM(t){t.resetRotation()}function FM(t){t.removeLeadSnapshot()}function H1(t,e,n){t.translate=Et(e.translate,0,n),t.scale=Et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function z1(t,e,n,r){t.min=Et(e.min,n.min,r),t.max=Et(e.max,n.max,r)}function BM(t,e,n,r){z1(t.x,e.x,n.x,r),z1(t.y,e.y,n.y,r)}function LM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UM={duration:.45,ease:[.4,0,.1,1]},q1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),G1=q1("applewebkit/")&&!q1("chrome/")?Math.round:Pt;function W1(t){t.min=G1(t.min),t.max=G1(t.max)}function OM(t){W1(t.x),W1(t.y)}function zT(t,e,n){return t==="position"||t==="preserve-aspect"&&!Bh(B1(e),B1(n),.2)}const VM=HT({attachResizeListener:(t,e)=>lo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qp={current:void 0},qT=HT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qp.current){const t=new VM({});t.mount(window),t.setOptions({layoutScroll:!0}),Qp.current=t}return Qp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$M={pan:{Feature:oM},drag:{Feature:rM,ProjectionNode:qT,MeasureLayout:LT}},HM=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zM(t){const e=HM.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Vh(t,e,n=1){const[r,o]=zM(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const l=s.trim();return kT(l)?parseFloat(l):l}else return Ph(o)?Vh(o,e,n+1):o}function qM(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const s=o.get();if(!Ph(s))return;const l=Vh(s,r);l&&o.set(l)});for(const o in e){const s=e[o];if(!Ph(s))continue;const l=Vh(s,r);l&&(e[o]=l,n||(n={}),n[o]===void 0&&(n[o]=s))}return{target:e,transitionEnd:n}}const GM=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),GT=t=>GM.has(t),WM=t=>Object.keys(t).some(GT),K1=t=>t===os||t===De,Y1=(t,e)=>parseFloat(t.split(", ")[e]),J1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Y1(o[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?Y1(s[1],t):0}},KM=new Set(["x","y","z"]),YM=uu.filter(t=>!KM.has(t));function JM(t){const e=[];return YM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:J1(4,13),y:J1(5,14)};sa.translateX=sa.x;sa.translateY=sa.y;const jM=(t,e,n)=>{const r=e.measureViewportBox(),o=e.current,s=getComputedStyle(o),{display:l}=s,u={};l==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{u[c]=sa[c](r,s)}),e.render();const d=e.measureViewportBox();return n.forEach(c=>{const f=e.getValue(c);f&&f.jump(u[c]),t[c]=sa[c](d,s)}),t},ZM=(t,e,n={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter(GT);let s=[],l=!1;const u=[];if(o.forEach(d=>{const c=t.getValue(d);if(!t.hasValue(d))return;let f=n[d],y=il(f);const m=e[d];let v;if(jd(m)){const C=m.length,_=m[0]===null?1:0;f=m[_],y=il(f);for(let S=_;S<C&&m[S]!==null;S++)v?rg(il(m[S])===v):v=il(m[S])}else v=il(m);if(y!==v)if(K1(y)&&K1(v)){const C=c.get();typeof C=="string"&&c.set(parseFloat(C)),typeof m=="string"?e[d]=parseFloat(m):Array.isArray(m)&&v===De&&(e[d]=m.map(parseFloat))}else y!=null&&y.transform&&(v!=null&&v.transform)&&(f===0||m===0)?f===0?c.set(v.transform(f)):e[d]=y.transform(m):(l||(s=JM(t),l=!0),u.push(d),r[d]=r[d]!==void 0?r[d]:e[d],c.jump(m))}),u.length){const d=u.indexOf("height")>=0?window.pageYOffset:null,c=jM(e,t,u);return s.length&&s.forEach(([f,y])=>{t.getValue(f).set(y)}),t.render(),Lf&&d!==null&&window.scrollTo({top:d}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function XM(t,e,n,r){return WM(e)?ZM(t,e,n,r):{target:e,transitionEnd:r}}const QM=(t,e,n,r)=>{const o=qM(t,e,r);return e=o.target,r=o.transitionEnd,XM(t,e,n,r)},$h={current:null},WT={current:!1};function e3(){if(WT.current=!0,!!Lf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$h.current=t.matches;t.addListener(e),e()}else $h.current=!1}function t3(t,e,n){const{willChange:r}=e;for(const o in e){const s=e[o],l=n[o];if(bn(s))t.addValue(o,s),ef(r)&&r.add(o);else if(bn(l))t.addValue(o,ia(s,{owner:t})),ef(r)&&r.remove(o);else if(l!==s)if(t.hasValue(o)){const u=t.getValue(o);!u.hasAnimated&&u.set(s)}else{const u=t.getStaticValue(o);t.addValue(o,ia(u!==void 0?u:s,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const j1=new WeakMap,KT=Object.keys(Ul),n3=KT.length,Z1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],r3=Km.length;class o3{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>st.render(this.render,!1,!0);const{latestValues:u,renderState:d}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.isControllingVariants=Of(n),this.isVariantNode=Dw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{});for(const y in f){const m=f[y];u[y]!==void 0&&bn(m)&&(m.set(u[y],!1),ef(c)&&c.add(y))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,j1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),WT.current||e3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$h.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){j1.delete(this.current),this.projection&&this.projection.unmount(),vo(this.notifyUpdate),vo(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=rs.has(e),o=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&st.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,s){let l,u;for(let d=0;d<n3;d++){const c=KT[d],{isEnabled:f,Feature:y,ProjectionNode:m,MeasureLayout:v}=Ul[c];m&&(l=m),f(n)&&(!this.features[c]&&y&&(this.features[c]=new y(this)),v&&(u=v))}if(!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:c,drag:f,dragConstraints:y,layoutScroll:m,layoutRoot:v}=n;this.projection.setOptions({layoutId:d,layout:c,alwaysMeasureLayout:!!f||y&&Os(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:v})}return u}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Z1.length;r++){const o=Z1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s=e["on"+o];s&&(this.propEventSubscriptions[o]=this.on(o,s))}this.prevMotionValues=t3(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<r3;r++){const o=Km[r],s=this.props[o];(Ll(s)||s===!1)&&(n[o]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ia(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=ng(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!bn(s)?s:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class YT extends o3{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:o},s){let l=wN(r,e||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),l&&(l=o(l))),s){CN(this,r,l);const u=QM(this,r,l,n);n=u.transitionEnd,r=u.target}return{transition:e,transitionEnd:n,...r}}}function i3(t){return window.getComputedStyle(t)}class s3 extends YT{readValueFromInstance(e,n){if(rs.has(n)){const r=ag(n);return r&&r.default||0}else{const r=i3(e),o=(Fw(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return BT(e,n)}build(e,n,r,o){jm(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return tg(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){$w(e,n,r,o)}}class a3 extends YT{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(rs.has(n)){const r=ag(n);return r&&r.default||0}return n=Hw.has(n)?n:eg(n),e.getAttribute(n)}measureInstanceViewportBox(){return Mt()}scrapeMotionValuesFromProps(e,n){return qw(e,n)}build(e,n,r,o){Xm(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){zw(e,n,r,o)}mount(e){this.isSVGTag=Qm(e.tagName),super.mount(e)}}const l3=(t,e)=>Jm(t)?new a3(e,{enableHardwareAcceleration:!1}):new s3(e,{enableHardwareAcceleration:!0}),u3={layout:{ProjectionNode:qT,MeasureLayout:LT}},c3={...LN,...r4,...$M,...u3},Ys=fR((t,e)=>qR(t,e,c3,l3));function JT(){const t=F.useRef(!1);return Gm(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function d3(){const t=JT(),[e,n]=F.useState(0),r=F.useCallback(()=>{t.current&&n(e+1)},[e]);return[F.useCallback(()=>st.postRender(r),[r]),e]}class f3 extends F.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function p3({children:t,isPresent:e}){const n=F.useId(),r=F.useRef(null),o=F.useRef({width:0,height:0,top:0,left:0});return F.useInsertionEffect(()=>{const{width:s,height:l,top:u,left:d}=o.current;if(e||!r.current||!s||!l)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),F.createElement(f3,{isPresent:e,childRef:r,sizeRef:o},F.cloneElement(t,{ref:r}))}const eh=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:l})=>{const u=Gw(h3),d=F.useId(),c=F.useMemo(()=>({id:d,initial:e,isPresent:n,custom:o,onExitComplete:f=>{u.set(f,!0);for(const y of u.values())if(!y)return;r&&r()},register:f=>(u.set(f,!1),()=>u.delete(f))}),s?void 0:[n]);return F.useMemo(()=>{u.forEach((f,y)=>u.set(y,!1))},[n]),F.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),l==="popLayout"&&(t=F.createElement(p3,{isPresent:n},t)),F.createElement(Bf.Provider,{value:c},t)};function h3(){return new Map}function m3(t){return F.useEffect(()=>()=>t(),[])}const Bs=t=>t.key||"";function g3(t,e){t.forEach(n=>{const r=Bs(n);e.set(r,n)})}function y3(t){const e=[];return F.Children.forEach(t,n=>{F.isValidElement(n)&&e.push(n)}),e}const jT=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:s=!0,mode:l="sync"})=>{const u=F.useContext(Ym).forceRender||d3()[0],d=JT(),c=y3(t);let f=c;const y=F.useRef(new Map).current,m=F.useRef(f),v=F.useRef(new Map).current,C=F.useRef(!0);if(Gm(()=>{C.current=!1,g3(c,v),m.current=f}),m3(()=>{C.current=!0,v.clear(),y.clear()}),C.current)return F.createElement(F.Fragment,null,f.map(w=>F.createElement(eh,{key:Bs(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:l},w)));f=[...f];const _=m.current.map(Bs),S=c.map(Bs),P=_.length;for(let w=0;w<P;w++){const A=_[w];S.indexOf(A)===-1&&!y.has(A)&&y.set(A,void 0)}return l==="wait"&&y.size&&(f=[]),y.forEach((w,A)=>{if(S.indexOf(A)!==-1)return;const b=v.get(A);if(!b)return;const D=_.indexOf(A);let R=w;if(!R){const N=()=>{v.delete(A),y.delete(A);const B=m.current.findIndex(L=>L.key===A);if(m.current.splice(B,1),!y.size){if(m.current=c,d.current===!1)return;u(),r&&r()}};R=F.createElement(eh,{key:Bs(b),isPresent:!1,onExitComplete:N,custom:e,presenceAffectsLayout:s,mode:l},b),y.set(A,R)}f.splice(D,0,R)}),f=f.map(w=>{const A=w.key;return y.has(A)?w:F.createElement(eh,{key:Bs(w),isPresent:!0,presenceAffectsLayout:s,mode:l},w)}),F.createElement(F.Fragment,null,y.size?f:f.map(w=>F.cloneElement(w)))},Mr=({className:t=""})=>k.jsx("div",{className:`relative overflow-hidden bg-slate-800/50 rounded ${t}`,children:k.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-slate-700/20 to-transparent"})}),x3=({size:t="md",className:e=""})=>{const n={sm:"w-4 h-4 border-2",md:"w-5 h-5 border-2",lg:"w-8 h-8 border-3"};return k.jsx("div",{className:`rounded-full border-slate-400/30 border-t-white animate-spin-smooth ${n[t]} ${e}`,role:"status","aria-label":"Loading",style:{willChange:"transform"}})},v3=({progress:t,label:e})=>k.jsxs("div",{className:"w-full max-w-xs mx-auto",children:[e&&k.jsxs("div",{className:"flex justify-between mb-1.5",children:[k.jsx("span",{className:"text-xs font-medium text-indigo-300",children:e}),k.jsxs("span",{className:"text-xs font-mono text-slate-400",children:[Math.round(t),"%"]})]}),k.jsx("div",{className:"h-1.5 w-full bg-slate-800 rounded-full overflow-hidden",children:k.jsx(Ys.div,{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500",initial:{width:0},animate:{width:`${t}%`},transition:{ease:"easeOut"}})})]}),X1=["Analyzing Input Context","Identifying Constraints","Optimizing for Target Tool","Structuring Output","Refining Details"],E3=()=>{const[t,e]=F.useState(0);return F.useEffect(()=>{const n=setInterval(()=>{e(r=>r<X1.length-1?r+1:r)},1500);return()=>clearInterval(n)},[]),k.jsxs("div",{className:"max-w-xs mx-auto space-y-3 p-4 bg-slate-900/50 rounded-xl border border-slate-800/50",children:[k.jsxs("div",{className:"flex items-center gap-2 mb-2 text-purple-300 font-semibold text-xs uppercase tracking-wider",children:[k.jsx(Nm,{className:"w-3 h-3 animate-spin"}),"AI Reasoning Process"]}),k.jsx("div",{className:"space-y-2",children:X1.map((n,r)=>{const o=r<t,s=r===t;return k.jsxs("div",{className:`flex items-center gap-3 text-sm transition-colors duration-300 ${s?"text-white font-medium":o?"text-slate-400":"text-slate-600"}`,children:[o?k.jsx(Rk,{className:"w-4 h-4 text-green-500"}):s?k.jsx("div",{className:"w-4 h-4 flex items-center justify-center",children:k.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"})}):k.jsx(Mk,{className:"w-4 h-4 text-slate-700"}),k.jsx("span",{children:n})]},n)})})]})},C3=()=>k.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 bg-slate-800/20",role:"status","aria-label":"Loading configuration",children:[...Array(4)].map((t,e)=>k.jsxs("div",{className:"space-y-2",children:[k.jsx("div",{className:"h-3 w-24 bg-slate-700 rounded animate-pulse will-change-[opacity]"}),k.jsx("div",{className:"h-10 w-full bg-slate-700 rounded-lg animate-pulse will-change-[opacity]"})]},e))}),_3=()=>k.jsxs("div",{className:"flex flex-wrap gap-2 items-center mt-2",role:"status","aria-label":"Loading suggestions",children:[k.jsx("div",{className:"w-20 h-3 mr-2 bg-slate-700 rounded animate-pulse will-change-[opacity]"}),[...Array(5)].map((t,e)=>k.jsx("div",{className:"h-6 w-20 bg-slate-700 rounded-md animate-pulse will-change-[opacity]"},e))]}),w3=()=>k.jsxs("div",{className:"p-6 space-y-4",children:[k.jsxs("div",{className:"space-y-2",children:[k.jsx(Mr,{className:"h-6 w-3/4 rounded-lg bg-indigo-900/20"}),k.jsx(Mr,{className:"h-4 w-1/2 rounded bg-slate-800/40"})]}),k.jsx("div",{className:"h-6"})," ",k.jsxs("div",{className:"space-y-2",children:[k.jsx(Mr,{className:"h-3 w-full"}),k.jsx(Mr,{className:"h-3 w-full"}),k.jsx(Mr,{className:"h-3 w-11/12"}),k.jsx(Mr,{className:"h-3 w-4/5"})]}),k.jsx("div",{className:"h-4"}),k.jsxs("div",{className:"border border-slate-800 rounded-lg p-4 bg-slate-900/50 space-y-2",children:[k.jsx(Mr,{className:"h-3 w-32 mb-3 bg-slate-700/30"}),k.jsx(Mr,{className:"h-3 w-full"}),k.jsx(Mr,{className:"h-3 w-10/12"}),k.jsx(Mr,{className:"h-3 w-11/12"})]})]}),Hh=[{label:"React Data Table",text:"Build a reusable React data table component using TanStack Table. It needs sorting, server-side pagination, column filtering, and a clean Tailwind CSS design.",domain:Ze.FRONTEND},{label:"Node.js API Auth",text:"Design a secure authentication system for a Node.js/Express API. Implement JWTs with refresh tokens, Redis for token blacklisting, and middleware for RBAC.",domain:Ze.BACKEND},{label:"Dashboard Layout",text:"Create a responsive dashboard layout structure using CSS Grid and Tailwind. It should have a collapsible sidebar, sticky header, and a widget grid that auto-adjusts for mobile.",domain:Ze.UI_UX},{label:"Mobile Chat UI",text:"Design a modern chat interface for a mobile app. Include message bubbles, typing indicators, image previews, and ensure it handles the virtual keyboard gracefully.",domain:Ze.MOBILE},{label:"SQL Query Optimization",text:"I have a slow SQL query joining 5 tables with millions of rows. Help me analyze the execution plan and rewrite it for performance using indexes and CTEs.",domain:Ze.BACKEND}],T3=({status:t,lastSaved:e,retryCount:n=0})=>{if(t==="idle"&&!e)return null;const r=()=>{switch(t){case"saving":return n>0?"border-yellow-500/50 bg-yellow-500/10":"border-slate-700/50 bg-slate-800/50";case"saved":return"border-green-500/50 bg-green-500/10";case"error":return"border-red-500/50 bg-red-500/10";default:return"border-slate-700/50 bg-slate-800/50"}},o=s=>{const u=Date.now()-s,d=Math.floor(u/6e4);return d<1?"just now":d<60?`${d}m ago`:new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return k.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full border transition-colors min-w-[120px] h-7 ${r()}`,children:[t==="saving"&&(n>0?k.jsx(ob,{className:"w-3 h-3 text-yellow-400 animate-spin"}):k.jsx(Nm,{className:"w-3 h-3 text-primary animate-spin"})),t==="saved"&&k.jsx(Hd,{className:"w-3 h-3 text-green-400"}),t==="error"&&k.jsx(z_,{className:"w-3 h-3 text-red-400"}),t==="idle"&&k.jsx(Fk,{className:"w-3 h-3 text-muted"}),k.jsxs("span",{className:"text-[10px] font-medium text-slate-400",children:[t==="saving"&&(n>0?`Retrying... (${n}/3)`:"Saving..."),t==="error"&&"Save Failed",(t==="saved"||t==="idle")&&e&&k.jsxs(k.Fragment,{children:["Saved ",o(e)]})]})]})},S3=Pn.memo(({variant:t="primary",size:e="md",loading:n=!1,className:r="",disabled:o,children:s,...l})=>{const u={primary:"btn-primary",secondary:"btn-secondary",danger:"btn-primary bg-red-600 hover:bg-red-500 focus:ring-red-500"},d={sm:"px-3 py-1.5 text-sm min-h-[36px]",md:"px-4 py-2 text-sm min-h-[44px]",lg:"px-6 py-3 text-base min-h-[48px]"},c=`${u[t]} ${d[e]} ${r}`;return k.jsxs("button",{className:c,disabled:o||n,...l,children:[n&&k.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s]})});S3.displayName="Button";const A3=Pn.memo(({label:t,error:e,helperText:n,className:r="",id:o,...s})=>{const l=o||`input-${Math.random().toString(36).substr(2,9)}`,u=e?`${l}-error`:void 0,d=n?`${l}-helper`:void 0,c=`input-base ${e?"input-error":"input-valid"} ${r}`;return k.jsxs("div",{className:"space-y-1",children:[t&&k.jsx("label",{htmlFor:l,className:"block text-xs font-medium text-secondary uppercase tracking-wider",children:t}),k.jsx("input",{id:l,className:c,"aria-invalid":!!e,"aria-describedby":[u,d].filter(Boolean).join(" ")||void 0,...s}),e&&k.jsx("div",{id:u,className:"text-red-400 text-xs",role:"alert",children:e}),n&&!e&&k.jsx("div",{id:d,className:"text-slate-500 text-xs",children:n})]})});A3.displayName="Input";const gl=Pn.memo(({label:t,options:e,error:n,helperText:r,className:o="",id:s,...l})=>{const u=s||`select-${Math.random().toString(36).substr(2,9)}`,d=n?`${u}-error`:void 0,c=r?`${u}-helper`:void 0,f=`input-base appearance-none bg-slate-800 text-slate-100 ${n?"input-error":"input-valid"} ${o}`;return k.jsxs("div",{className:"space-y-1",children:[t&&k.jsx("label",{htmlFor:u,className:"block text-xs font-medium text-secondary uppercase tracking-wider",children:t}),k.jsxs("div",{className:"relative",children:[k.jsx("select",{id:u,className:f,"aria-invalid":!!n,"aria-describedby":[d,c].filter(Boolean).join(" ")||void 0,style:{colorScheme:"dark"},...l,children:e.map(y=>k.jsx("option",{value:y.value,children:y.label},y.value))}),k.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-400",children:k.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),n&&k.jsx("div",{id:d,className:"text-red-400 text-xs",role:"alert",children:n}),r&&!n&&k.jsx("div",{id:c,className:"text-slate-500 text-xs",children:r})]})});gl.displayName="Select";const Wo=Pn.memo(({label:t,icon:e,className:n="",id:r,...o})=>{const s=r||`checkbox-${Math.random().toString(36).substr(2,9)}`;return k.jsxs("label",{className:`flex items-center space-x-2 cursor-pointer group ${n}`,children:[k.jsxs("div",{className:"relative",children:[k.jsx("input",{type:"checkbox",id:s,className:"peer sr-only",...o}),k.jsx("div",{className:"w-4 h-4 border border-slate-600 rounded bg-slate-800 peer-checked:bg-indigo-500 peer-checked:border-indigo-500 transition-colors focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-slate-900"}),e&&k.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white opacity-0 peer-checked:opacity-100",children:e})]}),k.jsx("span",{className:"text-sm text-slate-400 group-hover:text-slate-300 transition-colors",children:t})]})});Wo.displayName="Checkbox";const ZT=Pn.memo(({label:t,error:e,helperText:n,characterCount:r=!1,className:o="",id:s,value:l,...u})=>{const d=s||`textarea-${Math.random().toString(36).substr(2,9)}`,c=e?`${d}-error`:void 0,f=n?`${d}-helper`:void 0,y=`w-full input-base rounded-xl p-4 placeholder-slate-500 resize font-mono leading-relaxed min-h-[300px] sm:min-h-[350px] lg:min-h-[400px] bg-gradient-to-br from-slate-800 to-slate-900 text-slate-100 shadow-inner selection:bg-blue-500/30 ${e?"input-error border-red-500/50":"input-valid border-blue-500/20 focus:border-blue-500/50"} ${o}`,m=typeof l=="string"?l.length:0;return k.jsxs("div",{className:"space-y-1 w-full",children:[t&&k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("label",{htmlFor:d,className:"text-xs font-medium text-secondary uppercase tracking-wider",children:t}),r&&k.jsxs("span",{className:"text-slate-500 text-xs","aria-live":"polite","aria-atomic":"true",children:[m," chars"]})]}),k.jsx("textarea",{id:d,className:y,value:l,"aria-invalid":!!e,"aria-describedby":[c,f].filter(Boolean).join(" ")||void 0,...u}),e&&k.jsx("div",{id:c,className:"text-red-400 text-xs",role:"alert",children:e}),n&&!e&&k.jsx("div",{id:f,className:"text-slate-500 text-xs",children:n})]})});ZT.displayName="Textarea";const k3=(t,e)=>{F.useEffect(()=>{const n=r=>{t.current&&!t.current.contains(r.target)&&e()};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},XT=Pn.memo(({trigger:t,items:e,className:n=""})=>{const[r,o]=F.useState(!1),s=F.useRef(null);k3(s,()=>o(!1));const l=u=>{u.onClick(),o(!1)};return k.jsxs("div",{className:`relative ${n}`,ref:s,children:[k.jsx("div",{onClick:()=>o(!r),role:"button",tabIndex:0,children:t}),r&&k.jsx("div",{className:"absolute right-0 top-full mt-2 w-72 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl overflow-hidden z-50 animate-in fade-in zoom-in-95 duration-100",children:k.jsx("div",{className:"py-1",role:"menu",children:e.map((u,d)=>k.jsxs("button",{onClick:()=>l(u),className:"w-full text-left px-4 py-3 hover:bg-slate-700/50 border-b border-slate-700/50 last:border-0 transition-colors group focus:bg-slate-700/50 outline-none",role:"menuitem",children:[k.jsx("span",{className:"block text-xs font-bold text-indigo-400 mb-0.5 group-hover:text-indigo-300",children:u.label}),u.description&&k.jsx("span",{className:"block text-[10px] text-slate-400 line-clamp-2 leading-relaxed",children:u.description})]},d))})})]})});XT.displayName="Dropdown";const b3=({mode:t,onChange:e,disabled:n=!1})=>{const r=[{value:Xt.BASIC,label:"Basic Refinement",icon:k.jsx(cb,{className:"w-4 h-4"}),title:"Simple grammar and clarity improvements"},{value:Xt.PROMPT,label:"Prompt Enhancer",icon:k.jsx(da,{className:"w-4 h-4"}),title:"Full prompt engineering with structure and best practices"},{value:Xt.OUTLINE,label:"Document Outline",icon:k.jsx(Rm,{className:"w-4 h-4"}),title:"Generate a structured document outline"}];return k.jsx("div",{className:"space-y-1 min-w-0 md:col-span-4 border-b border-slate-700/50 pb-4 mb-2",children:k.jsx("div",{className:"flex items-center justify-center gap-2 bg-slate-900/50 p-1 rounded-lg border border-slate-800 inline-flex mx-auto w-full md:w-auto overflow-x-auto",children:r.map(o=>k.jsxs("button",{onClick:()=>e(o.value),disabled:n,className:`flex-1 md:flex-none px-4 py-2 rounded-md text-sm font-medium transition-all flex items-center justify-center gap-2 whitespace-nowrap ${t===o.value?"bg-indigo-600 text-white shadow":"text-slate-400 hover:text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,title:o.title,children:[o.icon,o.label]},o.value))})})},Rc=({label:t,icon:e,tooltipText:n,htmlFor:r})=>k.jsxs(QD,{delayDuration:300,children:[k.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:k.jsx(eR,{asChild:!0,children:k.jsxs("div",{className:"flex items-center gap-1.5 cursor-help group",children:[k.jsx("label",{htmlFor:r,className:"text-xs font-medium text-secondary uppercase tracking-wider group-hover:text-primary transition-colors whitespace-nowrap truncate max-w-[120px] md:max-w-none cursor-pointer",children:t}),k.jsx(Gk,{className:"w-3 h-3 text-muted opacity-0 group-hover:opacity-100 transition-all","aria-hidden":"true"})]})})}),k.jsx(tR,{children:k.jsxs(nR,{className:"z-50 bg-slate-900 text-slate-200 text-xs px-3 py-2 rounded-lg border border-slate-700 shadow-xl max-w-xs leading-relaxed animate-in fade-in zoom-in-95 duration-200",sideOffset:5,side:"top",children:[n,k.jsx(rR,{className:"fill-slate-700"})]})})]}),P3=({options:t,onChange:e,disabled:n=!1,isAdvancedMode:r=!1})=>{const o=m=>{e({...t,domain:m})},s=m=>{e({...t,targetTool:m})},l=m=>{e({...t,platform:m})},u=m=>{e({...t,complexity:m})},d=Object.values(Ze).map(m=>({value:m,label:m})),c=Object.values(zm).map(m=>({value:m,label:m})),f=Object.values(qm).map(m=>({value:m,label:m})),y=[{value:"general",label:"General LLM (Default)"},{value:"Bolt.new",label:"Bolt.new (React/Supabase)"},{value:"Lovable.dev",label:"Lovable.dev"},{value:"Replit",label:"Replit (Ghostwriter)"},{value:"V0",label:"V0 (Vercel)"},{value:"Cursor",label:"Cursor (Repo-wide)"},{value:"Cline",label:"Cline (Autonomous)"},{value:"Windsurf",label:"Windsurf (Cascade)"}];return k.jsxs("div",{className:`p-4 sm:p-6 flex flex-wrap gap-4 bg-slate-800/30 ${n?"pointer-events-none grayscale-[0.5]":""}`,children:[k.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px] flex-1",children:[k.jsx(Rc,{label:"Domain",icon:k.jsx(Bk,{className:"w-3 h-3","aria-hidden":"true"}),tooltipText:"Defines the technical context. Prioritizes keywords and best practices relevant to this field.",htmlFor:"domain-select"}),k.jsx(gl,{id:"domain-select",disabled:n,value:t.domain,onChange:m=>o(m.target.value),options:d})]}),r&&k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px] flex-1 animate-in fade-in slide-in-from-top-1 duration-200",children:[k.jsx(Rc,{label:"Target AI Tool",icon:k.jsx(Dk,{className:"w-3 h-3","aria-hidden":"true"}),tooltipText:"Select the specific AI builder, Agent, or Design tool you are targeting. The prompt structure will be optimized for that specific tool's workflow.",htmlFor:"target-tool-select"}),k.jsx(gl,{id:"target-tool-select",disabled:n,value:t.targetTool,onChange:m=>s(m.target.value),options:y})]}),k.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px] flex-1 animate-in fade-in slide-in-from-top-1 duration-200 delay-75",children:[k.jsx(Rc,{label:"Target Platform",icon:k.jsx(Xk,{className:"w-3 h-3","aria-hidden":"true"}),tooltipText:"Specify where the code will run. Influences stack recommendations (e.g., Native vs. Web).",htmlFor:"platform-select"}),k.jsx(gl,{id:"platform-select",disabled:n,value:t.platform,onChange:m=>l(m.target.value),options:c})]}),k.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px] flex-1 animate-in fade-in slide-in-from-top-1 duration-200 delay-100",children:[k.jsx(Rc,{label:"Complexity",icon:k.jsx(W_,{className:"w-3 h-3","aria-hidden":"true"}),tooltipText:"Controls the depth of the output. 'Expert' includes architectural reasoning and trade-offs.",htmlFor:"complexity-select"}),k.jsx(gl,{id:"complexity-select",disabled:n,value:t.complexity,onChange:m=>u(m.target.value),options:f})]})]})]})},I3=({suggestions:t,onAddSuggestion:e,disabled:n=!1})=>t.length===0?null:k.jsxs("div",{id:"suggestions-area",className:"flex flex-wrap gap-2 items-center animate-in fade-in slide-in-from-top-1","aria-label":"Smart Suggestions",children:[k.jsxs("div",{className:"text-[10px] font-bold text-indigo-400 flex items-center gap-1 mr-1","aria-hidden":"true",children:[k.jsx(da,{className:"w-3 h-3"}),"SUGGESTIONS:"]}),t.map((r,o)=>k.jsxs("button",{onClick:()=>e(r),disabled:n,className:"flex items-center gap-1 px-2 py-1 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-indigo-500/50 rounded-md text-[10px] text-slate-300 hover:text-white transition-all active:scale-95 group focus:ring-2 focus:ring-indigo-500 outline-none disabled:opacity-50 disabled:cursor-not-allowed","aria-label":`Add suggestion: ${r}`,children:[k.jsx("span",{children:r}),k.jsx(eb,{className:"w-2.5 h-2.5 opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400","aria-hidden":"true"})]},o))]}),D3={[Ze.FRONTEND]:["React Hooks","Tailwind CSS","Responsive","Accessibility","TypeScript","Performance"],[Ze.BACKEND]:["REST API","GraphQL","PostgreSQL","Auth","Microservices","Docker"],[Ze.UI_UX]:["Color Palette","Typography","User Flow","Wireframe","Figma","Dark Mode"],[Ze.DEVOPS]:["Kubernetes","Terraform","AWS","CI/CD","Monitoring","Security"],[Ze.MOBILE]:["React Native","Expo","Offline Mode","Notifications","Gestures"],[Ze.FULLSTACK]:["MERN Stack","Serverless","Schema","Integration","Testing"]},Q1={react:{any:["Hooks","Components"],[Ze.FRONTEND]:["Context API","Redux Toolkit","Zustand","React Router","Next.js"]},css:{any:["Styles","Responsive"],[Ze.FRONTEND]:["Tailwind","Flexbox","Grid","CSS Modules"]},api:{any:["REST","GraphQL"],[Ze.FRONTEND]:["Axios","TanStack Query"],[Ze.BACKEND]:["Express","NestJS","Swagger"]},auth:{any:["Login","Security"],[Ze.FRONTEND]:["Clerk","Auth0","JWT Decode"],[Ze.BACKEND]:["Passport.js","OAuth2","BCrypt","Session"]},db:{any:["SQL","NoSQL"],[Ze.BACKEND]:["PostgreSQL","MongoDB","Redis","Prisma"],[Ze.FULLSTACK]:["Supabase","Firebase"]},test:{any:["Unit Tests","TDD"],[Ze.FRONTEND]:["Jest","React Testing Library","Cypress"],[Ze.BACKEND]:["Supertest","Mocha"]}},R3=["Clean Code","Documentation","Best Practices","Scalable","Modular"],N3=(t,e,n=!1)=>F.useMemo(()=>{if(n)return[];const r=t.toLowerCase(),o=D3[e]||[],s=[];Object.keys(Q1).forEach(c=>{if(r.includes(c)){const f=Q1[c];f[e]&&s.push(...f[e]),s.push(...f.any)}});const l=[...s,...o,...R3],u=new Set,d=[];for(const c of l){if(d.length>=10)break;r.includes(c.toLowerCase())||u.has(c)||(u.add(c),d.push(c))}return d},[t,e,n]);var Ye;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function n(o){throw new Error}t.assertNever=n,t.arrayToEnum=o=>{const s={};for(const l of o)s[l]=l;return s},t.getValidEnumValues=o=>{const s=t.objectKeys(o).filter(u=>typeof o[o[u]]!="number"),l={};for(const u of s)l[u]=o[u];return t.objectValues(l)},t.objectValues=o=>t.objectKeys(o).map(function(s){return o[s]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const s=[];for(const l in o)Object.prototype.hasOwnProperty.call(o,l)&&s.push(l);return s},t.find=(o,s)=>{for(const l of o)if(s(l))return l},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,s=" | "){return o.map(l=>typeof l=="string"?`'${l}'`:l).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(Ye||(Ye={}));var zh;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(zh||(zh={}));const ye=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xo=t=>{switch(typeof t){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return isNaN(t)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(t)?ye.array:t===null?ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ye.promise:typeof Map<"u"&&t instanceof Map?ye.map:typeof Set<"u"&&t instanceof Set?ye.set:typeof Date<"u"&&t instanceof Date?ye.date:ye.object;default:return ye.unknown}},fe=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),M3=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class xr extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},o=s=>{for(const l of s.issues)if(l.code==="invalid_union")l.unionErrors.map(o);else if(l.code==="invalid_return_type")o(l.returnTypeError);else if(l.code==="invalid_arguments")o(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let u=r,d=0;for(;d<l.path.length;){const c=l.path[d];d===l.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(n(l))):u[c]=u[c]||{_errors:[]},u=u[c],d++}}};return o(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}xr.create=t=>new xr(t);const Vl=(t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ye.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ye.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ye.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${Ye.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ye.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ye.assertNever(t)}return{message:n}};let QT=Vl;function F3(t){QT=t}function nf(){return QT}const rf=t=>{const{data:e,path:n,errorMaps:r,issueData:o}=t,s=[...n,...o.path||[]],l={...o,path:s};let u="";const d=r.filter(c=>!!c).slice().reverse();for(const c of d)u=c(l,{data:e,defaultError:u}).message;return{...o,path:s,message:o.message||u}},B3=[];function xe(t,e){const n=rf({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,nf(),Vl].filter(r=>!!r)});t.common.issues.push(n)}class cn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const o of n){if(o.status==="aborted")return Le;o.status==="dirty"&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const o of n)r.push({key:await o.key,value:await o.value});return cn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const o of n){const{key:s,value:l}=o;if(s.status==="aborted"||l.status==="aborted")return Le;s.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof l.value<"u"||o.alwaysSet)&&(r[s.value]=l.value)}return{status:e.value,value:r}}}const Le=Object.freeze({status:"aborted"}),eS=t=>({status:"dirty",value:t}),gn=t=>({status:"valid",value:t}),qh=t=>t.status==="aborted",Gh=t=>t.status==="dirty",$l=t=>t.status==="valid",of=t=>typeof Promise<"u"&&t instanceof Promise;var ke;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ke||(ke={}));class $r{constructor(e,n,r,o){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const eE=(t,e)=>{if($l(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new xr(t.common.issues);return this._error=n,this._error}}};function Ue(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:o}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(l,u)=>l.code!=="invalid_type"?{message:u.defaultError}:typeof u.data>"u"?{message:r??u.defaultError}:{message:n??u.defaultError},description:o}}class Oe{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Xo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Xo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new cn,ctx:{common:e.parent.common,data:e.data,parsedType:Xo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(of(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xo(e)},s=this._parseSync({data:e,path:o.path,parent:o});return eE(o,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xo(e)},o=this._parse({data:e,path:r.path,parent:r}),s=await(of(o)?o:Promise.resolve(o));return eE(r,s)}refine(e,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,s)=>{const l=e(o),u=()=>s.addIssue({code:fe.custom,...r(o)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,o)=>e(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(e){return new wr({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return po.create(this,this._def)}nullable(){return Xi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vr.create(this,this._def)}promise(){return la.create(this,this._def)}or(e){return Gl.create([this,e],this._def)}and(e){return Wl.create(this,e,this._def)}transform(e){return new wr({...Ue(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Zl({...Ue(this._def),innerType:this,defaultValue:n,typeName:Re.ZodDefault})}brand(){return new nS({typeName:Re.ZodBranded,type:this,...Ue(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new uf({...Ue(this._def),innerType:this,catchValue:n,typeName:Re.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return pu.create(this,e)}readonly(){return df.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const L3=/^c[^\s-]{8,}$/i,U3=/^[a-z][a-z0-9]*$/,O3=/^[0-9A-HJKMNP-TV-Z]{26}$/,V3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$3=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,H3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let th;const z3=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,q3=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,G3=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function W3(t,e){return!!((e==="v4"||!e)&&z3.test(t)||(e==="v6"||!e)&&q3.test(t))}class yr extends Oe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const s=this._getOrReturnCtx(e);return xe(s,{code:fe.invalid_type,expected:ye.string,received:s.parsedType}),Le}const r=new cn;let o;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:fe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:fe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const l=e.data.length>s.value,u=e.data.length<s.value;(l||u)&&(o=this._getOrReturnCtx(e,o),l?xe(o,{code:fe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&xe(o,{code:fe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")$3.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"email",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")th||(th=new RegExp(H3,"u")),th.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"emoji",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")V3.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"uuid",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")L3.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"cuid",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")U3.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"cuid2",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")O3.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"ulid",code:fe.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),xe(o,{validation:"url",code:fe.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"regex",code:fe.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(o=this._getOrReturnCtx(e,o),xe(o,{code:fe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(o=this._getOrReturnCtx(e,o),xe(o,{code:fe.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(o=this._getOrReturnCtx(e,o),xe(o,{code:fe.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?G3(s).test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{code:fe.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?W3(e.data,s.version)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"ip",code:fe.invalid_string,message:s.message}),r.dirty()):Ye.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(o=>e.test(o),{validation:n,code:fe.invalid_string,...ke.errToObj(r)})}_addCheck(e){return new yr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ke.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...ke.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ke.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ke.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ke.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ke.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ke.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ke.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ke.errToObj(n)})}nonempty(e){return this.min(1,ke.errToObj(e))}trim(){return new yr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yr.create=t=>{var e;return new yr({checks:[],typeName:Re.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ue(t)})};function K3(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,o=n>r?n:r,s=parseInt(t.toFixed(o).replace(".","")),l=parseInt(e.toFixed(o).replace(".",""));return s%l/Math.pow(10,o)}class ai extends Oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const s=this._getOrReturnCtx(e);return xe(s,{code:fe.invalid_type,expected:ye.number,received:s.parsedType}),Le}let r;const o=new cn;for(const s of this._def.checks)s.kind==="int"?Ye.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.invalid_type,expected:"integer",received:"float",message:s.message}),o.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),o.dirty()):s.kind==="multipleOf"?K3(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_finite,message:s.message}),o.dirty()):Ye.assertNever(s);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ke.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ke.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ke.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ke.toString(n))}setLimit(e,n,r,o){return new ai({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ke.toString(o)}]})}_addCheck(e){return new ai({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ye.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ai.create=t=>new ai({checks:[],typeName:Re.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ue(t)});class li extends Oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ye.bigint){const s=this._getOrReturnCtx(e);return xe(s,{code:fe.invalid_type,expected:ye.bigint,received:s.parsedType}),Le}let r;const o=new cn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),o.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),xe(r,{code:fe.not_multiple_of,multipleOf:s.value,message:s.message}),o.dirty()):Ye.assertNever(s);return{status:o.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ke.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ke.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ke.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ke.toString(n))}setLimit(e,n,r,o){return new li({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ke.toString(o)}]})}_addCheck(e){return new li({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ke.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}li.create=t=>{var e;return new li({checks:[],typeName:Re.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ue(t)})};class Hl extends Oe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ye.boolean,received:r.parsedType}),Le}return gn(e.data)}}Hl.create=t=>new Hl({typeName:Re.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ue(t)});class ji extends Oe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const s=this._getOrReturnCtx(e);return xe(s,{code:fe.invalid_type,expected:ye.date,received:s.parsedType}),Le}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return xe(s,{code:fe.invalid_date}),Le}const r=new cn;let o;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:fe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:fe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ye.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ji({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ke.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ke.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ji.create=t=>new ji({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Re.ZodDate,...Ue(t)});class sf extends Oe{_parse(e){if(this._getType(e)!==ye.symbol){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ye.symbol,received:r.parsedType}),Le}return gn(e.data)}}sf.create=t=>new sf({typeName:Re.ZodSymbol,...Ue(t)});class zl extends Oe{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ye.undefined,received:r.parsedType}),Le}return gn(e.data)}}zl.create=t=>new zl({typeName:Re.ZodUndefined,...Ue(t)});class ql extends Oe{_parse(e){if(this._getType(e)!==ye.null){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ye.null,received:r.parsedType}),Le}return gn(e.data)}}ql.create=t=>new ql({typeName:Re.ZodNull,...Ue(t)});class aa extends Oe{constructor(){super(...arguments),this._any=!0}_parse(e){return gn(e.data)}}aa.create=t=>new aa({typeName:Re.ZodAny,...Ue(t)});class Gi extends Oe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gn(e.data)}}Gi.create=t=>new Gi({typeName:Re.ZodUnknown,...Ue(t)});class Eo extends Oe{_parse(e){const n=this._getOrReturnCtx(e);return xe(n,{code:fe.invalid_type,expected:ye.never,received:n.parsedType}),Le}}Eo.create=t=>new Eo({typeName:Re.ZodNever,...Ue(t)});class af extends Oe{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ye.void,received:r.parsedType}),Le}return gn(e.data)}}af.create=t=>new af({typeName:Re.ZodVoid,...Ue(t)});class vr extends Oe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),o=this._def;if(n.parsedType!==ye.array)return xe(n,{code:fe.invalid_type,expected:ye.array,received:n.parsedType}),Le;if(o.exactLength!==null){const l=n.data.length>o.exactLength.value,u=n.data.length<o.exactLength.value;(l||u)&&(xe(n,{code:l?fe.too_big:fe.too_small,minimum:u?o.exactLength.value:void 0,maximum:l?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(xe(n,{code:fe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(xe(n,{code:fe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>o.type._parseAsync(new $r(n,l,n.path,u)))).then(l=>cn.mergeArray(r,l));const s=[...n.data].map((l,u)=>o.type._parseSync(new $r(n,l,n.path,u)));return cn.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new vr({...this._def,minLength:{value:e,message:ke.toString(n)}})}max(e,n){return new vr({...this._def,maxLength:{value:e,message:ke.toString(n)}})}length(e,n){return new vr({...this._def,exactLength:{value:e,message:ke.toString(n)}})}nonempty(e){return this.min(1,e)}}vr.create=(t,e)=>new vr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...Ue(e)});function Ls(t){if(t instanceof vt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=po.create(Ls(r))}return new vt({...t._def,shape:()=>e})}else return t instanceof vr?new vr({...t._def,type:Ls(t.element)}):t instanceof po?po.create(Ls(t.unwrap())):t instanceof Xi?Xi.create(Ls(t.unwrap())):t instanceof Hr?Hr.create(t.items.map(e=>Ls(e))):t}class vt extends Oe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ye.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ye.object){const c=this._getOrReturnCtx(e);return xe(c,{code:fe.invalid_type,expected:ye.object,received:c.parsedType}),Le}const{status:r,ctx:o}=this._processInputParams(e),{shape:s,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Eo&&this._def.unknownKeys==="strip"))for(const c in o.data)l.includes(c)||u.push(c);const d=[];for(const c of l){const f=s[c],y=o.data[c];d.push({key:{status:"valid",value:c},value:f._parse(new $r(o,y,o.path,c)),alwaysSet:c in o.data})}if(this._def.catchall instanceof Eo){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of u)d.push({key:{status:"valid",value:f},value:{status:"valid",value:o.data[f]}});else if(c==="strict")u.length>0&&(xe(o,{code:fe.unrecognized_keys,keys:u}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of u){const y=o.data[f];d.push({key:{status:"valid",value:f},value:c._parse(new $r(o,y,o.path,f)),alwaysSet:f in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of d){const y=await f.key;c.push({key:y,value:await f.value,alwaysSet:f.alwaysSet})}return c}).then(c=>cn.mergeObjectSync(r,c)):cn.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return ke.errToObj,new vt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,s,l,u;const d=(l=(s=(o=this._def).errorMap)===null||s===void 0?void 0:s.call(o,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=ke.errToObj(e).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new vt({...this._def,unknownKeys:"strip"})}passthrough(){return new vt({...this._def,unknownKeys:"passthrough"})}extend(e){return new vt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new vt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Re.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new vt({...this._def,catchall:e})}pick(e){const n={};return Ye.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new vt({...this._def,shape:()=>n})}omit(e){const n={};return Ye.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new vt({...this._def,shape:()=>n})}deepPartial(){return Ls(this)}partial(e){const n={};return Ye.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];e&&!e[r]?n[r]=o:n[r]=o.optional()}),new vt({...this._def,shape:()=>n})}required(e){const n={};return Ye.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof po;)s=s._def.innerType;n[r]=s}}),new vt({...this._def,shape:()=>n})}keyof(){return tS(Ye.objectKeys(this.shape))}}vt.create=(t,e)=>new vt({shape:()=>t,unknownKeys:"strip",catchall:Eo.create(),typeName:Re.ZodObject,...Ue(e)});vt.strictCreate=(t,e)=>new vt({shape:()=>t,unknownKeys:"strict",catchall:Eo.create(),typeName:Re.ZodObject,...Ue(e)});vt.lazycreate=(t,e)=>new vt({shape:t,unknownKeys:"strip",catchall:Eo.create(),typeName:Re.ZodObject,...Ue(e)});class Gl extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function o(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=s.map(u=>new xr(u.ctx.common.issues));return xe(n,{code:fe.invalid_union,unionErrors:l}),Le}if(n.common.async)return Promise.all(r.map(async s=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(o);{let s;const l=[];for(const d of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=d._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:c}),c.common.issues.length&&l.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const u=l.map(d=>new xr(d));return xe(n,{code:fe.invalid_union,unionErrors:u}),Le}}get options(){return this._def.options}}Gl.create=(t,e)=>new Gl({options:t,typeName:Re.ZodUnion,...Ue(e)});const Yc=t=>t instanceof Yl?Yc(t.schema):t instanceof wr?Yc(t.innerType()):t instanceof Jl?[t.value]:t instanceof ui?t.options:t instanceof jl?Object.keys(t.enum):t instanceof Zl?Yc(t._def.innerType):t instanceof zl?[void 0]:t instanceof ql?[null]:null;class zf extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.object)return xe(n,{code:fe.invalid_type,expected:ye.object,received:n.parsedType}),Le;const r=this.discriminator,o=n.data[r],s=this.optionsMap.get(o);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(xe(n,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Le)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const o=new Map;for(const s of n){const l=Yc(s.shape[e]);if(!l)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of l){if(o.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);o.set(u,s)}}return new zf({typeName:Re.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:o,...Ue(r)})}}function Wh(t,e){const n=Xo(t),r=Xo(e);if(t===e)return{valid:!0,data:t};if(n===ye.object&&r===ye.object){const o=Ye.objectKeys(e),s=Ye.objectKeys(t).filter(u=>o.indexOf(u)!==-1),l={...t,...e};for(const u of s){const d=Wh(t[u],e[u]);if(!d.valid)return{valid:!1};l[u]=d.data}return{valid:!0,data:l}}else if(n===ye.array&&r===ye.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let s=0;s<t.length;s++){const l=t[s],u=e[s],d=Wh(l,u);if(!d.valid)return{valid:!1};o.push(d.data)}return{valid:!0,data:o}}else return n===ye.date&&r===ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Wl extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=(s,l)=>{if(qh(s)||qh(l))return Le;const u=Wh(s.value,l.value);return u.valid?((Gh(s)||Gh(l))&&n.dirty(),{status:n.value,value:u.data}):(xe(r,{code:fe.invalid_intersection_types}),Le)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,l])=>o(s,l)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Wl.create=(t,e,n)=>new Wl({left:t,right:e,typeName:Re.ZodIntersection,...Ue(n)});class Hr extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.array)return xe(r,{code:fe.invalid_type,expected:ye.array,received:r.parsedType}),Le;if(r.data.length<this._def.items.length)return xe(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Le;!this._def.rest&&r.data.length>this._def.items.length&&(xe(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((l,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new $r(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(s).then(l=>cn.mergeArray(n,l)):cn.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Hr({...this._def,rest:e})}}Hr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hr({items:t,typeName:Re.ZodTuple,rest:null,...Ue(e)})};class Kl extends Oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.object)return xe(r,{code:fe.invalid_type,expected:ye.object,received:r.parsedType}),Le;const o=[],s=this._def.keyType,l=this._def.valueType;for(const u in r.data)o.push({key:s._parse(new $r(r,u,r.path,u)),value:l._parse(new $r(r,r.data[u],r.path,u))});return r.common.async?cn.mergeObjectAsync(n,o):cn.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Oe?new Kl({keyType:e,valueType:n,typeName:Re.ZodRecord,...Ue(r)}):new Kl({keyType:yr.create(),valueType:e,typeName:Re.ZodRecord,...Ue(n)})}}class lf extends Oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.map)return xe(r,{code:fe.invalid_type,expected:ye.map,received:r.parsedType}),Le;const o=this._def.keyType,s=this._def.valueType,l=[...r.data.entries()].map(([u,d],c)=>({key:o._parse(new $r(r,u,r.path,[c,"key"])),value:s._parse(new $r(r,d,r.path,[c,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of l){const c=await d.key,f=await d.value;if(c.status==="aborted"||f.status==="aborted")return Le;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),u.set(c.value,f.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of l){const c=d.key,f=d.value;if(c.status==="aborted"||f.status==="aborted")return Le;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),u.set(c.value,f.value)}return{status:n.value,value:u}}}}lf.create=(t,e,n)=>new lf({valueType:e,keyType:t,typeName:Re.ZodMap,...Ue(n)});class Zi extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.set)return xe(r,{code:fe.invalid_type,expected:ye.set,received:r.parsedType}),Le;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(xe(r,{code:fe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(xe(r,{code:fe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const s=this._def.valueType;function l(d){const c=new Set;for(const f of d){if(f.status==="aborted")return Le;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}const u=[...r.data.values()].map((d,c)=>s._parse(new $r(r,d,r.path,c)));return r.common.async?Promise.all(u).then(d=>l(d)):l(u)}min(e,n){return new Zi({...this._def,minSize:{value:e,message:ke.toString(n)}})}max(e,n){return new Zi({...this._def,maxSize:{value:e,message:ke.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Zi.create=(t,e)=>new Zi({valueType:t,minSize:null,maxSize:null,typeName:Re.ZodSet,...Ue(e)});class Js extends Oe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.function)return xe(n,{code:fe.invalid_type,expected:ye.function,received:n.parsedType}),Le;function r(u,d){return rf({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,nf(),Vl].filter(c=>!!c),issueData:{code:fe.invalid_arguments,argumentsError:d}})}function o(u,d){return rf({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,nf(),Vl].filter(c=>!!c),issueData:{code:fe.invalid_return_type,returnTypeError:d}})}const s={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof la){const u=this;return gn(async function(...d){const c=new xr([]),f=await u._def.args.parseAsync(d,s).catch(v=>{throw c.addIssue(r(d,v)),c}),y=await Reflect.apply(l,this,f);return await u._def.returns._def.type.parseAsync(y,s).catch(v=>{throw c.addIssue(o(y,v)),c})})}else{const u=this;return gn(function(...d){const c=u._def.args.safeParse(d,s);if(!c.success)throw new xr([r(d,c.error)]);const f=Reflect.apply(l,this,c.data),y=u._def.returns.safeParse(f,s);if(!y.success)throw new xr([o(f,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Js({...this._def,args:Hr.create(e).rest(Gi.create())})}returns(e){return new Js({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Js({args:e||Hr.create([]).rest(Gi.create()),returns:n||Gi.create(),typeName:Re.ZodFunction,...Ue(r)})}}class Yl extends Oe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yl.create=(t,e)=>new Yl({getter:t,typeName:Re.ZodLazy,...Ue(e)});class Jl extends Oe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return xe(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),Le}return{status:"valid",value:e.data}}get value(){return this._def.value}}Jl.create=(t,e)=>new Jl({value:t,typeName:Re.ZodLiteral,...Ue(e)});function tS(t,e){return new ui({values:t,typeName:Re.ZodEnum,...Ue(e)})}class ui extends Oe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{expected:Ye.joinValues(r),received:n.parsedType,code:fe.invalid_type}),Le}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return xe(n,{received:n.data,code:fe.invalid_enum_value,options:r}),Le}return gn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return ui.create(e)}exclude(e){return ui.create(this.options.filter(n=>!e.includes(n)))}}ui.create=tS;class jl extends Oe{_parse(e){const n=Ye.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ye.string&&r.parsedType!==ye.number){const o=Ye.objectValues(n);return xe(r,{expected:Ye.joinValues(o),received:r.parsedType,code:fe.invalid_type}),Le}if(n.indexOf(e.data)===-1){const o=Ye.objectValues(n);return xe(r,{received:r.data,code:fe.invalid_enum_value,options:o}),Le}return gn(e.data)}get enum(){return this._def.values}}jl.create=(t,e)=>new jl({values:t,typeName:Re.ZodNativeEnum,...Ue(e)});class la extends Oe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.promise&&n.common.async===!1)return xe(n,{code:fe.invalid_type,expected:ye.promise,received:n.parsedType}),Le;const r=n.parsedType===ye.promise?n.data:Promise.resolve(n.data);return gn(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}la.create=(t,e)=>new la({type:t,typeName:Re.ZodPromise,...Ue(e)});class wr extends Oe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),o=this._def.effect||null,s={addIssue:l=>{xe(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),o.type==="preprocess"){const l=o.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(l).then(u=>this._def.schema._parseAsync({data:u,path:r.path,parent:r})):this._def.schema._parseSync({data:l,path:r.path,parent:r})}if(o.type==="refinement"){const l=u=>{const d=o.refinement(u,s);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Le:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Le:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(o.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!$l(l))return l;const u=o.transform(l.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>$l(l)?Promise.resolve(o.transform(l.value,s)).then(u=>({status:n.value,value:u})):l);Ye.assertNever(o)}}wr.create=(t,e,n)=>new wr({schema:t,typeName:Re.ZodEffects,effect:e,...Ue(n)});wr.createWithPreprocess=(t,e,n)=>new wr({schema:e,effect:{type:"preprocess",transform:t},typeName:Re.ZodEffects,...Ue(n)});class po extends Oe{_parse(e){return this._getType(e)===ye.undefined?gn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}po.create=(t,e)=>new po({innerType:t,typeName:Re.ZodOptional,...Ue(e)});class Xi extends Oe{_parse(e){return this._getType(e)===ye.null?gn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xi.create=(t,e)=>new Xi({innerType:t,typeName:Re.ZodNullable,...Ue(e)});class Zl extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Zl.create=(t,e)=>new Zl({innerType:t,typeName:Re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ue(e)});class uf extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return of(o)?o.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new xr(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new xr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}uf.create=(t,e)=>new uf({innerType:t,typeName:Re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ue(e)});class cf extends Oe{_parse(e){if(this._getType(e)!==ye.nan){const r=this._getOrReturnCtx(e);return xe(r,{code:fe.invalid_type,expected:ye.nan,received:r.parsedType}),Le}return{status:"valid",value:e.data}}}cf.create=t=>new cf({typeName:Re.ZodNaN,...Ue(t)});const Y3=Symbol("zod_brand");class nS extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class pu extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Le:s.status==="dirty"?(n.dirty(),eS(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Le:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(e,n){return new pu({in:e,out:n,typeName:Re.ZodPipeline})}}class df extends Oe{_parse(e){const n=this._def.innerType._parse(e);return $l(n)&&(n.value=Object.freeze(n.value)),n}}df.create=(t,e)=>new df({innerType:t,typeName:Re.ZodReadonly,...Ue(e)});const rS=(t,e={},n)=>t?aa.create().superRefine((r,o)=>{var s,l;if(!t(r)){const u=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,d=(l=(s=u.fatal)!==null&&s!==void 0?s:n)!==null&&l!==void 0?l:!0,c=typeof u=="string"?{message:u}:u;o.addIssue({code:"custom",...c,fatal:d})}}):aa.create(),J3={object:vt.lazycreate};var Re;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Re||(Re={}));const j3=(t,e={message:`Input not instance of ${t.name}`})=>rS(n=>n instanceof t,e),oS=yr.create,iS=ai.create,Z3=cf.create,X3=li.create,sS=Hl.create,Q3=ji.create,e8=sf.create,t8=zl.create,n8=ql.create,r8=aa.create,o8=Gi.create,i8=Eo.create,s8=af.create,a8=vr.create,l8=vt.create,u8=vt.strictCreate,c8=Gl.create,d8=zf.create,f8=Wl.create,p8=Hr.create,h8=Kl.create,m8=lf.create,g8=Zi.create,y8=Js.create,x8=Yl.create,v8=Jl.create,E8=ui.create,C8=jl.create,_8=la.create,tE=wr.create,w8=po.create,T8=Xi.create,S8=wr.createWithPreprocess,A8=pu.create,k8=()=>oS().optional(),b8=()=>iS().optional(),P8=()=>sS().optional(),I8={string:(t=>yr.create({...t,coerce:!0})),number:(t=>ai.create({...t,coerce:!0})),boolean:(t=>Hl.create({...t,coerce:!0})),bigint:(t=>li.create({...t,coerce:!0})),date:(t=>ji.create({...t,coerce:!0}))},D8=Le;var zs=Object.freeze({__proto__:null,defaultErrorMap:Vl,setErrorMap:F3,getErrorMap:nf,makeIssue:rf,EMPTY_PATH:B3,addIssueToContext:xe,ParseStatus:cn,INVALID:Le,DIRTY:eS,OK:gn,isAborted:qh,isDirty:Gh,isValid:$l,isAsync:of,get util(){return Ye},get objectUtil(){return zh},ZodParsedType:ye,getParsedType:Xo,ZodType:Oe,ZodString:yr,ZodNumber:ai,ZodBigInt:li,ZodBoolean:Hl,ZodDate:ji,ZodSymbol:sf,ZodUndefined:zl,ZodNull:ql,ZodAny:aa,ZodUnknown:Gi,ZodNever:Eo,ZodVoid:af,ZodArray:vr,ZodObject:vt,ZodUnion:Gl,ZodDiscriminatedUnion:zf,ZodIntersection:Wl,ZodTuple:Hr,ZodRecord:Kl,ZodMap:lf,ZodSet:Zi,ZodFunction:Js,ZodLazy:Yl,ZodLiteral:Jl,ZodEnum:ui,ZodNativeEnum:jl,ZodPromise:la,ZodEffects:wr,ZodTransformer:wr,ZodOptional:po,ZodNullable:Xi,ZodDefault:Zl,ZodCatch:uf,ZodNaN:cf,BRAND:Y3,ZodBranded:nS,ZodPipeline:pu,ZodReadonly:df,custom:rS,Schema:Oe,ZodSchema:Oe,late:J3,get ZodFirstPartyTypeKind(){return Re},coerce:I8,any:r8,array:a8,bigint:X3,boolean:sS,date:Q3,discriminatedUnion:d8,effect:tE,enum:E8,function:y8,instanceof:j3,intersection:f8,lazy:x8,literal:v8,map:m8,nan:Z3,nativeEnum:C8,never:i8,null:n8,nullable:T8,number:iS,object:l8,oboolean:P8,onumber:b8,optional:w8,ostring:k8,pipeline:A8,preprocess:S8,promise:_8,record:h8,set:g8,strictObject:u8,string:oS,symbol:e8,transformer:tE,tuple:p8,undefined:t8,union:c8,unknown:o8,void:s8,NEVER:D8,ZodIssueCode:fe,quotelessJson:M3,ZodError:xr});class Ko extends Error{constructor(e,n){super(e),this.name="APIError",this.status=n}}class R8 extends Ko{constructor(e,n=60){super(e,429),this.name="RateLimitError",this.retryAfter=n}}const N8=zs.object({input:zs.string().min(10,"Prompt is too short. Please describe your idea in at least 10 characters.").max(5e3,"Prompt is too long. Please keep it under 5000 characters.")});zs.object({name:zs.string().min(3,"Template name must be at least 3 characters."),text:zs.string().min(10,"Template content must be at least 10 characters."),domain:zs.string()});const M8=(t,e=!1,n=!1)=>{const[r,o]=F.useState(null);return F.useEffect(()=>{if(e||n||!t){o(null);return}const s=N8.safeParse({input:t});s.success?o(null):o(s.error.errors[0].message)},[t,e,n]),r},F8=({input:t,setInput:e,options:n,setOptions:r,onEnhance:o,onSave:s,onSaveTemplate:l,isLoading:u,isBooting:d=!1,readOnly:c=!1,saveStatus:f="idle",lastSaved:y=null})=>{const m=M8(t,d,c),v=N3(t,n.domain,d);F.useEffect(()=>{const b=D=>{var R;D.key==="Escape"&&((R=document.activeElement)==null?void 0:R.id)==="main-input"&&!c&&e("")};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[c,e]);const C=(b,D)=>{c||(e(b),ct(`Loaded example: ${D}`))},_=b=>{if(c)return;const D=t.length>0&&!t.endsWith(" ");e(t+(D?" ":"")+b),ct(`Added "${b}"`)},S=b=>{r({...n,mode:b})},P=b=>{r(b),Mv("Configuration updated")},w=n.mode!==Xt.BASIC,A=Hh.map(b=>({label:b.label,description:b.text,onClick:()=>C(b.text,b.label)}));return k.jsxs("div",{className:`flex flex-col h-full card-base ${c?"opacity-80":"card-interactive"}`,children:[k.jsxs("div",{className:"px-6 py-4 border-b border-slate-800 bg-slate-900 flex items-center justify-between z-20 gap-4",children:[k.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[k.jsxs("h2",{className:"text-sm font-semibold text-secondary flex items-center gap-2 whitespace-nowrap",children:[c?k.jsx(Jk,{className:"w-4 h-4 text-slate-500","aria-hidden":"true"}):k.jsx(sb,{className:"w-4 h-4 text-indigo-400","aria-hidden":"true"}),"Configuration"]}),!c&&!d&&k.jsx(T3,{status:f,lastSaved:y,retryCount:0})]}),k.jsx("div",{className:"flex items-center gap-2 shrink-0",children:!c&&!d&&k.jsxs(k.Fragment,{children:[k.jsxs("button",{onClick:l,disabled:!t.trim(),className:"btn-ghost px-3 py-1.5 text-xs",title:"Save current input text as a reusable template",children:[k.jsx(Wk,{className:"w-3.5 h-3.5","aria-hidden":"true"}),k.jsx("span",{className:"hidden sm:inline",children:"Template"})]}),k.jsxs("button",{onClick:s,disabled:!t.trim(),className:"btn-ghost px-3 py-1.5 text-xs",title:"Save current configuration as a project",children:[k.jsx(ib,{className:"w-3.5 h-3.5","aria-hidden":"true"}),k.jsx("span",{className:"hidden sm:inline",children:"Project"})]}),k.jsx(XT,{trigger:k.jsxs("button",{className:"flex items-center gap-2 text-xs font-medium text-indigo-400 hover:text-indigo-300 transition-colors bg-indigo-500/5 px-3 py-1.5 rounded-lg border border-indigo-500/10 hover:border-indigo-500/30 focus:ring-2 focus:ring-indigo-500 outline-none",children:[k.jsx(Kk,{className:"w-3.5 h-3.5","aria-hidden":"true"}),k.jsx("span",{className:"hidden sm:inline",children:"Examples"}),k.jsx(Dm,{className:"w-3 h-3","aria-hidden":"true"})]}),items:A})]})})]}),k.jsx(XD,{children:d?k.jsx(C3,{}):k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"px-6 pt-6",children:k.jsx(b3,{mode:n.mode,onChange:S,disabled:c})}),k.jsx(P3,{options:n,onChange:P,disabled:c,isAdvancedMode:w})]})}),w&&k.jsxs("div",{className:`px-6 py-4 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 bg-slate-800/30 border-b border-slate-800 animate-in fade-in duration-300 ${c?"pointer-events-none grayscale-[0.5]":""}`,children:[k.jsx(Wo,{label:"Stack Recs",icon:k.jsx("span",{className:"text-xs",children:""}),checked:n.includeTechStack,onChange:b=>r({...n,includeTechStack:b.target.checked}),disabled:c}),k.jsx(Wo,{label:"Best Practices",icon:k.jsx("span",{className:"text-xs",children:""}),checked:n.includeBestPractices,onChange:b=>r({...n,includeBestPractices:b.target.checked}),disabled:c}),k.jsx(Wo,{label:"Edge Cases",icon:k.jsx("span",{className:"text-xs",children:""}),checked:n.includeEdgeCases,onChange:b=>r({...n,includeEdgeCases:b.target.checked}),disabled:c}),k.jsx(Wo,{label:"Code Snippet",icon:k.jsx("span",{className:"text-xs",children:""}),checked:!!n.includeCodeSnippet,onChange:b=>r({...n,includeCodeSnippet:b.target.checked}),disabled:c}),k.jsx(Wo,{label:"Example Usage",icon:k.jsx("span",{className:"text-xs",children:""}),checked:!!n.includeExampleUsage,onChange:b=>r({...n,includeExampleUsage:b.target.checked}),disabled:c}),k.jsx(Wo,{label:"Include Tests",icon:k.jsx("span",{className:"text-xs",children:""}),checked:!!n.includeTests,onChange:b=>r({...n,includeTests:b.target.checked}),disabled:c}),k.jsx(Wo,{label:"Thinking Mode",icon:k.jsx(Ev,{className:"w-3 h-3"}),checked:n.useThinking,onChange:b=>{r({...n,useThinking:b.target.checked}),b.target.checked&&Mv("Thinking Mode enabled (v3.0 Pro)")},disabled:c,className:n.useThinking?"text-purple-400":""})]}),k.jsxs("div",{className:"flex-1 px-6 pb-6 flex flex-col gap-3",children:[k.jsxs("div",{className:"flex-1 flex flex-col",children:[k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsx("label",{htmlFor:"main-input",className:"text-xs font-medium text-slate-200 uppercase tracking-wider flex items-center gap-2",children:n.mode===Xt.OUTLINE?" Rough Topic or Idea":" Your Rough Idea"}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsxs("span",{className:"text-xs text-slate-400",children:[t.length," chars  ~",F.useMemo(()=>Math.ceil(t.length/4),[t.length])," tokens"]}),t.length>0&&!c&&k.jsx("button",{onClick:()=>e(""),className:"text-xs text-slate-400 hover:text-red-400 transition-colors px-2 py-1 rounded hover:bg-slate-700",title:"Clear input",children:"Clear"})]})]}),k.jsx(ZT,{id:"main-input",value:t,onChange:b=>e(b.target.value),placeholder:n.mode===Xt.OUTLINE?` Describe your project, feature, or concept...

Example: A comprehensive project plan for migrating a monolith to microservices with zero downtime`:` Describe what you want to build...

Example: I want a react login form with email validation, password strength indicator, and a sleek dark mode design`,readOnly:c||d,error:m||void 0,className:"flex-1"})]}),!c&&(d?k.jsx(_3,{}):k.jsx(I3,{suggestions:v,onAddSuggestion:_,disabled:c})),!c&&k.jsx("button",{onClick:o,disabled:u||!t.trim()||d||!!m,className:`
              mt-1 relative w-full py-4 rounded-xl font-bold text-white shadow-lg
              transition-all duration-300 flex items-center justify-center gap-3 overflow-hidden focus-ring
              ${u||!t.trim()||d||m?"bg-secondary text-muted cursor-not-allowed":n.useThinking?"gradient-thinking hover:shadow-purple-500/25 hover:scale-[1.02]":"gradient-primary hover:shadow-blue-500/25 hover:scale-[1.02]"}
              active:scale-[0.99]
            `,children:u?k.jsxs(k.Fragment,{children:[k.jsx(x3,{size:"sm"}),k.jsx("span",{children:n.useThinking?"Reasoning & Generating...":n.mode===Xt.OUTLINE?"Generating Outline...":n.mode===Xt.BASIC?"Refining...":"Enhancing Prompt..."})]}):k.jsxs(k.Fragment,{children:[n.useThinking?k.jsx(Ev,{className:"w-5 h-5","aria-hidden":"true"}):k.jsx(da,{className:"w-5 h-5","aria-hidden":"true"}),k.jsx("span",{children:n.useThinking?"Enhance with Thinking":n.mode===Xt.OUTLINE?"Generate Outline":n.mode===Xt.BASIC?"Refine Prompt":"Enhance Prompt"})]})})]})]})},B8=({onExport:t,disabled:e})=>{const[n,r]=F.useState(!1),[o,s]=F.useState("all"),l=F.useRef(null);F.useEffect(()=>{const d=c=>{l.current&&!l.current.contains(c.target)&&r(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const u=d=>{t(d,o),r(!1)};return k.jsxs("div",{className:"relative",ref:l,children:[k.jsxs("button",{onClick:()=>!e&&r(!n),disabled:e,className:`
          flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all focus:ring-2 focus:ring-indigo-500 outline-none
          ${e?"bg-slate-800 text-slate-500 cursor-not-allowed border border-transparent":"bg-slate-800 text-slate-300 hover:bg-slate-700 hover:text-white border border-transparent hover:border-slate-600"}
        `,"aria-expanded":n,"aria-haspopup":"true",title:"Export options",children:[k.jsx(Uk,{className:"w-3.5 h-3.5"}),k.jsx("span",{children:"Export"}),k.jsx(Dm,{className:`w-3 h-3 transition-transform ${n?"rotate-180":""}`})]}),n&&k.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-slate-900 border border-slate-700 rounded-xl shadow-2xl overflow-hidden z-50 animate-in fade-in zoom-in-95 duration-100",children:[k.jsxs("div",{className:"p-2 border-b border-slate-800 bg-slate-950/30",children:[k.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider mb-2 px-1",children:"Content Scope"}),k.jsxs("div",{className:"flex bg-slate-950 p-1 rounded-lg border border-slate-800",children:[k.jsxs("button",{onClick:()=>s("all"),className:`flex-1 py-1.5 rounded-md text-[10px] font-medium flex items-center justify-center gap-1 transition-all ${o==="all"?"bg-indigo-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"}`,title:"Export both original input and enhanced output",children:[k.jsx(W_,{className:"w-3 h-3"}),"All"]}),k.jsxs("button",{onClick:()=>s("enhanced"),className:`flex-1 py-1.5 rounded-md text-[10px] font-medium flex items-center justify-center gap-1 transition-all ${o==="enhanced"?"bg-indigo-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"}`,title:"Export enhanced output only",children:[k.jsx(da,{className:"w-3 h-3"}),"Output"]}),k.jsxs("button",{onClick:()=>s("original"),className:`flex-1 py-1.5 rounded-md text-[10px] font-medium flex items-center justify-center gap-1 transition-all ${o==="original"?"bg-indigo-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"}`,title:"Export original input only",children:[k.jsx(Hk,{className:"w-3 h-3"}),"Input"]})]})]}),k.jsxs("div",{className:"p-1",children:[k.jsx("div",{className:"px-3 py-2 text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Select Format"}),k.jsxs("button",{onClick:()=>u("markdown"),className:"w-full flex items-center gap-3 px-3 py-2 text-left text-xs text-slate-300 hover:bg-slate-800 hover:text-white rounded-lg transition-colors group",children:[k.jsx($k,{className:"w-4 h-4 text-indigo-400 group-hover:text-indigo-300"}),k.jsxs("div",{className:"flex flex-col",children:[k.jsx("span",{className:"font-medium",children:"Markdown"}),k.jsx("span",{className:"text-[10px] text-slate-500",children:".md file"})]})]}),k.jsxs("button",{onClick:()=>u("json"),className:"w-full flex items-center gap-3 px-3 py-2 text-left text-xs text-slate-300 hover:bg-slate-800 hover:text-white rounded-lg transition-colors group",children:[k.jsx(zk,{className:"w-4 h-4 text-yellow-500 group-hover:text-yellow-400"}),k.jsxs("div",{className:"flex flex-col",children:[k.jsx("span",{className:"font-medium",children:"JSON Data"}),k.jsx("span",{className:"text-[10px] text-slate-500",children:"Structured .json"})]})]}),k.jsxs("button",{onClick:()=>u("pdf"),className:"w-full flex items-center gap-3 px-3 py-2 text-left text-xs text-slate-300 hover:bg-slate-800 hover:text-white rounded-lg transition-colors group",children:[k.jsx(Rm,{className:"w-4 h-4 text-red-500 group-hover:text-red-400"}),k.jsxs("div",{className:"flex flex-col",children:[k.jsx("span",{className:"font-medium",children:"PDF Document"}),k.jsx("span",{className:"text-[10px] text-slate-500",children:"Visual snapshot (All)"})]})]}),k.jsxs("button",{onClick:()=>u("text"),className:"w-full flex items-center gap-3 px-3 py-2 text-left text-xs text-slate-300 hover:bg-slate-800 hover:text-white rounded-lg transition-colors group",children:[k.jsx("div",{className:"w-4 h-4 flex items-center justify-center font-mono font-bold text-slate-400",children:"T"}),k.jsxs("div",{className:"flex flex-col",children:[k.jsx("span",{className:"font-medium",children:"Plain Text"}),k.jsx("span",{className:"text-[10px] text-slate-500",children:"Simple .txt"})]})]})]})]})]})};var Jc={exports:{}},L8=Jc.exports,nE;function U8(){return nE||(nE=1,(function(t,e){(function(n,r){r()})(L8,function(){function n(c,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,f,y){var m=new XMLHttpRequest;m.open("GET",c),m.responseType="blob",m.onload=function(){d(m.response,f,y)},m.onerror=function(){console.error("could not download file")},m.send()}function o(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Vi=="object"&&Vi.global===Vi?Vi:void 0,u=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(c,f,y){var m=l.URL||l.webkitURL,v=document.createElement("a");f=f||c.name||"download",v.download=f,v.rel="noopener",typeof c=="string"?(v.href=c,v.origin===location.origin?s(v):o(v.href)?r(c,f,y):s(v,v.target="_blank")):(v.href=m.createObjectURL(c),setTimeout(function(){m.revokeObjectURL(v.href)},4e4),setTimeout(function(){s(v)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,y){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,y),f);else if(o(c))r(c,f,y);else{var m=document.createElement("a");m.href=c,m.target="_blank",setTimeout(function(){s(m)})}}:function(c,f,y,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof c=="string")return r(c,f,y);var v=c.type==="application/octet-stream",C=/constructor/i.test(l.HTMLElement)||l.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||v&&C||u)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var A=S.result;A=_?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=A:location=A,m=null},S.readAsDataURL(c)}else{var P=l.URL||l.webkitURL,w=P.createObjectURL(c);m?m.location=w:location.href=w,m=null,setTimeout(function(){P.revokeObjectURL(w)},4e4)}});l.saveAs=d.saveAs=d,t.exports=d})})(Jc)),Jc.exports}var O8=U8();const fg=ca(O8);class qs{constructor(){this.logs=[]}static getInstance(){return qs.instance||(qs.instance=new qs),qs.instance}error(e,n){const r={message:e.message,stack:e.stack,context:n,timestamp:Date.now(),userAgent:navigator.userAgent,level:"error"};this.logs.push(r),console.groupCollapsed(`[Error] ${e.message}`),console.error(e),n&&console.info("Context:",n),console.groupEnd()}info(e,n){const r={message:e,context:n,timestamp:Date.now(),userAgent:navigator.userAgent,level:"info"};this.logs.push(r),console.groupCollapsed(`[Info] ${e}`),n&&console.info("Context:",n),console.groupEnd()}log(e,n){this.error(e,n)}getLogs(){return this.logs}}const Kt=qs.getInstance(),nh=(t,e)=>`
---
Generated by: DevPrompt Studio
Timestamp: ${e}
Domain: ${t.domain}
Tool: ${t.targetTool}
Platform: ${t.platform}
Complexity: ${t.complexity}
---
`,V8=t=>{try{const e=new Date().toLocaleString();let n="";t.scope==="all"?n=`# Enhanced Prompt Specification
${nh(t.options,e)}

## Original Input
${t.input}

## Enhanced Output
${t.output}
`:t.scope==="enhanced"?n=`# Enhanced Prompt
${nh(t.options,e)}

${t.output}
`:t.scope==="original"&&(n=`# Original Input
${nh(t.options,e)}

${t.input}
`);const r=new Blob([n],{type:"text/markdown;charset=utf-8"});fg(r,`devprompt-${t.scope}-${Date.now()}.md`),Kt.info("Export Success",{format:"markdown",scope:t.scope})}catch(e){Kt.error(new Error("Export Failed"),{format:"markdown",error:e.message})}},$8=t=>{try{let n={...{meta:{generator:"DevPrompt Studio",timestamp:new Date().toISOString(),version:"1.0",scope:t.scope,options:t.options}}};t.scope==="all"?(n.input=t.input,n.output=t.output):t.scope==="enhanced"?n.content=t.output:t.scope==="original"&&(n.content=t.input);const r=JSON.stringify(n,null,2),o=new Blob([r],{type:"application/json;charset=utf-8"});fg(o,`devprompt-${t.scope}-${Date.now()}.json`),Kt.info("Export Success",{format:"json",scope:t.scope})}catch(e){Kt.error(new Error("Export Failed"),{format:"json",error:e.message})}},H8=t=>{try{const e=new Date().toLocaleString();let n=`DEVPROMPT STUDIO EXPORT (${t.scope.toUpperCase()})
-----------------------
Date: ${e}
Configuration: ${t.options.domain} / ${t.options.targetTool}

`;t.scope==="all"?n+=`ORIGINAL INPUT:
${t.input}

ENHANCED OUTPUT:
${t.output}`:t.scope==="enhanced"?n+=`${t.output}`:t.scope==="original"&&(n+=`${t.input}`);const r=new Blob([n],{type:"text/plain;charset=utf-8"});fg(r,`devprompt-${t.scope}-${Date.now()}.txt`),Kt.info("Export Success",{format:"text",scope:t.scope})}catch(e){Kt.error(new Error("Export Failed"),{format:"text",error:e.message})}},z8=async(t,e)=>{try{const n=(await na(async()=>{const{default:C}=await import("./html2canvas.esm-QH1iLAAe.js");return{default:C}},[])).default,{jsPDF:r}=await na(async()=>{const{jsPDF:C}=await import("./jspdf.es.min-D2TS5jBJ.js").then(_=>_.j);return{jsPDF:C}},[]),o=await n(t,{scale:2,backgroundColor:"#0f172a",logging:!1,useCORS:!0}),s=o.toDataURL("image/png"),l=new r({orientation:"portrait",unit:"mm",format:"a4"}),u=l.internal.pageSize.getWidth(),d=l.internal.pageSize.getHeight(),c=u,f=o.height*u/o.width;l.setFillColor(15,23,42),l.rect(0,0,u,d,"F");let y=f,m=0;for(l.addImage(s,"PNG",0,m,c,f),y-=d;y>=0;)m=y-f,l.addPage(),l.setFillColor(15,23,42),l.rect(0,0,u,d,"F"),l.addImage(s,"PNG",0,m,c,f),y-=d;const v=new Date().toLocaleString();l.setFontSize(8),l.setTextColor(100,116,139),l.text(`DevPrompt Studio | Generated: ${v} | Config: ${e.targetTool}`,10,d-10),l.save(`devprompt-export-${Date.now()}.pdf`),Kt.info("Export Success",{format:"pdf",scope:"visual-snapshot"})}catch(n){throw console.error(n),Kt.error(new Error("PDF Export Failed"),{format:"pdf",error:n.message}),n}};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:aS,setPrototypeOf:rE,isFrozen:q8,getPrototypeOf:G8,getOwnPropertyDescriptor:W8}=Object;let{freeze:yn,seal:er,create:Kh}=Object,{apply:Yh,construct:Jh}=typeof Reflect<"u"&&Reflect;yn||(yn=function(e){return e});er||(er=function(e){return e});Yh||(Yh=function(e,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];return e.apply(n,o)});Jh||(Jh=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return new e(...r)});const Nc=xn(Array.prototype.forEach),K8=xn(Array.prototype.lastIndexOf),oE=xn(Array.prototype.pop),al=xn(Array.prototype.push),Y8=xn(Array.prototype.splice),jc=xn(String.prototype.toLowerCase),rh=xn(String.prototype.toString),oh=xn(String.prototype.match),ll=xn(String.prototype.replace),J8=xn(String.prototype.indexOf),j8=xn(String.prototype.trim),gr=xn(Object.prototype.hasOwnProperty),pn=xn(RegExp.prototype.test),ul=Z8(TypeError);function xn(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Yh(t,e,r)}}function Z8(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Jh(t,n)}}function He(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jc;rE&&rE(t,null);let r=e.length;for(;r--;){let o=e[r];if(typeof o=="string"){const s=n(o);s!==o&&(q8(e)||(e[r]=s),o=s)}t[o]=!0}return t}function X8(t){for(let e=0;e<t.length;e++)gr(t,e)||(t[e]=null);return t}function oo(t){const e=Kh(null);for(const[n,r]of aS(t))gr(t,n)&&(Array.isArray(r)?e[n]=X8(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=oo(r):e[n]=r);return e}function cl(t,e){for(;t!==null;){const r=W8(t,e);if(r){if(r.get)return xn(r.get);if(typeof r.value=="function")return xn(r.value)}t=G8(t)}function n(){return null}return n}const iE=yn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ih=yn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),sh=yn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Q8=yn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ah=yn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),e5=yn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sE=yn(["#text"]),aE=yn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),lh=yn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),lE=yn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Mc=yn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),t5=er(/\{\{[\w\W]*|[\w\W]*\}\}/gm),n5=er(/<%[\w\W]*|[\w\W]*%>/gm),r5=er(/\$\{[\w\W]*/gm),o5=er(/^data-[\-\w.\u00B7-\uFFFF]+$/),i5=er(/^aria-[\-\w]+$/),lS=er(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),s5=er(/^(?:\w+script|data):/i),a5=er(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),uS=er(/^html$/i),l5=er(/^[a-z][.\w]*(-[.\w]+)+$/i);var uE=Object.freeze({__proto__:null,ARIA_ATTR:i5,ATTR_WHITESPACE:a5,CUSTOM_ELEMENT:l5,DATA_ATTR:o5,DOCTYPE_NAME:uS,ERB_EXPR:n5,IS_ALLOWED_URI:lS,IS_SCRIPT_OR_DATA:s5,MUSTACHE_EXPR:t5,TMPLIT_EXPR:r5});const dl={element:1,text:3,progressingInstruction:7,comment:8,document:9},u5=function(){return typeof window>"u"?null:window},c5=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const o="data-tt-policy-suffix";n&&n.hasAttribute(o)&&(r=n.getAttribute(o));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},cE=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function cS(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u5();const e=Se=>cS(Se);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==dl.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,o=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:l,Node:u,Element:d,NodeFilter:c,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:y,DOMParser:m,trustedTypes:v}=t,C=d.prototype,_=cl(C,"cloneNode"),S=cl(C,"remove"),P=cl(C,"nextSibling"),w=cl(C,"childNodes"),A=cl(C,"parentNode");if(typeof l=="function"){const Se=n.createElement("template");Se.content&&Se.content.ownerDocument&&(n=Se.content.ownerDocument)}let b,D="";const{implementation:R,createNodeIterator:N,createDocumentFragment:B,getElementsByTagName:L}=n,{importNode:U}=r;let V=cE();e.isSupported=typeof aS=="function"&&typeof A=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:G,ERB_EXPR:W,TMPLIT_EXPR:X,DATA_ATTR:te,ARIA_ATTR:ne,IS_SCRIPT_OR_DATA:ae,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:re}=uE;let{IS_ALLOWED_URI:ee}=uE,M=null;const $=He({},[...iE,...ih,...sh,...ah,...sE]);let Y=null;const Z=He({},[...aE,...lh,...lE,...Mc]);let ce=Object.seal(Kh(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),he=null,Ae=null;const pe=Object.seal(Kh(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Be=!0,Ge=!0,nt=!1,It=!0,je=!1,et=!0,at=!1,$t=!1,Qt=!1,Dt=!1,Jt=!1,At=!1,Xe=!0,Ct=!1;const en="user-content-";let In=!0,Dn=!1,ue={},ze=null;const kt=He({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Sr=null;const rt=He({},["audio","video","img","source","image","track"]);let pt=null;const tn=He({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nr="http://www.w3.org/1998/Math/MathML",Ar="http://www.w3.org/2000/svg",En="http://www.w3.org/1999/xhtml";let zn=En,Wr=!1,kr=null;const vi=He({},[nr,Ar,En],rh);let rr=He({},["mi","mo","mn","ms","mtext"]),Rn=He({},["annotation-xml"]);const or=He({},["title","style","font","a","script"]);let br=null;const us=["application/xhtml+xml","text/html"],cs="text/html";let ht=null,ir=null;const Ei=n.createElement("form"),So=function(z){return z instanceof RegExp||z instanceof Function},sr=function(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ir&&ir===z)){if((!z||typeof z!="object")&&(z={}),z=oo(z),br=us.indexOf(z.PARSER_MEDIA_TYPE)===-1?cs:z.PARSER_MEDIA_TYPE,ht=br==="application/xhtml+xml"?rh:jc,M=gr(z,"ALLOWED_TAGS")?He({},z.ALLOWED_TAGS,ht):$,Y=gr(z,"ALLOWED_ATTR")?He({},z.ALLOWED_ATTR,ht):Z,kr=gr(z,"ALLOWED_NAMESPACES")?He({},z.ALLOWED_NAMESPACES,rh):vi,pt=gr(z,"ADD_URI_SAFE_ATTR")?He(oo(tn),z.ADD_URI_SAFE_ATTR,ht):tn,Sr=gr(z,"ADD_DATA_URI_TAGS")?He(oo(rt),z.ADD_DATA_URI_TAGS,ht):rt,ze=gr(z,"FORBID_CONTENTS")?He({},z.FORBID_CONTENTS,ht):kt,he=gr(z,"FORBID_TAGS")?He({},z.FORBID_TAGS,ht):oo({}),Ae=gr(z,"FORBID_ATTR")?He({},z.FORBID_ATTR,ht):oo({}),ue=gr(z,"USE_PROFILES")?z.USE_PROFILES:!1,Be=z.ALLOW_ARIA_ATTR!==!1,Ge=z.ALLOW_DATA_ATTR!==!1,nt=z.ALLOW_UNKNOWN_PROTOCOLS||!1,It=z.ALLOW_SELF_CLOSE_IN_ATTR!==!1,je=z.SAFE_FOR_TEMPLATES||!1,et=z.SAFE_FOR_XML!==!1,at=z.WHOLE_DOCUMENT||!1,Dt=z.RETURN_DOM||!1,Jt=z.RETURN_DOM_FRAGMENT||!1,At=z.RETURN_TRUSTED_TYPE||!1,Qt=z.FORCE_BODY||!1,Xe=z.SANITIZE_DOM!==!1,Ct=z.SANITIZE_NAMED_PROPS||!1,In=z.KEEP_CONTENT!==!1,Dn=z.IN_PLACE||!1,ee=z.ALLOWED_URI_REGEXP||lS,zn=z.NAMESPACE||En,rr=z.MATHML_TEXT_INTEGRATION_POINTS||rr,Rn=z.HTML_INTEGRATION_POINTS||Rn,ce=z.CUSTOM_ELEMENT_HANDLING||{},z.CUSTOM_ELEMENT_HANDLING&&So(z.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=z.CUSTOM_ELEMENT_HANDLING.tagNameCheck),z.CUSTOM_ELEMENT_HANDLING&&So(z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),z.CUSTOM_ELEMENT_HANDLING&&typeof z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),je&&(Ge=!1),Jt&&(Dt=!0),ue&&(M=He({},sE),Y=[],ue.html===!0&&(He(M,iE),He(Y,aE)),ue.svg===!0&&(He(M,ih),He(Y,lh),He(Y,Mc)),ue.svgFilters===!0&&(He(M,sh),He(Y,lh),He(Y,Mc)),ue.mathMl===!0&&(He(M,ah),He(Y,lE),He(Y,Mc))),z.ADD_TAGS&&(typeof z.ADD_TAGS=="function"?pe.tagCheck=z.ADD_TAGS:(M===$&&(M=oo(M)),He(M,z.ADD_TAGS,ht))),z.ADD_ATTR&&(typeof z.ADD_ATTR=="function"?pe.attributeCheck=z.ADD_ATTR:(Y===Z&&(Y=oo(Y)),He(Y,z.ADD_ATTR,ht))),z.ADD_URI_SAFE_ATTR&&He(pt,z.ADD_URI_SAFE_ATTR,ht),z.FORBID_CONTENTS&&(ze===kt&&(ze=oo(ze)),He(ze,z.FORBID_CONTENTS,ht)),In&&(M["#text"]=!0),at&&He(M,["html","head","body"]),M.table&&(He(M,["tbody"]),delete he.tbody),z.TRUSTED_TYPES_POLICY){if(typeof z.TRUSTED_TYPES_POLICY.createHTML!="function")throw ul('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof z.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ul('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=z.TRUSTED_TYPES_POLICY,D=b.createHTML("")}else b===void 0&&(b=c5(v,o)),b!==null&&typeof D=="string"&&(D=b.createHTML(""));yn&&yn(z),ir=z}},Kr=He({},[...ih,...sh,...Q8]),_t=He({},[...ah,...e5]),qn=function(z){let le=A(z);(!le||!le.tagName)&&(le={namespaceURI:zn,tagName:"template"});const _e=jc(z.tagName),ot=jc(le.tagName);return kr[z.namespaceURI]?z.namespaceURI===Ar?le.namespaceURI===En?_e==="svg":le.namespaceURI===nr?_e==="svg"&&(ot==="annotation-xml"||rr[ot]):!!Kr[_e]:z.namespaceURI===nr?le.namespaceURI===En?_e==="math":le.namespaceURI===Ar?_e==="math"&&Rn[ot]:!!_t[_e]:z.namespaceURI===En?le.namespaceURI===Ar&&!Rn[ot]||le.namespaceURI===nr&&!rr[ot]?!1:!_t[_e]&&(or[_e]||!Kr[_e]):!!(br==="application/xhtml+xml"&&kr[z.namespaceURI]):!1},Bt=function(z){al(e.removed,{element:z});try{A(z).removeChild(z)}catch{S(z)}},Cn=function(z,le){try{al(e.removed,{attribute:le.getAttributeNode(z),from:le})}catch{al(e.removed,{attribute:null,from:le})}if(le.removeAttribute(z),z==="is")if(Dt||Jt)try{Bt(le)}catch{}else try{le.setAttribute(z,"")}catch{}},Ci=function(z){let le=null,_e=null;if(Qt)z="<remove></remove>"+z;else{const wt=oh(z,/^[\r\n\t ]+/);_e=wt&&wt[0]}br==="application/xhtml+xml"&&zn===En&&(z='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+z+"</body></html>");const ot=b?b.createHTML(z):z;if(zn===En)try{le=new m().parseFromString(ot,br)}catch{}if(!le||!le.documentElement){le=R.createDocument(zn,"template",null);try{le.documentElement.innerHTML=Wr?D:ot}catch{}}const Ve=le.body||le.documentElement;return z&&_e&&Ve.insertBefore(n.createTextNode(_e),Ve.childNodes[0]||null),zn===En?L.call(le,at?"html":"body")[0]:at?le.documentElement:Ve},ds=function(z){return N.call(z.ownerDocument||z,z,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Ca=function(z){return z instanceof y&&(typeof z.nodeName!="string"||typeof z.textContent!="string"||typeof z.removeChild!="function"||!(z.attributes instanceof f)||typeof z.removeAttribute!="function"||typeof z.setAttribute!="function"||typeof z.namespaceURI!="string"||typeof z.insertBefore!="function"||typeof z.hasChildNodes!="function")},xu=function(z){return typeof u=="function"&&z instanceof u};function ar(Se,z,le){Nc(Se,_e=>{_e.call(e,z,le,ir)})}const Pr=function(z){let le=null;if(ar(V.beforeSanitizeElements,z,null),Ca(z))return Bt(z),!0;const _e=ht(z.nodeName);if(ar(V.uponSanitizeElement,z,{tagName:_e,allowedTags:M}),et&&z.hasChildNodes()&&!xu(z.firstElementChild)&&pn(/<[/\w!]/g,z.innerHTML)&&pn(/<[/\w!]/g,z.textContent)||z.nodeType===dl.progressingInstruction||et&&z.nodeType===dl.comment&&pn(/<[/\w]/g,z.data))return Bt(z),!0;if(!(pe.tagCheck instanceof Function&&pe.tagCheck(_e))&&(!M[_e]||he[_e])){if(!he[_e]&&wa(_e)&&(ce.tagNameCheck instanceof RegExp&&pn(ce.tagNameCheck,_e)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(_e)))return!1;if(In&&!ze[_e]){const ot=A(z)||z.parentNode,Ve=w(z)||z.childNodes;if(Ve&&ot){const wt=Ve.length;for(let Ht=wt-1;Ht>=0;--Ht){const Gn=_(Ve[Ht],!0);Gn.__removalCount=(z.__removalCount||0)+1,ot.insertBefore(Gn,P(z))}}}return Bt(z),!0}return z instanceof d&&!qn(z)||(_e==="noscript"||_e==="noembed"||_e==="noframes")&&pn(/<\/no(script|embed|frames)/i,z.innerHTML)?(Bt(z),!0):(je&&z.nodeType===dl.text&&(le=z.textContent,Nc([G,W,X],ot=>{le=ll(le,ot," ")}),z.textContent!==le&&(al(e.removed,{element:z.cloneNode()}),z.textContent=le)),ar(V.afterSanitizeElements,z,null),!1)},_a=function(z,le,_e){if(Xe&&(le==="id"||le==="name")&&(_e in n||_e in Ei))return!1;if(!(Ge&&!Ae[le]&&pn(te,le))){if(!(Be&&pn(ne,le))){if(!(pe.attributeCheck instanceof Function&&pe.attributeCheck(le,z))){if(!Y[le]||Ae[le]){if(!(wa(z)&&(ce.tagNameCheck instanceof RegExp&&pn(ce.tagNameCheck,z)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(z))&&(ce.attributeNameCheck instanceof RegExp&&pn(ce.attributeNameCheck,le)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(le,z))||le==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&pn(ce.tagNameCheck,_e)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(_e))))return!1}else if(!pt[le]){if(!pn(ee,ll(_e,j,""))){if(!((le==="src"||le==="xlink:href"||le==="href")&&z!=="script"&&J8(_e,"data:")===0&&Sr[z])){if(!(nt&&!pn(ae,ll(_e,j,"")))){if(_e)return!1}}}}}}}return!0},wa=function(z){return z!=="annotation-xml"&&oh(z,re)},vu=function(z){ar(V.beforeSanitizeAttributes,z,null);const{attributes:le}=z;if(!le||Ca(z))return;const _e={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0};let ot=le.length;for(;ot--;){const Ve=le[ot],{name:wt,namespaceURI:Ht,value:Gn}=Ve,lr=ht(wt),Ta=Gn;let Rt=wt==="value"?Ta:j8(Ta);if(_e.attrName=lr,_e.attrValue=Rt,_e.keepAttr=!0,_e.forceKeepAttr=void 0,ar(V.uponSanitizeAttribute,z,_e),Rt=_e.attrValue,Ct&&(lr==="id"||lr==="name")&&(Cn(wt,z),Rt=en+Rt),et&&pn(/((--!?|])>)|<\/(style|title|textarea)/i,Rt)){Cn(wt,z);continue}if(lr==="attributename"&&oh(Rt,"href")){Cn(wt,z);continue}if(_e.forceKeepAttr)continue;if(!_e.keepAttr){Cn(wt,z);continue}if(!It&&pn(/\/>/i,Rt)){Cn(wt,z);continue}je&&Nc([G,W,X],Nn=>{Rt=ll(Rt,Nn," ")});const _i=ht(z.nodeName);if(!_a(_i,lr,Rt)){Cn(wt,z);continue}if(b&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!Ht)switch(v.getAttributeType(_i,lr)){case"TrustedHTML":{Rt=b.createHTML(Rt);break}case"TrustedScriptURL":{Rt=b.createScriptURL(Rt);break}}if(Rt!==Ta)try{Ht?z.setAttributeNS(Ht,wt,Rt):z.setAttribute(wt,Rt),Ca(z)?Bt(z):oE(e.removed)}catch{Cn(wt,z)}}ar(V.afterSanitizeAttributes,z,null)},Eu=function Se(z){let le=null;const _e=ds(z);for(ar(V.beforeSanitizeShadowDOM,z,null);le=_e.nextNode();)ar(V.uponSanitizeShadowNode,le,null),Pr(le),vu(le),le.content instanceof s&&Se(le.content);ar(V.afterSanitizeShadowDOM,z,null)};return e.sanitize=function(Se){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=null,_e=null,ot=null,Ve=null;if(Wr=!Se,Wr&&(Se="<!-->"),typeof Se!="string"&&!xu(Se))if(typeof Se.toString=="function"){if(Se=Se.toString(),typeof Se!="string")throw ul("dirty is not a string, aborting")}else throw ul("toString is not a function");if(!e.isSupported)return Se;if($t||sr(z),e.removed=[],typeof Se=="string"&&(Dn=!1),Dn){if(Se.nodeName){const Gn=ht(Se.nodeName);if(!M[Gn]||he[Gn])throw ul("root node is forbidden and cannot be sanitized in-place")}}else if(Se instanceof u)le=Ci("<!---->"),_e=le.ownerDocument.importNode(Se,!0),_e.nodeType===dl.element&&_e.nodeName==="BODY"||_e.nodeName==="HTML"?le=_e:le.appendChild(_e);else{if(!Dt&&!je&&!at&&Se.indexOf("<")===-1)return b&&At?b.createHTML(Se):Se;if(le=Ci(Se),!le)return Dt?null:At?D:""}le&&Qt&&Bt(le.firstChild);const wt=ds(Dn?Se:le);for(;ot=wt.nextNode();)Pr(ot),vu(ot),ot.content instanceof s&&Eu(ot.content);if(Dn)return Se;if(Dt){if(Jt)for(Ve=B.call(le.ownerDocument);le.firstChild;)Ve.appendChild(le.firstChild);else Ve=le;return(Y.shadowroot||Y.shadowrootmode)&&(Ve=U.call(r,Ve,!0)),Ve}let Ht=at?le.outerHTML:le.innerHTML;return at&&M["!doctype"]&&le.ownerDocument&&le.ownerDocument.doctype&&le.ownerDocument.doctype.name&&pn(uS,le.ownerDocument.doctype.name)&&(Ht="<!DOCTYPE "+le.ownerDocument.doctype.name+`>
`+Ht),je&&Nc([G,W,X],Gn=>{Ht=ll(Ht,Gn," ")}),b&&At?b.createHTML(Ht):Ht},e.setConfig=function(){let Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};sr(Se),$t=!0},e.clearConfig=function(){ir=null,$t=!1},e.isValidAttribute=function(Se,z,le){ir||sr({});const _e=ht(Se),ot=ht(z);return _a(_e,ot,le)},e.addHook=function(Se,z){typeof z=="function"&&al(V[Se],z)},e.removeHook=function(Se,z){if(z!==void 0){const le=K8(V[Se],z);return le===-1?void 0:Y8(V[Se],le,1)[0]}return oE(V[Se])},e.removeHooks=function(Se){V[Se]=[]},e.removeAllHooks=function(){V=cE()},e}var dS=cS();const FV=Object.freeze(Object.defineProperty({__proto__:null,default:dS},Symbol.toStringTag,{value:"Module"})),d5=({enhancedPrompt:t,originalPrompt:e,options:n,onShare:r,onChainPrompt:o,isLoading:s=!1})=>{const[l,u]=F.useState(!1),[d,c]=F.useState(!1),[f,y]=F.useState(!1),[m,v]=F.useState(0),C=F.useRef(null);F.useEffect(()=>{let A;return s&&!t?(v(0),A=setInterval(()=>{v(b=>b<30?b+5:b<60?b+2:b<90?b+.5:b)},100)):v(100),()=>clearInterval(A)},[s,t]),F.useEffect(()=>{t&&window.Prism&&setTimeout(()=>{window.Prism.highlightAll()},0)},[t]),F.useEffect(()=>{y(!1)},[e]);const _=()=>{t&&(navigator.clipboard.writeText(t),u(!0),setTimeout(()=>u(!1),2e3),ct("Copied to clipboard"))},S=()=>{r&&(r(),c(!0),setTimeout(()=>c(!1),2e3))},P=async(A,b)=>{if(!t||!e)return;const D={input:e,output:t,options:n,scope:b};try{if(A==="markdown")V8(D),ct(`Downloaded Markdown (${b})`);else if(A==="json")$8(D),ct(`Downloaded JSON (${b})`);else if(A==="text")H8(D),ct(`Downloaded Text (${b})`);else if(A==="pdf"&&C.current){const R=St.loading("Generating PDF...");await z8(C.current,n),St.dismiss(R),ct("Downloaded PDF")}}catch{zi("Export failed. Please try again.")}},w=F.useMemo(()=>{if(!t)return"";if(!window.marked)return t;const A=window.marked.parse(t);return dS.sanitize(A)},[t]);return!t&&!e&&!s?k.jsxs("div",{className:"h-full bg-slate-900 border border-slate-800 rounded-2xl flex flex-col items-center justify-center p-8 text-center border-dashed",children:[k.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mb-4",children:k.jsx(K_,{className:"w-8 h-8 text-slate-600","aria-hidden":"true"})}),k.jsx("h3",{className:"text-lg font-semibold text-slate-300 mb-2",children:"Ready to Enhance"}),k.jsx("p",{className:"text-slate-500 max-w-sm text-sm",children:"Enter your rough design or coding ideas on the left, and watch them transform into professional specifications here."})]}):k.jsxs("div",{className:"flex flex-col h-full bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl shadow-black/20",children:[k.jsxs("div",{className:"px-4 py-3 border-b border-slate-700 bg-slate-800 flex items-center justify-between shrink-0 flex-wrap gap-2",children:[k.jsxs("h2",{className:"text-sm font-semibold text-blue-400 flex items-center gap-2",children:[k.jsx(Rm,{className:"w-4 h-4","aria-hidden":"true"}),"Enhanced Output"]}),k.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o&&t&&k.jsxs("button",{onClick:()=>o(t),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-semibold bg-slate-700 text-slate-200 hover:bg-slate-600 border border-slate-600 transition-all focus:ring-2 focus:ring-blue-500 outline-none",title:"Use this output as input for the next prompt",children:[k.jsx(Yk,{className:"w-3.5 h-3.5"}),k.jsx("span",{className:"hidden sm:inline",children:"Chain"})]}),r&&k.jsx("button",{onClick:S,disabled:!t,className:`
                flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 focus:ring-blue-500 outline-none
                ${d?"bg-blue-500/10 text-blue-400 border border-blue-500/30":"bg-slate-700 text-slate-200 hover:bg-slate-600 border border-slate-600"}
              `,title:"Create a shareable link",children:d?k.jsxs(k.Fragment,{children:[k.jsx(Hd,{className:"w-3.5 h-3.5","aria-hidden":"true"}),k.jsx("span",{children:"Linked"})]}):k.jsxs(k.Fragment,{children:[k.jsx(ab,{className:"w-3.5 h-3.5","aria-hidden":"true"}),k.jsx("span",{children:"Share"})]})}),k.jsx(B8,{onExport:P,disabled:!t}),k.jsx("button",{onClick:_,disabled:!t,className:`
              flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 focus:ring-blue-500 outline-none
              ${l?"bg-green-500/10 text-green-400 border border-green-500/30":"bg-slate-700 text-slate-200 hover:bg-slate-600 border border-slate-600"}
            `,children:l?k.jsxs(k.Fragment,{children:[k.jsx(Hd,{className:"w-3.5 h-3.5","aria-hidden":"true"}),k.jsx("span",{children:"Copied"})]}):k.jsxs(k.Fragment,{children:[k.jsx(Lk,{className:"w-3.5 h-3.5","aria-hidden":"true"}),k.jsx("span",{children:"Copy"})]})})]})]}),k.jsxs("div",{className:"flex-1 overflow-auto p-0 relative group bg-slate-900",children:[e&&k.jsxs("div",{className:"border-b border-slate-700 bg-slate-800/50",children:[k.jsxs("button",{onClick:()=>y(!f),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-slate-700/50 transition-colors text-left group/btn focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset","aria-expanded":f,children:[k.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 uppercase tracking-wider group-hover/btn:text-slate-300 transition-colors",children:[f?k.jsx(Dm,{className:"w-4 h-4"}):k.jsx(Nk,{className:"w-4 h-4"}),"Original Input"]}),!f&&k.jsx("p",{className:"text-xs text-slate-400 italic line-clamp-1 flex-1 ml-4 opacity-70",children:e})]}),f&&k.jsx("div",{className:"px-4 pb-4 animate-in slide-in-from-top-2 fade-in duration-200",children:k.jsx("div",{className:"p-4 bg-slate-900 rounded-lg border border-slate-700 shadow-inner",children:k.jsx("div",{className:"text-sm text-slate-200 font-mono leading-relaxed whitespace-pre-wrap break-words",children:e})})})]}),k.jsxs("div",{className:"p-4 sm:p-6",ref:C,children:[s&&!t&&k.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[n.useThinking?k.jsx(E3,{}):k.jsx(v3,{progress:m,label:"Generating..."}),k.jsx(w3,{})]}),t?k.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-pre:bg-slate-800 prose-pre:border prose-pre:border-slate-700 prose-headings:text-blue-300 prose-a:text-blue-400 prose-strong:text-blue-200 prose-code:text-blue-300",dangerouslySetInnerHTML:{__html:w}}):null]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let f5,p5;function h5(){return{geminiUrl:f5,vertexUrl:p5}}function m5(t,e,n,r){var o,s;if(!(t!=null&&t.baseUrl)){const l=h5();return e?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(s=l.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wo{}function me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const s=e[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function g(t,e,n){for(let s=0;s<e.length-1;s++){const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const f=d[c];g(f,e.slice(s+1),n[c])}else for(const c of d)g(c,e.slice(s+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];g(d[0],e.slice(s+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in t){const l=t[s];return Array.isArray(l)?l.map(u=>h(u,e.slice(r+1),n)):n}else return n}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function g5(t,e){for(const[n,r]of Object.entries(e)){const o=n.split("."),s=r.split("."),l=new Set;let u=-1;for(let d=0;d<o.length;d++)if(o[d]==="*"){u=d;break}if(u!==-1&&s.length>u)for(let d=u;d<s.length;d++){const c=s[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&l.add(c)}jh(t,o,s,0,l)}}function jh(t,e,n,r,o){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const l=s.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const d of u[l])jh(d,e,n,r+1,o)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(c=>!c.startsWith("_")&&!o.has(c)),d={};for(const c of u)d[c]=l[c];for(const[c,f]of Object.entries(d)){const y=[];for(const m of n.slice(r))m==="*"?y.push(c):y.push(m);g(l,y,f)}for(const c of u)delete l[c]}}else{const l=t;s in l&&jh(l[s],e,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pg(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y5(t){const e={},n=h(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=h(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function x5(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const o=h(t,["done"]);o!=null&&g(e,["done"],o);const s=h(t,["error"]);s!=null&&g(e,["error"],s);const l=h(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],E5(l)),e}function v5(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const o=h(t,["done"]);o!=null&&g(e,["done"],o);const s=h(t,["error"]);s!=null&&g(e,["error"],s);const l=h(t,["response"]);return l!=null&&g(e,["response"],C5(l)),e}function E5(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>_5(l))),g(e,["generatedVideos"],s)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&g(e,["raiMediaFilteredReasons"],o),e}function C5(t){const e={},n=h(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>w5(l))),g(e,["generatedVideos"],s)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&g(e,["raiMediaFilteredReasons"],o),e}function _5(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],P5(n)),e}function w5(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],I5(n)),e}function T5(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function S5(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function A5(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const o=h(t,["done"]);o!=null&&g(e,["done"],o);const s=h(t,["error"]);s!=null&&g(e,["error"],s);const l=h(t,["response"]);return l!=null&&g(e,["response"],k5(l)),e}function k5(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const o=h(t,["documentName"]);return o!=null&&g(e,["documentName"],o),e}function fS(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const o=h(t,["done"]);o!=null&&g(e,["done"],o);const s=h(t,["error"]);s!=null&&g(e,["error"],s);const l=h(t,["response"]);return l!=null&&g(e,["response"],b5(l)),e}function b5(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const o=h(t,["documentName"]);return o!=null&&g(e,["documentName"],o),e}function P5(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],pg(r));const o=h(t,["encoding"]);return o!=null&&g(e,["mimeType"],o),e}function I5(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],pg(r));const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dE||(dE={}));var fE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(fE||(fE={}));var pE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(pE||(pE={}));var ti;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ti||(ti={}));var hE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hE||(hE={}));var mE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(mE||(mE={}));var gE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(gE||(gE={}));var yE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(yE||(yE={}));var xE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(xE||(xE={}));var vE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(vE||(vE={}));var EE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(EE||(EE={}));var CE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(CE||(CE={}));var _E;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(_E||(_E={}));var wE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(wE||(wE={}));var TE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(TE||(TE={}));var SE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(SE||(SE={}));var AE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(AE||(AE={}));var kE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(kE||(kE={}));var bE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bE||(bE={}));var ff;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ff||(ff={}));var PE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(PE||(PE={}));var IE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(IE||(IE={}));var DE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(DE||(DE={}));var Zh;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Zh||(Zh={}));var RE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(RE||(RE={}));var NE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(NE||(NE={}));var ME;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ME||(ME={}));var FE;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(FE||(FE={}));var BE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(BE||(BE={}));var LE;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(LE||(LE={}));var UE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(UE||(UE={}));var OE;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(OE||(OE={}));var VE;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(VE||(VE={}));var $E;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})($E||($E={}));var HE;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(HE||(HE={}));var zE;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(zE||(zE={}));var qE;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qE||(qE={}));var GE;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(GE||(GE={}));var WE;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(WE||(WE={}));var KE;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(KE||(KE={}));var YE;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(YE||(YE={}));var JE;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(JE||(JE={}));var jE;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(jE||(jE={}));var ZE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(ZE||(ZE={}));var XE;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(XE||(XE={}));var QE;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(QE||(QE={}));var eC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(eC||(eC={}));var tC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(tC||(tC={}));var nC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(nC||(nC={}));var rC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rC||(rC={}));var oC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(oC||(oC={}));var iC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(iC||(iC={}));var sC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sC||(sC={}));var aC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(aC||(aC={}));var Gs;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Gs||(Gs={}));class Xh{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class fl{get text(){var e,n,r,o,s,l,u,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const y=[];for(const m of(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[v,C]of Object.entries(m))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(C!==null||C!==void 0)&&y.push(v);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,c+=m.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,r,o,s,l,u,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const y of(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[m,v]of Object.entries(y))m!=="inlineData"&&(v!==null||v!==void 0)&&f.push(m);y.inlineData&&typeof y.inlineData.data=="string"&&(c+=atob(y.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,o,s,l,u,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,o,s,l,u,d,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,o,s,l,u,d,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class lC{}class uC{}class D5{}class R5{}class N5{}class M5{}class cC{}class dC{}class fC{}class F5{}class pf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new pf;let o;const s=e;return n?o=v5(s):o=x5(s),Object.assign(r,o),r}}class pC{}class hC{}class mC{}class B5{}class L5{}class U5{}class hg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new hg,s=A5(e);return Object.assign(r,s),r}}class O5{}class V5{}class $5{}class gC{}class H5{get text(){var e,n,r;let o="",s=!1;const l=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,o+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var e,n,r;let o="";const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&s.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class z5{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class mg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new mg,s=fS(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Je(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function pS(t,e){const n=Je(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function hS(t){return Array.isArray(t)?t.map(e=>hf(e)):[hf(t)]}function hf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function mS(t){const e=hf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gS(t){const e=hf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function yS(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>yC(e)):[yC(t)]}function Qh(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function xC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function vC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ln(t){if(t==null)throw new Error("ContentUnion is required");return Qh(t)?t:{role:"user",parts:yS(t)}}function gg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=ln(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=ln(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ln(n)):[ln(e)]}function Qn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(xC(t)||vC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ln(t)]}const e=[],n=[],r=Qh(t[0]);for(const o of t){const s=Qh(o);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(o);else{if(xC(o)||vC(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||e.push({role:"user",parts:yS(n)}),e}function q5(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ti).includes(n[0].toUpperCase())?n[0].toUpperCase():ti.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ti).includes(r.toUpperCase())?r.toUpperCase():ti.TYPE_UNSPECIFIED})}}function js(t){const e={},n=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&q5(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(ti).includes(u.toUpperCase())?u.toUpperCase():ti.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=js(u);else if(r.includes(l)){const d=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}d.push(js(c))}e[l]=d}else if(o.includes(l)){const d={};for(const[c,f]of Object.entries(u))d[c]=js(f);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=u}return e}function yg(t){return js(t)}function xg(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function vg(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ga(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=js(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=js(e.response));return t}function ya(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function G5(t,e,n,r=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function To(t,e){if(typeof e!="string")throw new Error("name must be a string");return G5(t,e,"cachedContents")}function xS(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function yi(t){return pg(t)}function W5(t){return t!=null&&typeof t=="object"&&"name"in t}function K5(t){return t!=null&&typeof t=="object"&&"video"in t}function Y5(t){return t!=null&&typeof t=="object"&&"uri"in t}function vS(t){var e;let n;if(W5(t)&&(n=t.name),!(Y5(t)&&(n=t.uri,n===void 0))&&!(K5(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ES(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function CS(t){for(const e of["models","tunedModels","publisherModels"])if(J5(t,e))return t[e];return[]}function J5(t,e){return t!==null&&typeof t=="object"&&e in t}function j5(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Z5(t,e={}){const n=[],r=new Set;for(const o of t){const s=o.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const l=j5(o,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function _S(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function X5(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function wS(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let s=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function xa(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function TS(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q5(t){const e={},n=h(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=h(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>NF(l))),g(e,["inlinedResponses"],s)}const o=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["inlinedEmbedContentResponses"],s)}return e}function eF(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=h(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const o=h(t,["bigqueryDestination","outputUri"]);return o!=null&&g(e,["bigqueryUri"],o),e}function tF(t){const e={},n=h(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=h(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const o=h(t,["bigqueryUri"]);if(o!=null&&g(e,["bigqueryDestination","outputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Zc(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const o=h(t,["metadata","state"]);o!=null&&g(e,["state"],TS(o));const s=h(t,["metadata","createTime"]);s!=null&&g(e,["createTime"],s);const l=h(t,["metadata","endTime"]);l!=null&&g(e,["endTime"],l);const u=h(t,["metadata","updateTime"]);u!=null&&g(e,["updateTime"],u);const d=h(t,["metadata","model"]);d!=null&&g(e,["model"],d);const c=h(t,["metadata","output"]);return c!=null&&g(e,["dest"],Q5(wS(c))),e}function em(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const o=h(t,["state"]);o!=null&&g(e,["state"],TS(o));const s=h(t,["error"]);s!=null&&g(e,["error"],s);const l=h(t,["createTime"]);l!=null&&g(e,["createTime"],l);const u=h(t,["startTime"]);u!=null&&g(e,["startTime"],u);const d=h(t,["endTime"]);d!=null&&g(e,["endTime"],d);const c=h(t,["updateTime"]);c!=null&&g(e,["updateTime"],c);const f=h(t,["model"]);f!=null&&g(e,["model"],f);const y=h(t,["inputConfig"]);y!=null&&g(e,["src"],nF(y));const m=h(t,["outputConfig"]);m!=null&&g(e,["dest"],eF(wS(m)));const v=h(t,["completionStats"]);return v!=null&&g(e,["completionStats"],v),e}function nF(t){const e={},n=h(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=h(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const o=h(t,["bigquerySource","inputUri"]);return o!=null&&g(e,["bigqueryUri"],o),e}function rF(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=h(e,["fileName"]);r!=null&&g(n,["fileName"],r);const o=h(e,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>RF(t,l))),g(n,["requests","requests"],s)}return n}function oF(t){const e={},n=h(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=h(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const o=h(t,["bigqueryUri"]);if(o!=null&&g(e,["bigquerySource","inputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function iF(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function sF(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],xa(t,r)),n}function aF(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],xa(t,r)),n}function lF(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],uF(r));const o=h(t,["tokenCount"]);o!=null&&g(e,["tokenCount"],o);const s=h(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const l=h(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const u=h(t,["groundingMetadata"]);u!=null&&g(e,["groundingMetadata"],u);const d=h(t,["index"]);d!=null&&g(e,["index"],d);const c=h(t,["logprobsResult"]);c!=null&&g(e,["logprobsResult"],c);const f=h(t,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["safetyRatings"],m)}const y=h(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function uF(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),g(e,["citations"],r)}return e}function SS(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>VF(s))),g(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function cF(t,e){const n={},r=h(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function dF(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const o=h(t,["dest"]);return e!==void 0&&o!=null&&g(e,["outputConfig"],tF(X5(o))),n}function EC(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["src"]);o!=null&&g(n,["batch","inputConfig"],rF(t,_S(t,o)));const s=h(e,["config"]);return s!=null&&cF(s,n),n}function fF(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],Je(t,r));const o=h(e,["src"]);o!=null&&g(n,["inputConfig"],oF(_S(t,o)));const s=h(e,["config"]);return s!=null&&dF(s,n),n}function pF(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function hF(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["src"]);o!=null&&g(n,["batch","inputConfig"],CF(t,o));const s=h(e,["config"]);return s!=null&&pF(s,n),n}function mF(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],xa(t,r)),n}function gF(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],xa(t,r)),n}function yF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const o=h(t,["done"]);o!=null&&g(e,["done"],o);const s=h(t,["error"]);return s!=null&&g(e,["error"],s),e}function xF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const o=h(t,["done"]);o!=null&&g(e,["done"],o);const s=h(t,["error"]);return s!=null&&g(e,["error"],s),e}function vF(t,e){const n={},r=h(e,["contents"]);if(r!=null){let s=gg(t,r);Array.isArray(s)&&(s=s.map(l=>l)),g(n,["requests[]","request","content"],s)}const o=h(e,["config"]);return o!=null&&(g(n,["_self"],EF(o,n)),g5(n,{"requests[].*":"requests[].request.*"})),n}function EF(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const o=h(t,["title"]);e!==void 0&&o!=null&&g(e,["requests[]","title"],o);const s=h(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&g(e,["requests[]","outputDimensionality"],s),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function CF(t,e){const n={},r=h(e,["fileName"]);r!=null&&g(n,["file_name"],r);const o=h(e,["inlinedRequests"]);return o!=null&&g(n,["requests"],vF(t,o)),n}function _F(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wF(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const o=h(t,["name"]);if(o!=null&&g(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function TF(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);if(r!=null&&g(e,["allowedFunctionNames"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function SF(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],SS(ln(o)));const s=h(e,["temperature"]);s!=null&&g(r,["temperature"],s);const l=h(e,["topP"]);l!=null&&g(r,["topP"],l);const u=h(e,["topK"]);u!=null&&g(r,["topK"],u);const d=h(e,["candidateCount"]);d!=null&&g(r,["candidateCount"],d);const c=h(e,["maxOutputTokens"]);c!=null&&g(r,["maxOutputTokens"],c);const f=h(e,["stopSequences"]);f!=null&&g(r,["stopSequences"],f);const y=h(e,["responseLogprobs"]);y!=null&&g(r,["responseLogprobs"],y);const m=h(e,["logprobs"]);m!=null&&g(r,["logprobs"],m);const v=h(e,["presencePenalty"]);v!=null&&g(r,["presencePenalty"],v);const C=h(e,["frequencyPenalty"]);C!=null&&g(r,["frequencyPenalty"],C);const _=h(e,["seed"]);_!=null&&g(r,["seed"],_);const S=h(e,["responseMimeType"]);S!=null&&g(r,["responseMimeType"],S);const P=h(e,["responseSchema"]);P!=null&&g(r,["responseSchema"],yg(P));const w=h(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=h(e,["safetySettings"]);if(n!==void 0&&A!=null){let G=A;Array.isArray(G)&&(G=G.map(W=>$F(W))),g(n,["safetySettings"],G)}const b=h(e,["tools"]);if(n!==void 0&&b!=null){let G=ya(b);Array.isArray(G)&&(G=G.map(W=>zF(ga(W)))),g(n,["tools"],G)}const D=h(e,["toolConfig"]);if(n!==void 0&&D!=null&&g(n,["toolConfig"],HF(D)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=h(e,["cachedContent"]);n!==void 0&&R!=null&&g(n,["cachedContent"],To(t,R));const N=h(e,["responseModalities"]);N!=null&&g(r,["responseModalities"],N);const B=h(e,["mediaResolution"]);B!=null&&g(r,["mediaResolution"],B);const L=h(e,["speechConfig"]);if(L!=null&&g(r,["speechConfig"],xg(L)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=h(e,["thinkingConfig"]);U!=null&&g(r,["thinkingConfig"],U);const V=h(e,["imageConfig"]);return V!=null&&g(r,["imageConfig"],DF(V)),r}function AF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>lF(c))),g(e,["candidates"],d)}const o=h(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=h(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const l=h(t,["responseId"]);l!=null&&g(e,["responseId"],l);const u=h(t,["usageMetadata"]);return u!=null&&g(e,["usageMetadata"],u),e}function kF(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],xa(t,r)),n}function bF(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],xa(t,r)),n}function PF(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function IF(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function DF(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function RF(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["request","model"],Je(t,r));const o=h(e,["contents"]);if(o!=null){let u=Qn(o);Array.isArray(u)&&(u=u.map(d=>SS(d))),g(n,["request","contents"],u)}const s=h(e,["metadata"]);s!=null&&g(n,["metadata"],s);const l=h(e,["config"]);return l!=null&&g(n,["request","generationConfig"],SF(t,l,h(n,["request"],{}))),n}function NF(t){const e={},n=h(t,["response"]);n!=null&&g(e,["response"],AF(n));const r=h(t,["error"]);return r!=null&&g(e,["error"],r),e}function MF(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);if(e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function FF(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=h(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),n}function BF(t){const e={},n=h(t,["config"]);return n!=null&&MF(n,e),e}function LF(t){const e={},n=h(t,["config"]);return n!=null&&FF(n,e),e}function UF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const o=h(t,["operations"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Zc(l))),g(e,["batchJobs"],s)}return e}function OF(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const o=h(t,["batchPredictionJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>em(l))),g(e,["batchJobs"],s)}return e}function VF(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&g(e,["executableCode"],o);const s=h(t,["fileData"]);s!=null&&g(e,["fileData"],_F(s));const l=h(t,["functionCall"]);l!=null&&g(e,["functionCall"],wF(l));const u=h(t,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const d=h(t,["inlineData"]);d!=null&&g(e,["inlineData"],iF(d));const c=h(t,["text"]);c!=null&&g(e,["text"],c);const f=h(t,["thought"]);f!=null&&g(e,["thought"],f);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const m=h(t,["videoMetadata"]);return m!=null&&g(e,["videoMetadata"],m),e}function $F(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function HF(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],TF(n));const r=h(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],r),e}function zF(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(y=>y)),g(e,["functionDeclarations"],f)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&g(e,["computerUse"],o);const s=h(t,["fileSearch"]);s!=null&&g(e,["fileSearch"],s);const l=h(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(t,["googleMaps"]);u!=null&&g(e,["googleMaps"],PF(u));const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],IF(d));const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Co;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Co||(Co={}));class is{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qF extends wo{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new is(Co.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=EC(this.apiClient,e),r=n._url,o=me("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const y=Object.assign({},f);if(y.systemInstruction){const m=y.systemInstruction;delete y.systemInstruction;const v=y.request;v.systemInstruction=m,y.request=v}c.push(y)}return u.requests=c,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const s=this.getGcsUri(e),l=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${o}`;else if(l)r.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=fF(this.apiClient,e);return u=me("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>em(f))}else{const c=EC(this.apiClient,e);return u=me("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>Zc(f))}}async createEmbeddingsInternal(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hF(this.apiClient,e);return s=me("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Zc(d))}}async get(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=bF(this.apiClient,e);return u=me("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>em(f))}else{const c=kF(this.apiClient,e);return u=me("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>Zc(f))}}async cancel(e){var n,r,o,s;let l="",u={};if(this.apiClient.isVertexAI()){const d=aF(this.apiClient,e);l=me("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=sF(this.apiClient,e);l=me("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=LF(e);return u=me("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=OF(f),m=new gC;return Object.assign(m,y),m})}else{const c=BF(e);return u=me("batches",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=UF(f),m=new gC;return Object.assign(m,y),m})}}async delete(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=gF(this.apiClient,e);return u=me("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>xF(f))}else{const c=mF(this.apiClient,e);return u=me("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>yF(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GF(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function CC(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>h6(s))),g(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function WF(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&g(e,["expireTime"],o);const s=h(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const l=h(t,["contents"]);if(e!==void 0&&l!=null){let f=Qn(l);Array.isArray(f)&&(f=f.map(y=>CC(y))),g(e,["contents"],f)}const u=h(t,["systemInstruction"]);e!==void 0&&u!=null&&g(e,["systemInstruction"],CC(ln(u)));const d=h(t,["tools"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(y=>g6(y))),g(e,["tools"],f)}const c=h(t,["toolConfig"]);if(e!==void 0&&c!=null&&g(e,["toolConfig"],m6(c)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function KF(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&g(e,["expireTime"],o);const s=h(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const l=h(t,["contents"]);if(e!==void 0&&l!=null){let y=Qn(l);Array.isArray(y)&&(y=y.map(m=>m)),g(e,["contents"],y)}const u=h(t,["systemInstruction"]);e!==void 0&&u!=null&&g(e,["systemInstruction"],ln(u));const d=h(t,["tools"]);if(e!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(m=>y6(m))),g(e,["tools"],y)}const c=h(t,["toolConfig"]);e!==void 0&&c!=null&&g(e,["toolConfig"],c);const f=h(t,["kmsKeyName"]);return e!==void 0&&f!=null&&g(e,["encryption_spec","kmsKeyName"],f),n}function YF(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],pS(t,r));const o=h(e,["config"]);return o!=null&&WF(o,n),n}function JF(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],pS(t,r));const o=h(e,["config"]);return o!=null&&KF(o,n),n}function jF(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],To(t,r)),n}function ZF(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],To(t,r)),n}function XF(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function QF(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function e6(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function t6(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const o=h(t,["name"]);if(o!=null&&g(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function n6(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);if(r!=null&&g(e,["allowedFunctionNames"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function r6(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const o=h(t,["parameters"]);o!=null&&g(e,["parameters"],o);const s=h(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const l=h(t,["response"]);l!=null&&g(e,["response"],l);const u=h(t,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function o6(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],To(t,r)),n}function i6(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],To(t,r)),n}function s6(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function a6(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function l6(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),n}function u6(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),n}function c6(t){const e={},n=h(t,["config"]);return n!=null&&l6(n,e),e}function d6(t){const e={},n=h(t,["config"]);return n!=null&&u6(n,e),e}function f6(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const o=h(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["cachedContents"],s)}return e}function p6(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const o=h(t,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["cachedContents"],s)}return e}function h6(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&g(e,["executableCode"],o);const s=h(t,["fileData"]);s!=null&&g(e,["fileData"],e6(s));const l=h(t,["functionCall"]);l!=null&&g(e,["functionCall"],t6(l));const u=h(t,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const d=h(t,["inlineData"]);d!=null&&g(e,["inlineData"],GF(d));const c=h(t,["text"]);c!=null&&g(e,["text"],c);const f=h(t,["thought"]);f!=null&&g(e,["thought"],f);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const m=h(t,["videoMetadata"]);return m!=null&&g(e,["videoMetadata"],m),e}function m6(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],n6(n));const r=h(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],r),e}function g6(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(y=>y)),g(e,["functionDeclarations"],f)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&g(e,["computerUse"],o);const s=h(t,["fileSearch"]);s!=null&&g(e,["fileSearch"],s);const l=h(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(t,["googleMaps"]);u!=null&&g(e,["googleMaps"],s6(u));const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],a6(d));const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function y6(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(m=>r6(m))),g(e,["functionDeclarations"],y)}const r=h(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const o=h(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const s=h(t,["computerUse"]);if(s!=null&&g(e,["computerUse"],s),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=h(t,["codeExecution"]);l!=null&&g(e,["codeExecution"],l);const u=h(t,["enterpriseWebSearch"]);u!=null&&g(e,["enterpriseWebSearch"],u);const d=h(t,["googleMaps"]);d!=null&&g(e,["googleMaps"],d);const c=h(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const f=h(t,["urlContext"]);return f!=null&&g(e,["urlContext"],f),e}function x6(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&g(e,["expireTime"],o),n}function v6(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&g(e,["expireTime"],o),n}function E6(t,e){const n={},r=h(e,["name"]);r!=null&&g(n,["_url","name"],To(t,r));const o=h(e,["config"]);return o!=null&&x6(o,n),n}function C6(t,e){const n={},r=h(e,["name"]);r!=null&&g(n,["_url","name"],To(t,r));const o=h(e,["config"]);return o!=null&&v6(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _6 extends wo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new is(Co.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=JF(this.apiClient,e);return u=me("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=YF(this.apiClient,e);return u=me("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=i6(this.apiClient,e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=o6(this.apiClient,e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=ZF(this.apiClient,e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=QF(f),m=new hC;return Object.assign(m,y),m})}else{const c=jF(this.apiClient,e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=XF(f),m=new hC;return Object.assign(m,y),m})}}async update(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=C6(this.apiClient,e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=E6(this.apiClient,e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=d6(e);return u=me("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=p6(f),m=new mC;return Object.assign(m,y),m})}else{const c=c6(e);return u=me("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=f6(f),m=new mC;return Object.assign(m,y),m})}}}function _C(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dt(t){return this instanceof dt?(this.v=t,this):new dt(t)}function Zs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(v){return function(C){return Promise.resolve(C).then(v,y)}}function u(v,C){r[v]&&(o[v]=function(_){return new Promise(function(S,P){s.push([v,_,S,P])>1||d(v,_)})},C&&(o[v]=C(o[v])))}function d(v,C){try{c(r[v](C))}catch(_){m(s[0][3],_)}}function c(v){v.value instanceof dt?Promise.resolve(v.value.v).then(f,y):m(s[0][2],v)}function f(v){d("next",v)}function y(v){d("throw",v)}function m(v,C){v(C),s.shift(),s.length&&d(s[0][0],s[0][1])}}function Sl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _C=="function"?_C(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(l){return new Promise(function(u,d){l=t[s](l),o(u,d,l.done,l.value)})}}function o(s,l,u,d){Promise.resolve(d).then(function(c){s({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w6(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:AS(n)}function AS(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function T6(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function wC(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const o=[];let s=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),s&&!AS(t[r])&&(s=!1),r++;s?e.push(...o):e.pop()}return e}class S6{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new A6(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class A6{constructor(e,n,r,o={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),T6(s)}async sendMessage(e){var n;await this.sendPromise;const r=ln(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,l,u;const d=await o,c=(l=(s=d.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,f=d.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let m=[];f!=null&&(m=(u=f.slice(y))!==null&&u!==void 0?u:[]);const v=c?[c]:[];this.recordHistory(r,v,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const r=ln(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?wC(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,o;return Zs(this,arguments,function*(){var l,u,d,c;const f=[];try{for(var y=!0,m=Sl(e),v;v=yield dt(m.next()),l=v.done,!l;y=!0){c=v.value,y=!1;const C=c;if(w6(C)){const _=(o=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;_!==void 0&&f.push(_)}yield yield dt(C)}}catch(C){u={error:C}}finally{try{!y&&!l&&(d=m.return)&&(yield dt(d.call(m)))}finally{if(u)throw u.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...wC(r)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,qf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k6(t){const e={},n=h(t,["file"]);return n!=null&&g(e,["file"],n),e}function b6(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function P6(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],vS(n)),e}function I6(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function D6(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],vS(n)),e}function R6(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),n}function N6(t){const e={},n=h(t,["config"]);return n!=null&&R6(n,e),e}function M6(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const o=h(t,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F6 extends wo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new is(Co.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=N6(e);return s=me("files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=M6(d),f=new O5;return Object.assign(f,c),f})}}async createInternal(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=k6(e);return s=me("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=b6(d),f=new V5;return Object.assign(f,c),f})}}async get(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=D6(e);return s=me("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=P6(e);return s=me("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=I6(d),f=new $5;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xc(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function B6(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>X6(s))),g(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function L6(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function U6(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const o=h(t,["name"]);if(o!=null&&g(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function O6(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const o=h(t,["parameters"]);o!=null&&g(e,["parameters"],o);const s=h(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const l=h(t,["response"]);l!=null&&g(e,["response"],l);const u=h(t,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function V6(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const o=h(t,["audioTimestamp"]);o!=null&&g(e,["audioTimestamp"],o);const s=h(t,["candidateCount"]);s!=null&&g(e,["candidateCount"],s);const l=h(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const u=h(t,["frequencyPenalty"]);u!=null&&g(e,["frequencyPenalty"],u);const d=h(t,["logprobs"]);d!=null&&g(e,["logprobs"],d);const c=h(t,["maxOutputTokens"]);c!=null&&g(e,["maxOutputTokens"],c);const f=h(t,["mediaResolution"]);f!=null&&g(e,["mediaResolution"],f);const y=h(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const m=h(t,["responseLogprobs"]);m!=null&&g(e,["responseLogprobs"],m);const v=h(t,["responseMimeType"]);v!=null&&g(e,["responseMimeType"],v);const C=h(t,["responseModalities"]);C!=null&&g(e,["responseModalities"],C);const _=h(t,["responseSchema"]);_!=null&&g(e,["responseSchema"],_);const S=h(t,["routingConfig"]);S!=null&&g(e,["routingConfig"],S);const P=h(t,["seed"]);P!=null&&g(e,["seed"],P);const w=h(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],kS(w));const A=h(t,["stopSequences"]);A!=null&&g(e,["stopSequences"],A);const b=h(t,["temperature"]);b!=null&&g(e,["temperature"],b);const D=h(t,["thinkingConfig"]);D!=null&&g(e,["thinkingConfig"],D);const R=h(t,["topK"]);R!=null&&g(e,["topK"],R);const N=h(t,["topP"]);if(N!=null&&g(e,["topP"],N),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $6(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function H6(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function z6(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","responseModalities"],o);const s=h(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const l=h(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const u=h(t,["topK"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topK"],u);const d=h(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const c=h(t,["mediaResolution"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","mediaResolution"],c);const f=h(t,["seed"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","seed"],f);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],vg(y));const m=h(t,["thinkingConfig"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","thinkingConfig"],m);const v=h(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=h(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],B6(ln(C)));const _=h(t,["tools"]);if(e!==void 0&&_!=null){let R=ya(_);Array.isArray(R)&&(R=R.map(N=>eB(ga(N)))),g(e,["setup","tools"],R)}const S=h(t,["sessionResumption"]);e!==void 0&&S!=null&&g(e,["setup","sessionResumption"],Q6(S));const P=h(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&g(e,["setup","inputAudioTranscription"],P);const w=h(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const A=h(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&g(e,["setup","realtimeInputConfig"],A);const b=h(t,["contextWindowCompression"]);e!==void 0&&b!=null&&g(e,["setup","contextWindowCompression"],b);const D=h(t,["proactivity"]);return e!==void 0&&D!=null&&g(e,["setup","proactivity"],D),n}function q6(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],V6(r));const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","responseModalities"],o);const s=h(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const l=h(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const u=h(t,["topK"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topK"],u);const d=h(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const c=h(t,["mediaResolution"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","mediaResolution"],c);const f=h(t,["seed"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","seed"],f);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],kS(vg(y)));const m=h(t,["thinkingConfig"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","thinkingConfig"],m);const v=h(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=h(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],ln(C));const _=h(t,["tools"]);if(e!==void 0&&_!=null){let R=ya(_);Array.isArray(R)&&(R=R.map(N=>tB(ga(N)))),g(e,["setup","tools"],R)}const S=h(t,["sessionResumption"]);e!==void 0&&S!=null&&g(e,["setup","sessionResumption"],S);const P=h(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&g(e,["setup","inputAudioTranscription"],P);const w=h(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const A=h(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&g(e,["setup","realtimeInputConfig"],A);const b=h(t,["contextWindowCompression"]);e!==void 0&&b!=null&&g(e,["setup","contextWindowCompression"],b);const D=h(t,["proactivity"]);return e!==void 0&&D!=null&&g(e,["setup","proactivity"],D),n}function G6(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],Je(t,r));const o=h(e,["config"]);return o!=null&&g(n,["config"],z6(o,n)),n}function W6(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],Je(t,r));const o=h(e,["config"]);return o!=null&&g(n,["config"],q6(o,n)),n}function K6(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function Y6(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),g(e,["weightedPrompts"],r)}return e}function J6(t){const e={},n=h(t,["media"]);if(n!=null){let c=hS(n);Array.isArray(c)&&(c=c.map(f=>Xc(f))),g(e,["mediaChunks"],c)}const r=h(t,["audio"]);r!=null&&g(e,["audio"],Xc(gS(r)));const o=h(t,["audioStreamEnd"]);o!=null&&g(e,["audioStreamEnd"],o);const s=h(t,["video"]);s!=null&&g(e,["video"],Xc(mS(s)));const l=h(t,["text"]);l!=null&&g(e,["text"],l);const u=h(t,["activityStart"]);u!=null&&g(e,["activityStart"],u);const d=h(t,["activityEnd"]);return d!=null&&g(e,["activityEnd"],d),e}function j6(t){const e={},n=h(t,["media"]);if(n!=null){let c=hS(n);Array.isArray(c)&&(c=c.map(f=>f)),g(e,["mediaChunks"],c)}const r=h(t,["audio"]);r!=null&&g(e,["audio"],gS(r));const o=h(t,["audioStreamEnd"]);o!=null&&g(e,["audioStreamEnd"],o);const s=h(t,["video"]);s!=null&&g(e,["video"],mS(s));const l=h(t,["text"]);l!=null&&g(e,["text"],l);const u=h(t,["activityStart"]);u!=null&&g(e,["activityStart"],u);const d=h(t,["activityEnd"]);return d!=null&&g(e,["activityEnd"],d),e}function Z6(t){const e={},n=h(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=h(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const o=h(t,["toolCall"]);o!=null&&g(e,["toolCall"],o);const s=h(t,["toolCallCancellation"]);s!=null&&g(e,["toolCallCancellation"],s);const l=h(t,["usageMetadata"]);l!=null&&g(e,["usageMetadata"],nB(l));const u=h(t,["goAway"]);u!=null&&g(e,["goAway"],u);const d=h(t,["sessionResumptionUpdate"]);return d!=null&&g(e,["sessionResumptionUpdate"],d),e}function X6(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&g(e,["executableCode"],o);const s=h(t,["fileData"]);s!=null&&g(e,["fileData"],L6(s));const l=h(t,["functionCall"]);l!=null&&g(e,["functionCall"],U6(l));const u=h(t,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const d=h(t,["inlineData"]);d!=null&&g(e,["inlineData"],Xc(d));const c=h(t,["text"]);c!=null&&g(e,["text"],c);const f=h(t,["thought"]);f!=null&&g(e,["thought"],f);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const m=h(t,["videoMetadata"]);return m!=null&&g(e,["videoMetadata"],m),e}function Q6(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kS(t){const e={},n=h(t,["languageCode"]);n!=null&&g(e,["languageCode"],n);const r=h(t,["voiceConfig"]);if(r!=null&&g(e,["voiceConfig"],r),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function eB(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(y=>y)),g(e,["functionDeclarations"],f)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&g(e,["computerUse"],o);const s=h(t,["fileSearch"]);s!=null&&g(e,["fileSearch"],s);const l=h(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(t,["googleMaps"]);u!=null&&g(e,["googleMaps"],$6(u));const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],H6(d));const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function tB(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(m=>O6(m))),g(e,["functionDeclarations"],y)}const r=h(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const o=h(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const s=h(t,["computerUse"]);if(s!=null&&g(e,["computerUse"],s),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=h(t,["codeExecution"]);l!=null&&g(e,["codeExecution"],l);const u=h(t,["enterpriseWebSearch"]);u!=null&&g(e,["enterpriseWebSearch"],u);const d=h(t,["googleMaps"]);d!=null&&g(e,["googleMaps"],d);const c=h(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const f=h(t,["urlContext"]);return f!=null&&g(e,["urlContext"],f),e}function nB(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=h(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const o=h(t,["candidatesTokenCount"]);o!=null&&g(e,["responseTokenCount"],o);const s=h(t,["toolUsePromptTokenCount"]);s!=null&&g(e,["toolUsePromptTokenCount"],s);const l=h(t,["thoughtsTokenCount"]);l!=null&&g(e,["thoughtsTokenCount"],l);const u=h(t,["totalTokenCount"]);u!=null&&g(e,["totalTokenCount"],u);const d=h(t,["promptTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(C=>C)),g(e,["promptTokensDetails"],v)}const c=h(t,["cacheTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(C=>C)),g(e,["cacheTokensDetails"],v)}const f=h(t,["candidatesTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(C=>C)),g(e,["responseTokensDetails"],v)}const y=h(t,["toolUsePromptTokensDetails"]);if(y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>C)),g(e,["toolUsePromptTokensDetails"],v)}const m=h(t,["trafficType"]);return m!=null&&g(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rB(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function oB(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],iB(r));const o=h(t,["tokenCount"]);o!=null&&g(e,["tokenCount"],o);const s=h(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const l=h(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const u=h(t,["groundingMetadata"]);u!=null&&g(e,["groundingMetadata"],u);const d=h(t,["index"]);d!=null&&g(e,["index"],d);const c=h(t,["logprobsResult"]);c!=null&&g(e,["logprobsResult"],c);const f=h(t,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>v)),g(e,["safetyRatings"],m)}const y=h(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function iB(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),g(e,["citations"],r)}return e}function sB(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["contents"]);if(o!=null){let s=Qn(o);Array.isArray(s)&&(s=s.map(l=>l)),g(n,["contents"],s)}return n}function aB(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["tokensInfo"],o)}return e}function lB(t){const e={},n=h(t,["values"]);n!=null&&g(e,["values"],n);const r=h(t,["statistics"]);return r!=null&&g(e,["statistics"],uB(r)),e}function uB(t){const e={},n=h(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=h(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function Gf(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>xL(s))),g(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function cB(t){const e={},n=h(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=h(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function dB(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function fB(t,e){const n={},r=h(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],ln(r));const o=h(t,["tools"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>RS(u))),g(e,["tools"],l)}const s=h(t,["generationConfig"]);return e!==void 0&&s!=null&&g(e,["generationConfig"],rL(s)),n}function pB(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["contents"]);if(o!=null){let l=Qn(o);Array.isArray(l)&&(l=l.map(u=>Gf(u))),g(n,["contents"],l)}const s=h(e,["config"]);return s!=null&&dB(s),n}function hB(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["contents"]);if(o!=null){let l=Qn(o);Array.isArray(l)&&(l=l.map(u=>u)),g(n,["contents"],l)}const s=h(e,["config"]);return s!=null&&fB(s,n),n}function mB(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const o=h(t,["cachedContentTokenCount"]);return o!=null&&g(e,["cachedContentTokenCount"],o),e}function gB(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function yB(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Je(t,r)),n}function xB(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Je(t,r)),n}function vB(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function EB(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function CB(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&g(e,["parameters","negativePrompt"],o);const s=h(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const l=h(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=h(t,["guidanceScale"]);e!==void 0&&u!=null&&g(e,["parameters","guidanceScale"],u);const d=h(t,["seed"]);e!==void 0&&d!=null&&g(e,["parameters","seed"],d);const c=h(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const f=h(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const m=h(t,["includeRaiReason"]);e!==void 0&&m!=null&&g(e,["parameters","includeRaiReason"],m);const v=h(t,["language"]);e!==void 0&&v!=null&&g(e,["parameters","language"],v);const C=h(t,["outputMimeType"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","mimeType"],C);const _=h(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&g(e,["parameters","outputOptions","compressionQuality"],_);const S=h(t,["addWatermark"]);e!==void 0&&S!=null&&g(e,["parameters","addWatermark"],S);const P=h(t,["labels"]);e!==void 0&&P!=null&&g(e,["labels"],P);const w=h(t,["editMode"]);e!==void 0&&w!=null&&g(e,["parameters","editMode"],w);const A=h(t,["baseSteps"]);return e!==void 0&&A!=null&&g(e,["parameters","editConfig","baseSteps"],A),n}function _B(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const s=h(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>TL(d))),g(n,["instances[0]","referenceImages"],u)}const l=h(e,["config"]);return l!=null&&CB(l,n),n}function wB(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Wf(s))),g(e,["generatedImages"],o)}return e}function TB(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const o=h(t,["title"]);e!==void 0&&o!=null&&g(e,["requests[]","title"],o);const s=h(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&g(e,["requests[]","outputDimensionality"],s),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function SB(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const o=h(t,["title"]);e!==void 0&&o!=null&&g(e,["instances[]","title"],o);const s=h(t,["outputDimensionality"]);e!==void 0&&s!=null&&g(e,["parameters","outputDimensionality"],s);const l=h(t,["mimeType"]);e!==void 0&&l!=null&&g(e,["instances[]","mimeType"],l);const u=h(t,["autoTruncate"]);return e!==void 0&&u!=null&&g(e,["parameters","autoTruncate"],u),n}function AB(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["contents"]);if(o!=null){let u=gg(t,o);Array.isArray(u)&&(u=u.map(d=>d)),g(n,["requests[]","content"],u)}const s=h(e,["config"]);s!=null&&TB(s,n);const l=h(e,["model"]);return l!==void 0&&g(n,["requests[]","model"],Je(t,l)),n}function kB(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["contents"]);if(o!=null){let l=gg(t,o);Array.isArray(l)&&(l=l.map(u=>u)),g(n,["instances[]","content"],l)}const s=h(e,["config"]);return s!=null&&SB(s,n),n}function bB(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["embeddings"],s)}const o=h(t,["metadata"]);return o!=null&&g(e,["metadata"],o),e}function PB(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>lB(l))),g(e,["embeddings"],s)}const o=h(t,["metadata"]);return o!=null&&g(e,["metadata"],o),e}function IB(t){const e={},n=h(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=h(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function DB(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function RB(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const o=h(t,["name"]);if(o!=null&&g(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NB(t){const e={},n=h(t,["mode"]);n!=null&&g(e,["mode"],n);const r=h(t,["allowedFunctionNames"]);if(r!=null&&g(e,["allowedFunctionNames"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function MB(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const o=h(t,["parameters"]);o!=null&&g(e,["parameters"],o);const s=h(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const l=h(t,["response"]);l!=null&&g(e,["response"],l);const u=h(t,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function FB(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],Gf(ln(o)));const s=h(e,["temperature"]);s!=null&&g(r,["temperature"],s);const l=h(e,["topP"]);l!=null&&g(r,["topP"],l);const u=h(e,["topK"]);u!=null&&g(r,["topK"],u);const d=h(e,["candidateCount"]);d!=null&&g(r,["candidateCount"],d);const c=h(e,["maxOutputTokens"]);c!=null&&g(r,["maxOutputTokens"],c);const f=h(e,["stopSequences"]);f!=null&&g(r,["stopSequences"],f);const y=h(e,["responseLogprobs"]);y!=null&&g(r,["responseLogprobs"],y);const m=h(e,["logprobs"]);m!=null&&g(r,["logprobs"],m);const v=h(e,["presencePenalty"]);v!=null&&g(r,["presencePenalty"],v);const C=h(e,["frequencyPenalty"]);C!=null&&g(r,["frequencyPenalty"],C);const _=h(e,["seed"]);_!=null&&g(r,["seed"],_);const S=h(e,["responseMimeType"]);S!=null&&g(r,["responseMimeType"],S);const P=h(e,["responseSchema"]);P!=null&&g(r,["responseSchema"],yg(P));const w=h(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=h(e,["safetySettings"]);if(n!==void 0&&A!=null){let G=A;Array.isArray(G)&&(G=G.map(W=>SL(W))),g(n,["safetySettings"],G)}const b=h(e,["tools"]);if(n!==void 0&&b!=null){let G=ya(b);Array.isArray(G)&&(G=G.map(W=>RL(ga(W)))),g(n,["tools"],G)}const D=h(e,["toolConfig"]);if(n!==void 0&&D!=null&&g(n,["toolConfig"],DL(D)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=h(e,["cachedContent"]);n!==void 0&&R!=null&&g(n,["cachedContent"],To(t,R));const N=h(e,["responseModalities"]);N!=null&&g(r,["responseModalities"],N);const B=h(e,["mediaResolution"]);B!=null&&g(r,["mediaResolution"],B);const L=h(e,["speechConfig"]);if(L!=null&&g(r,["speechConfig"],xg(L)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=h(e,["thinkingConfig"]);U!=null&&g(r,["thinkingConfig"],U);const V=h(e,["imageConfig"]);return V!=null&&g(r,["imageConfig"],lL(V)),r}function BB(t,e,n){const r={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&g(n,["systemInstruction"],ln(o));const s=h(e,["temperature"]);s!=null&&g(r,["temperature"],s);const l=h(e,["topP"]);l!=null&&g(r,["topP"],l);const u=h(e,["topK"]);u!=null&&g(r,["topK"],u);const d=h(e,["candidateCount"]);d!=null&&g(r,["candidateCount"],d);const c=h(e,["maxOutputTokens"]);c!=null&&g(r,["maxOutputTokens"],c);const f=h(e,["stopSequences"]);f!=null&&g(r,["stopSequences"],f);const y=h(e,["responseLogprobs"]);y!=null&&g(r,["responseLogprobs"],y);const m=h(e,["logprobs"]);m!=null&&g(r,["logprobs"],m);const v=h(e,["presencePenalty"]);v!=null&&g(r,["presencePenalty"],v);const C=h(e,["frequencyPenalty"]);C!=null&&g(r,["frequencyPenalty"],C);const _=h(e,["seed"]);_!=null&&g(r,["seed"],_);const S=h(e,["responseMimeType"]);S!=null&&g(r,["responseMimeType"],S);const P=h(e,["responseSchema"]);P!=null&&g(r,["responseSchema"],yg(P));const w=h(e,["responseJsonSchema"]);w!=null&&g(r,["responseJsonSchema"],w);const A=h(e,["routingConfig"]);A!=null&&g(r,["routingConfig"],A);const b=h(e,["modelSelectionConfig"]);b!=null&&g(r,["modelConfig"],b);const D=h(e,["safetySettings"]);if(n!==void 0&&D!=null){let ne=D;Array.isArray(ne)&&(ne=ne.map(ae=>ae)),g(n,["safetySettings"],ne)}const R=h(e,["tools"]);if(n!==void 0&&R!=null){let ne=ya(R);Array.isArray(ne)&&(ne=ne.map(ae=>RS(ga(ae)))),g(n,["tools"],ne)}const N=h(e,["toolConfig"]);n!==void 0&&N!=null&&g(n,["toolConfig"],N);const B=h(e,["labels"]);n!==void 0&&B!=null&&g(n,["labels"],B);const L=h(e,["cachedContent"]);n!==void 0&&L!=null&&g(n,["cachedContent"],To(t,L));const U=h(e,["responseModalities"]);U!=null&&g(r,["responseModalities"],U);const V=h(e,["mediaResolution"]);V!=null&&g(r,["mediaResolution"],V);const G=h(e,["speechConfig"]);G!=null&&g(r,["speechConfig"],DS(xg(G)));const W=h(e,["audioTimestamp"]);W!=null&&g(r,["audioTimestamp"],W);const X=h(e,["thinkingConfig"]);X!=null&&g(r,["thinkingConfig"],X);const te=h(e,["imageConfig"]);return te!=null&&g(r,["imageConfig"],uL(te)),r}function TC(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["contents"]);if(o!=null){let l=Qn(o);Array.isArray(l)&&(l=l.map(u=>Gf(u))),g(n,["contents"],l)}const s=h(e,["config"]);return s!=null&&g(n,["generationConfig"],FB(t,s,n)),n}function SC(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["contents"]);if(o!=null){let l=Qn(o);Array.isArray(l)&&(l=l.map(u=>u)),g(n,["contents"],l)}const s=h(e,["config"]);return s!=null&&g(n,["generationConfig"],BB(t,s,n)),n}function AC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(c=>oB(c))),g(e,["candidates"],d)}const o=h(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=h(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const l=h(t,["responseId"]);l!=null&&g(e,["responseId"],l);const u=h(t,["usageMetadata"]);return u!=null&&g(e,["usageMetadata"],u),e}function kC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["candidates"],c)}const o=h(t,["createTime"]);o!=null&&g(e,["createTime"],o);const s=h(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const l=h(t,["promptFeedback"]);l!=null&&g(e,["promptFeedback"],l);const u=h(t,["responseId"]);u!=null&&g(e,["responseId"],u);const d=h(t,["usageMetadata"]);return d!=null&&g(e,["usageMetadata"],d),e}function LB(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=h(t,["guidanceScale"]);if(e!==void 0&&s!=null&&g(e,["parameters","guidanceScale"],s),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=h(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const u=h(t,["personGeneration"]);e!==void 0&&u!=null&&g(e,["parameters","personGeneration"],u);const d=h(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const c=h(t,["includeRaiReason"]);e!==void 0&&c!=null&&g(e,["parameters","includeRaiReason"],c);const f=h(t,["language"]);e!==void 0&&f!=null&&g(e,["parameters","language"],f);const y=h(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const m=h(t,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&g(e,["parameters","outputOptions","compressionQuality"],m),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=h(t,["imageSize"]);if(e!==void 0&&v!=null&&g(e,["parameters","sampleImageSize"],v),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function UB(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&g(e,["parameters","negativePrompt"],o);const s=h(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const l=h(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=h(t,["guidanceScale"]);e!==void 0&&u!=null&&g(e,["parameters","guidanceScale"],u);const d=h(t,["seed"]);e!==void 0&&d!=null&&g(e,["parameters","seed"],d);const c=h(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const f=h(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const y=h(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const m=h(t,["includeRaiReason"]);e!==void 0&&m!=null&&g(e,["parameters","includeRaiReason"],m);const v=h(t,["language"]);e!==void 0&&v!=null&&g(e,["parameters","language"],v);const C=h(t,["outputMimeType"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","mimeType"],C);const _=h(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&g(e,["parameters","outputOptions","compressionQuality"],_);const S=h(t,["addWatermark"]);e!==void 0&&S!=null&&g(e,["parameters","addWatermark"],S);const P=h(t,["labels"]);e!==void 0&&P!=null&&g(e,["labels"],P);const w=h(t,["imageSize"]);e!==void 0&&w!=null&&g(e,["parameters","sampleImageSize"],w);const A=h(t,["enhancePrompt"]);return e!==void 0&&A!=null&&g(e,["parameters","enhancePrompt"],A),n}function OB(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const s=h(e,["config"]);return s!=null&&LB(s,n),n}function VB(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const s=h(e,["config"]);return s!=null&&UB(s,n),n}function $B(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>QB(l))),g(e,["generatedImages"],s)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&g(e,["positivePromptSafetyAttributes"],PS(o)),e}function HB(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Wf(l))),g(e,["generatedImages"],s)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&g(e,["positivePromptSafetyAttributes"],IS(o)),e}function zB(t,e){const n={},r=h(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=h(t,["durationSeconds"]);if(e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=h(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const l=h(t,["resolution"]);e!==void 0&&l!=null&&g(e,["parameters","resolution"],l);const u=h(t,["personGeneration"]);if(e!==void 0&&u!=null&&g(e,["parameters","personGeneration"],u),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=h(t,["negativePrompt"]);e!==void 0&&d!=null&&g(e,["parameters","negativePrompt"],d);const c=h(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&g(e,["parameters","enhancePrompt"],c),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=h(t,["lastFrame"]);e!==void 0&&f!=null&&g(e,["instances[0]","lastFrame"],Kf(f));const y=h(t,["referenceImages"]);if(e!==void 0&&y!=null){let m=y;Array.isArray(m)&&(m=m.map(v=>GL(v))),g(e,["instances[0]","referenceImages"],m)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function qB(t,e){const n={},r=h(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const s=h(t,["fps"]);e!==void 0&&s!=null&&g(e,["parameters","fps"],s);const l=h(t,["durationSeconds"]);e!==void 0&&l!=null&&g(e,["parameters","durationSeconds"],l);const u=h(t,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const d=h(t,["aspectRatio"]);e!==void 0&&d!=null&&g(e,["parameters","aspectRatio"],d);const c=h(t,["resolution"]);e!==void 0&&c!=null&&g(e,["parameters","resolution"],c);const f=h(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const y=h(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const m=h(t,["negativePrompt"]);e!==void 0&&m!=null&&g(e,["parameters","negativePrompt"],m);const v=h(t,["enhancePrompt"]);e!==void 0&&v!=null&&g(e,["parameters","enhancePrompt"],v);const C=h(t,["generateAudio"]);e!==void 0&&C!=null&&g(e,["parameters","generateAudio"],C);const _=h(t,["lastFrame"]);e!==void 0&&_!=null&&g(e,["instances[0]","lastFrame"],Tr(_));const S=h(t,["referenceImages"]);if(e!==void 0&&S!=null){let A=S;Array.isArray(A)&&(A=A.map(b=>WL(b))),g(e,["instances[0]","referenceImages"],A)}const P=h(t,["mask"]);e!==void 0&&P!=null&&g(e,["instances[0]","mask"],qL(P));const w=h(t,["compressionQuality"]);return e!==void 0&&w!=null&&g(e,["parameters","compressionQuality"],w),n}function GB(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const o=h(t,["done"]);o!=null&&g(e,["done"],o);const s=h(t,["error"]);s!=null&&g(e,["error"],s);const l=h(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],JB(l)),e}function WB(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const o=h(t,["done"]);o!=null&&g(e,["done"],o);const s=h(t,["error"]);s!=null&&g(e,["error"],s);const l=h(t,["response"]);return l!=null&&g(e,["response"],jB(l)),e}function KB(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const s=h(e,["image"]);s!=null&&g(n,["instances[0]","image"],Kf(s));const l=h(e,["video"]);l!=null&&g(n,["instances[0]","video"],NS(l));const u=h(e,["source"]);u!=null&&ZB(u,n);const d=h(e,["config"]);return d!=null&&zB(d,n),n}function YB(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["prompt"]);o!=null&&g(n,["instances[0]","prompt"],o);const s=h(e,["image"]);s!=null&&g(n,["instances[0]","image"],Tr(s));const l=h(e,["video"]);l!=null&&g(n,["instances[0]","video"],MS(l));const u=h(e,["source"]);u!=null&&XB(u,n);const d=h(e,["config"]);return d!=null&&qB(d,n),n}function JB(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>tL(l))),g(e,["generatedVideos"],s)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&g(e,["raiMediaFilteredReasons"],o),e}function jB(t){const e={},n=h(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>nL(l))),g(e,["generatedVideos"],s)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&g(e,["raiMediaFilteredReasons"],o),e}function ZB(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const o=h(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],Kf(o));const s=h(t,["video"]);return e!==void 0&&s!=null&&g(e,["instances[0]","video"],NS(s)),n}function XB(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const o=h(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],Tr(o));const s=h(t,["video"]);return e!==void 0&&s!=null&&g(e,["instances[0]","video"],MS(s)),n}function QB(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],cL(n));const r=h(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const o=h(t,["_self"]);return o!=null&&g(e,["safetyAttributes"],PS(o)),e}function Wf(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],bS(n));const r=h(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const o=h(t,["_self"]);o!=null&&g(e,["safetyAttributes"],IS(o));const s=h(t,["prompt"]);return s!=null&&g(e,["enhancedPrompt"],s),e}function eL(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["mask"],bS(n));const r=h(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["labels"],o)}return e}function tL(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],HL(n)),e}function nL(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],zL(n)),e}function rL(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const o=h(t,["audioTimestamp"]);o!=null&&g(e,["audioTimestamp"],o);const s=h(t,["candidateCount"]);s!=null&&g(e,["candidateCount"],s);const l=h(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const u=h(t,["frequencyPenalty"]);u!=null&&g(e,["frequencyPenalty"],u);const d=h(t,["logprobs"]);d!=null&&g(e,["logprobs"],d);const c=h(t,["maxOutputTokens"]);c!=null&&g(e,["maxOutputTokens"],c);const f=h(t,["mediaResolution"]);f!=null&&g(e,["mediaResolution"],f);const y=h(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const m=h(t,["responseLogprobs"]);m!=null&&g(e,["responseLogprobs"],m);const v=h(t,["responseMimeType"]);v!=null&&g(e,["responseMimeType"],v);const C=h(t,["responseModalities"]);C!=null&&g(e,["responseModalities"],C);const _=h(t,["responseSchema"]);_!=null&&g(e,["responseSchema"],_);const S=h(t,["routingConfig"]);S!=null&&g(e,["routingConfig"],S);const P=h(t,["seed"]);P!=null&&g(e,["seed"],P);const w=h(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],DS(w));const A=h(t,["stopSequences"]);A!=null&&g(e,["stopSequences"],A);const b=h(t,["temperature"]);b!=null&&g(e,["temperature"],b);const D=h(t,["thinkingConfig"]);D!=null&&g(e,["thinkingConfig"],D);const R=h(t,["topK"]);R!=null&&g(e,["topK"],R);const N=h(t,["topP"]);if(N!=null&&g(e,["topP"],N),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function oL(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Je(t,r)),n}function iL(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Je(t,r)),n}function sL(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function aL(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function lL(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function uL(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const o=h(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const s=h(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function cL(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],yi(n));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function bS(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],yi(r));const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function Kf(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],yi(n));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Tr(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],yi(r));const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function dL(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const s=h(e,["pageToken"]);n!==void 0&&s!=null&&g(n,["_query","pageToken"],s);const l=h(e,["filter"]);n!==void 0&&l!=null&&g(n,["_query","filter"],l);const u=h(e,["queryBase"]);return n!==void 0&&u!=null&&g(n,["_url","models_url"],ES(t,u)),r}function fL(t,e,n){const r={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&g(n,["_query","pageSize"],o);const s=h(e,["pageToken"]);n!==void 0&&s!=null&&g(n,["_query","pageToken"],s);const l=h(e,["filter"]);n!==void 0&&l!=null&&g(n,["_query","filter"],l);const u=h(e,["queryBase"]);return n!==void 0&&u!=null&&g(n,["_url","models_url"],ES(t,u)),r}function pL(t,e){const n={},r=h(e,["config"]);return r!=null&&dL(t,r,n),n}function hL(t,e){const n={},r=h(e,["config"]);return r!=null&&fL(t,r,n),n}function mL(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const o=h(t,["_self"]);if(o!=null){let s=CS(o);Array.isArray(s)&&(s=s.map(l=>tm(l))),g(e,["models"],s)}return e}function gL(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const o=h(t,["_self"]);if(o!=null){let s=CS(o);Array.isArray(s)&&(s=s.map(l=>nm(l))),g(e,["models"],s)}return e}function yL(t){const e={},n=h(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=h(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const o=h(t,["maskDilation"]);return o!=null&&g(e,["dilation"],o),e}function tm(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const o=h(t,["description"]);o!=null&&g(e,["description"],o);const s=h(t,["version"]);s!=null&&g(e,["version"],s);const l=h(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],NL(l));const u=h(t,["inputTokenLimit"]);u!=null&&g(e,["inputTokenLimit"],u);const d=h(t,["outputTokenLimit"]);d!=null&&g(e,["outputTokenLimit"],d);const c=h(t,["supportedGenerationMethods"]);c!=null&&g(e,["supportedActions"],c);const f=h(t,["temperature"]);f!=null&&g(e,["temperature"],f);const y=h(t,["maxTemperature"]);y!=null&&g(e,["maxTemperature"],y);const m=h(t,["topP"]);m!=null&&g(e,["topP"],m);const v=h(t,["topK"]);v!=null&&g(e,["topK"],v);const C=h(t,["thinking"]);return C!=null&&g(e,["thinking"],C),e}function nm(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const o=h(t,["description"]);o!=null&&g(e,["description"],o);const s=h(t,["versionId"]);s!=null&&g(e,["version"],s);const l=h(t,["deployedModels"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(m=>IB(m))),g(e,["endpoints"],y)}const u=h(t,["labels"]);u!=null&&g(e,["labels"],u);const d=h(t,["_self"]);d!=null&&g(e,["tunedModelInfo"],ML(d));const c=h(t,["defaultCheckpointId"]);c!=null&&g(e,["defaultCheckpointId"],c);const f=h(t,["checkpoints"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(m=>m)),g(e,["checkpoints"],y)}return e}function xL(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&g(e,["executableCode"],o);const s=h(t,["fileData"]);s!=null&&g(e,["fileData"],DB(s));const l=h(t,["functionCall"]);l!=null&&g(e,["functionCall"],RB(l));const u=h(t,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const d=h(t,["inlineData"]);d!=null&&g(e,["inlineData"],rB(d));const c=h(t,["text"]);c!=null&&g(e,["text"],c);const f=h(t,["thought"]);f!=null&&g(e,["thought"],f);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const m=h(t,["videoMetadata"]);return m!=null&&g(e,["videoMetadata"],m),e}function vL(t){const e={},n=h(t,["productImage"]);return n!=null&&g(e,["image"],Tr(n)),e}function EL(t,e){const n={},r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const o=h(t,["baseSteps"]);e!==void 0&&o!=null&&g(e,["parameters","baseSteps"],o);const s=h(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const l=h(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=h(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const c=h(t,["addWatermark"]);e!==void 0&&c!=null&&g(e,["parameters","addWatermark"],c);const f=h(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const y=h(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const m=h(t,["enhancePrompt"]);e!==void 0&&m!=null&&g(e,["parameters","enhancePrompt"],m);const v=h(t,["labels"]);return e!==void 0&&v!=null&&g(e,["labels"],v),n}function CL(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["source"]);o!=null&&wL(o,n);const s=h(e,["config"]);return s!=null&&EL(s,n),n}function _L(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Wf(o))),g(e,["generatedImages"],r)}return e}function wL(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const o=h(t,["personImage"]);e!==void 0&&o!=null&&g(e,["instances[0]","personImage","image"],Tr(o));const s=h(t,["productImages"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>vL(u))),g(e,["instances[0]","productImages"],l)}return n}function TL(t){const e={},n=h(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Tr(n));const r=h(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const o=h(t,["referenceType"]);o!=null&&g(e,["referenceType"],o);const s=h(t,["maskImageConfig"]);s!=null&&g(e,["maskImageConfig"],yL(s));const l=h(t,["controlImageConfig"]);l!=null&&g(e,["controlImageConfig"],cB(l));const u=h(t,["styleImageConfig"]);u!=null&&g(e,["styleImageConfig"],u);const d=h(t,["subjectImageConfig"]);return d!=null&&g(e,["subjectImageConfig"],d),e}function PS(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const o=h(t,["contentType"]);return o!=null&&g(e,["contentType"],o),e}function IS(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const o=h(t,["contentType"]);return o!=null&&g(e,["contentType"],o),e}function SL(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function AL(t){const e={},n=h(t,["image"]);return n!=null&&g(e,["image"],Tr(n)),e}function kL(t,e){const n={},r=h(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const o=h(t,["maxPredictions"]);e!==void 0&&o!=null&&g(e,["parameters","maxPredictions"],o);const s=h(t,["confidenceThreshold"]);e!==void 0&&s!=null&&g(e,["parameters","confidenceThreshold"],s);const l=h(t,["maskDilation"]);e!==void 0&&l!=null&&g(e,["parameters","maskDilation"],l);const u=h(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&g(e,["parameters","binaryColorThreshold"],u);const d=h(t,["labels"]);return e!==void 0&&d!=null&&g(e,["labels"],d),n}function bL(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["source"]);o!=null&&IL(o,n);const s=h(e,["config"]);return s!=null&&kL(s,n),n}function PL(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>eL(o))),g(e,["generatedMasks"],r)}return e}function IL(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const o=h(t,["image"]);e!==void 0&&o!=null&&g(e,["instances[0]","image"],Tr(o));const s=h(t,["scribbleImage"]);return e!==void 0&&s!=null&&g(e,["instances[0]","scribble"],AL(s)),n}function DS(t){const e={},n=h(t,["languageCode"]);n!=null&&g(e,["languageCode"],n);const r=h(t,["voiceConfig"]);if(r!=null&&g(e,["voiceConfig"],r),h(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function DL(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],NB(n));const r=h(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],r),e}function RL(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(y=>y)),g(e,["functionDeclarations"],f)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&g(e,["computerUse"],o);const s=h(t,["fileSearch"]);s!=null&&g(e,["fileSearch"],s);const l=h(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(t,["googleMaps"]);u!=null&&g(e,["googleMaps"],sL(u));const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],aL(d));const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function RS(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(m=>MB(m))),g(e,["functionDeclarations"],y)}const r=h(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const o=h(t,["googleSearchRetrieval"]);o!=null&&g(e,["googleSearchRetrieval"],o);const s=h(t,["computerUse"]);if(s!=null&&g(e,["computerUse"],s),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=h(t,["codeExecution"]);l!=null&&g(e,["codeExecution"],l);const u=h(t,["enterpriseWebSearch"]);u!=null&&g(e,["enterpriseWebSearch"],u);const d=h(t,["googleMaps"]);d!=null&&g(e,["googleMaps"],d);const c=h(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const f=h(t,["urlContext"]);return f!=null&&g(e,["urlContext"],f),e}function NL(t){const e={},n=h(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&g(e,["createTime"],r);const o=h(t,["updateTime"]);return o!=null&&g(e,["updateTime"],o),e}function ML(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&g(e,["createTime"],r);const o=h(t,["updateTime"]);return o!=null&&g(e,["updateTime"],o),e}function FL(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const o=h(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);const s=h(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&g(e,["defaultCheckpointId"],s),n}function BL(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const o=h(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);const s=h(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&g(e,["defaultCheckpointId"],s),n}function LL(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","name"],Je(t,r));const o=h(e,["config"]);return o!=null&&FL(o,n),n}function UL(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["config"]);return o!=null&&BL(o,n),n}function OL(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const o=h(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const s=h(t,["personGeneration"]);e!==void 0&&s!=null&&g(e,["parameters","personGeneration"],s);const l=h(t,["includeRaiReason"]);e!==void 0&&l!=null&&g(e,["parameters","includeRaiReason"],l);const u=h(t,["outputMimeType"]);e!==void 0&&u!=null&&g(e,["parameters","outputOptions","mimeType"],u);const d=h(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","compressionQuality"],d);const c=h(t,["enhanceInputImage"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=h(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const y=h(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const m=h(t,["numberOfImages"]);e!==void 0&&m!=null&&g(e,["parameters","sampleCount"],m);const v=h(t,["mode"]);return e!==void 0&&v!=null&&g(e,["parameters","mode"],v),n}function VL(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const o=h(e,["image"]);o!=null&&g(n,["instances[0]","image"],Tr(o));const s=h(e,["upscaleFactor"]);s!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],s);const l=h(e,["config"]);return l!=null&&OL(l,n),n}function $L(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Wf(s))),g(e,["generatedImages"],o)}return e}function HL(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],yi(r));const o=h(t,["encoding"]);return o!=null&&g(e,["mimeType"],o),e}function zL(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],yi(r));const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}function qL(t){const e={},n=h(t,["image"]);n!=null&&g(e,["_self"],Tr(n));const r=h(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function GL(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],Kf(n));const r=h(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function WL(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],Tr(n));const r=h(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function NS(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],yi(r));const o=h(t,["mimeType"]);return o!=null&&g(e,["encoding"],o),e}function MS(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],yi(r));const o=h(t,["mimeType"]);return o!=null&&g(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KL="Content-Type",YL="X-Server-Timeout",JL="User-Agent",rm="x-goog-api-client",jL="1.30.0",ZL=`google-genai-sdk/${jL}`,XL="v1beta1",QL="v1beta",bC=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class e7{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:XL,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:QL,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))o.searchParams.append(l,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),e.abortSignal),this.unaryApiCall(o,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[o,s]of Object.entries(n))typeof s=="object"?r[o]=Object.assign(Object.assign({},r[o]),s):s!==void 0&&(r[o]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),e.abortSignal),this.streamApiCall(o,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,o){if(n&&n.timeout||o){const s=new AbortController,l=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>s.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),e.signal=l}return n&&n.extraBody!==null&&t7(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await PC(o),new Xh(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await PC(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var n;return Zs(this,arguments,function*(){const o=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:d}=yield dt(o.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(d,{stream:!0});try{const y=JSON.parse(c);if("error"in y){const m=JSON.parse(JSON.stringify(y.error)),v=m.status,C=m.code,_=`got status: ${v}. ${JSON.stringify(y)}`;if(C>=400&&C<600)throw new qf({message:_,status:C})}}catch(y){if(y.name==="ApiError")throw y}l+=c;let f=l.match(bC);for(;f;){const y=f[1];try{const m=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield dt(new Xh(m)),l=l.slice(f[0].length),f=l.match(bC)}catch(m){throw new Error(`exception parsing stream chunk ${y}. ${m}`)}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=ZL+" "+this.clientOptions.userAgentExtra;return e[JL]=n,e[rm]=n,e[KL]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[o,s]of Object.entries(e.headers))r.append(o,s);e.timeout&&e.timeout>0&&r.append(YL,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,l=await s.stat(e);o.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const d={file:o},c=this.getFileName(e),f=me("upload/v1beta/files",d._url),y=await this.fetchUploadUrl(f,o.sizeBytes,o.mimeType,c,d,n==null?void 0:n.httpOptions);return s.upload(e,y,this)}async uploadFileToFileSearchStore(e,n,r){var o;const s=this.clientOptions.uploader,l=await s.stat(n),u=String(l.size),d=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),y={};r!=null&&r.customMetadata&&(y.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(y.chunkingConfig=r.chunkingConfig);const m=await this.fetchUploadUrl(c,u,d,f,y,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,o,s,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const c=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=c==null?void 0:c.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function PC(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new qf({message:o,status:n}):new Error(o)}}function t7(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,l){const u=Object.assign({},s);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const c=l[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=r(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const o=r(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n7="mcp_used/unknown";let r7=!1;function FS(t){for(const e of t)if(o7(e)||typeof e=="object"&&"inputSchema"in e)return!0;return r7}function BS(t){var e;const n=(e=t[rm])!==null&&e!==void 0?e:"";t[rm]=(n+` ${n7}`).trimStart()}function o7(t){return t!==null&&typeof t=="object"&&t instanceof Eg}function i7(t,e=100){return Zs(this,arguments,function*(){let r,o=0;for(;o<e;){const s=yield dt(t.listTools({cursor:r}));for(const l of s.tools)yield yield dt(l),o++;if(!s.nextCursor)break;r=s.nextCursor}})}class Eg{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Eg(e,n)}async initialize(){var e,n,r,o;if(this.mcpTools.length>0)return;const s={},l=[];for(const f of this.mcpClients)try{for(var u=!0,d=(n=void 0,Sl(i7(f))),c;c=await d.next(),e=c.done,!e;u=!0){o=c.value,u=!1;const y=o;l.push(y);const m=y.name;if(s[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);s[m]=f}}catch(y){n={error:y}}finally{try{!u&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Z5(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await o.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function s7(t,e,n){const r=new z5;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),e(r)}class a7{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=c7(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(A=>{c=A}),y=e.callbacks,m=function(){c({})},v=this.apiClient,C={onopen:m,onmessage:A=>{s7(v,y.onmessage,A)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(A){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(A){}},_=this.webSocketFactory.create(d,u7(l),C);_.connect(),await f;const w={setup:{model:Je(this.apiClient,e.model)}};return _.send(JSON.stringify(w)),new l7(_,this.apiClient)}}class l7{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Y6(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=K6(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Gs.PLAY)}pause(){this.sendPlaybackControl(Gs.PAUSE)}stop(){this.sendPlaybackControl(Gs.STOP)}resetContext(){this.sendPlaybackControl(Gs.RESET_CONTEXT)}close(){this.conn.close()}}function u7(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function c7(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d7="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function f7(t,e,n){const r=new H5;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const s=JSON.parse(o);if(t.isVertexAI()){const l=Z6(s);Object.assign(r,l)}else Object.assign(r,s);e(r)}class p7{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new a7(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,o,s,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&FS(e.config.tools)&&BS(y);const m=y7(y);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,f);else{const L=this.apiClient.getApiKey();let U="BidiGenerateContent",V="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",V="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${U}?${V}=${L}`}let v=()=>{};const C=new Promise(L=>{v=L}),_=e.callbacks,S=function(){var L;(L=_==null?void 0:_.onopen)===null||L===void 0||L.call(_),v({})},P=this.apiClient,w={onopen:S,onmessage:L=>{f7(P,_.onmessage,L)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(L){}},A=this.webSocketFactory.create(f,g7(m),w);A.connect(),await C;let b=Je(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&b.startsWith("publishers/")){const L=this.apiClient.getProject(),U=this.apiClient.getLocation();b=`projects/${L}/locations/${U}/`+b}let D={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ff.AUDIO]}:e.config.responseModalities=[ff.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],N=[];for(const L of R)if(this.isCallableTool(L)){const U=L;N.push(await U.tool())}else N.push(L);N.length>0&&(e.config.tools=N);const B={model:b,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?D=W6(this.apiClient,B):D=G6(this.apiClient,B),delete D.config,A.send(JSON.stringify(D)),new m7(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const h7={turnComplete:!0};class m7{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Qn(n.turns),e.isVertexAI()||(r=r.map(o=>Gf(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(d7)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},h7),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:j6(e)}:n={realtimeInput:J6(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function g7(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function y7(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IC=10;function DC(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Xs(l)){o=!0;break}if(!o)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Xs(t){return"callTool"in t&&typeof t.callTool=="function"}function x7(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Xs(o)))!==null&&r!==void 0?r:!1}function RC(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(Xs(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(o)}),n}function NC(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v7 extends wo{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,o,s,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!x7(n)||DC(n.config))return await this.generateContentInternal(d);const c=RC(n);if(c.length>0){const _=c.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let f,y;const m=Qn(d.contents),v=(s=(o=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:IC;let C=0;for(;C<v&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const _=f.candidates[0].content,S=[];for(const P of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Xs(P)){const A=await P.callTool(f.functionCalls);S.push(...A)}C++,y={role:"user",parts:S},d.contents=Qn(d.contents),d.contents.push(_),d.contents.push(y),NC(d.config)&&(m.push(_),m.push(y))}return NC(d.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{var r,o,s,l,u;if(this.maybeMoveToResponseJsonSchem(n),DC(n.config)){const y=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(y)}const d=RC(n);if(d.length>0){const y=d.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${y}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(s=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let s;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((o=d==null?void 0:d.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=d==null?void 0:d.safetyAttributes:l.push(d);let u;return s?u={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new is(Co.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,s,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,o;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const l=await Promise.all(s.map(async d=>Xs(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&FS(e.config.tools)){const d=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),BS(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,r,o;const s=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Xs(l)){const u=l,d=await u.tool();for(const c of(o=d.functionDeclarations)!==null&&o!==void 0?o:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,u)}}return s}async processAfcStream(e){var n,r,o;const s=(o=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:IC;let l=!1,u=0;const d=await this.initAfcToolsMap(e);return(function(c,f,y){var m,v;return Zs(this,arguments,function*(){for(var C,_,S,P;u<s;){l&&(u++,l=!1);const D=yield dt(c.processParamsMaybeAddMcpUsage(y)),R=yield dt(c.generateContentStreamInternal(D)),N=[],B=[];try{for(var w=!0,A=(_=void 0,Sl(R)),b;b=yield dt(A.next()),C=b.done,!C;w=!0){P=b.value,w=!1;const L=P;if(yield yield dt(L),L.candidates&&(!((m=L.candidates[0])===null||m===void 0)&&m.content)){B.push(L.candidates[0].content);for(const U of(v=L.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(u<s&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(U.functionCall.name)){const V=yield dt(f.get(U.functionCall.name).callTool([U.functionCall]));N.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(L){_={error:L}}finally{try{!w&&!C&&(S=A.return)&&(yield dt(S.call(A)))}finally{if(_)throw _.error}}if(N.length>0){l=!0;const L=new fl;L.candidates=[{content:{role:"user",parts:N}}],yield yield dt(L);const U=[];U.push(...B),U.push({role:"user",parts:N});const V=Qn(y.contents).concat(U);y.contents=V}else break}})})(this,d,e)}async generateContentInternal(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=SC(this.apiClient,e);return u=me("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=kC(f),m=new fl;return Object.assign(m,y),m})}else{const c=TC(this.apiClient,e);return u=me("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=AC(f),m=new fl;return Object.assign(m,y),m})}}async generateContentStreamInternal(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=SC(this.apiClient,e);return u=me("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(y){return Zs(this,arguments,function*(){var m,v,C,_;try{for(var S=!0,P=Sl(y),w;w=yield dt(P.next()),m=w.done,!m;S=!0){_=w.value,S=!1;const A=_,b=kC(yield dt(A.json()));b.sdkHttpResponse={headers:A.headers};const D=new fl;Object.assign(D,b),yield yield dt(D)}}catch(A){v={error:A}}finally{try{!S&&!m&&(C=P.return)&&(yield dt(C.call(P)))}finally{if(v)throw v.error}}})})}else{const c=TC(this.apiClient,e);return u=me("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(y){return Zs(this,arguments,function*(){var m,v,C,_;try{for(var S=!0,P=Sl(y),w;w=yield dt(P.next()),m=w.done,!m;S=!0){_=w.value,S=!1;const A=_,b=AC(yield dt(A.json()));b.sdkHttpResponse={headers:A.headers};const D=new fl;Object.assign(D,b),yield yield dt(D)}}catch(A){v={error:A}}finally{try{!S&&!m&&(C=P.return)&&(yield dt(C.call(P)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=kB(this.apiClient,e);return u=me("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=PB(f),m=new lC;return Object.assign(m,y),m})}else{const c=AB(this.apiClient,e);return u=me("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=bB(f),m=new lC;return Object.assign(m,y),m})}}async generateImagesInternal(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=VB(this.apiClient,e);return u=me("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=HB(f),m=new uC;return Object.assign(m,y),m})}else{const c=OB(this.apiClient,e);return u=me("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=$B(f),m=new uC;return Object.assign(m,y),m})}}async editImageInternal(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=_B(this.apiClient,e);return s=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=wB(d),f=new D5;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=VL(this.apiClient,e);return s=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=$L(d),f=new R5;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=CL(this.apiClient,e);return s=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=_L(d),f=new N5;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=bL(this.apiClient,e);return s=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=PL(d),f=new M5;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=iL(this.apiClient,e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>nm(f))}else{const c=oL(this.apiClient,e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>tm(f))}}async listInternal(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=hL(this.apiClient,e);return u=me("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=gL(f),m=new cC;return Object.assign(m,y),m})}else{const c=pL(this.apiClient,e);return u=me("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=mL(f),m=new cC;return Object.assign(m,y),m})}}async update(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=UL(this.apiClient,e);return u=me("{model}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>nm(f))}else{const c=LL(this.apiClient,e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>tm(f))}}async delete(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=xB(this.apiClient,e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=EB(f),m=new dC;return Object.assign(m,y),m})}else{const c=yB(this.apiClient,e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=vB(f),m=new dC;return Object.assign(m,y),m})}}async countTokens(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=hB(this.apiClient,e);return u=me("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=gB(f),m=new fC;return Object.assign(m,y),m})}else{const c=pB(this.apiClient,e);return u=me("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=mB(f),m=new fC;return Object.assign(m,y),m})}}async computeTokens(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=sB(this.apiClient,e);return s=me("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>{const c=aB(d),f=new F5;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=YB(this.apiClient,e);return u=me("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>{const y=WB(f),m=new pf;return Object.assign(m,y),m})}else{const c=KB(this.apiClient,e);return u=me("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l.then(f=>{const y=GB(f),m=new pf;return Object.assign(m,y),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E7 extends wo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=S5(e);return u=me("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l}else{const c=T5(e);return u=me("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=y5(e);return s=me("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C7(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function _7(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>D7(s))),g(e,["parts"],o)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function w7(t,e,n){const r={},o=h(e,["expireTime"]);n!==void 0&&o!=null&&g(n,["expireTime"],o);const s=h(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&g(n,["newSessionExpireTime"],s);const l=h(e,["uses"]);n!==void 0&&l!=null&&g(n,["uses"],l);const u=h(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&g(n,["bidiGenerateContentSetup"],I7(t,u));const d=h(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&g(n,["fieldMask"],d),r}function T7(t,e){const n={},r=h(e,["config"]);return r!=null&&g(n,["config"],w7(t,r,n)),n}function S7(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function A7(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const o=h(t,["name"]);if(o!=null&&g(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function k7(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function b7(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function P7(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","responseModalities"],o);const s=h(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const l=h(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const u=h(t,["topK"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","topK"],u);const d=h(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const c=h(t,["mediaResolution"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","mediaResolution"],c);const f=h(t,["seed"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","seed"],f);const y=h(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],vg(y));const m=h(t,["thinkingConfig"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","thinkingConfig"],m);const v=h(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=h(t,["systemInstruction"]);e!==void 0&&C!=null&&g(e,["setup","systemInstruction"],_7(ln(C)));const _=h(t,["tools"]);if(e!==void 0&&_!=null){let R=ya(_);Array.isArray(R)&&(R=R.map(N=>N7(ga(N)))),g(e,["setup","tools"],R)}const S=h(t,["sessionResumption"]);e!==void 0&&S!=null&&g(e,["setup","sessionResumption"],R7(S));const P=h(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&g(e,["setup","inputAudioTranscription"],P);const w=h(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const A=h(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&g(e,["setup","realtimeInputConfig"],A);const b=h(t,["contextWindowCompression"]);e!==void 0&&b!=null&&g(e,["setup","contextWindowCompression"],b);const D=h(t,["proactivity"]);return e!==void 0&&D!=null&&g(e,["setup","proactivity"],D),n}function I7(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],Je(t,r));const o=h(e,["config"]);return o!=null&&g(n,["config"],P7(o,n)),n}function D7(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const o=h(t,["executableCode"]);o!=null&&g(e,["executableCode"],o);const s=h(t,["fileData"]);s!=null&&g(e,["fileData"],S7(s));const l=h(t,["functionCall"]);l!=null&&g(e,["functionCall"],A7(l));const u=h(t,["functionResponse"]);u!=null&&g(e,["functionResponse"],u);const d=h(t,["inlineData"]);d!=null&&g(e,["inlineData"],C7(d));const c=h(t,["text"]);c!=null&&g(e,["text"],c);const f=h(t,["thought"]);f!=null&&g(e,["thought"],f);const y=h(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const m=h(t,["videoMetadata"]);return m!=null&&g(e,["videoMetadata"],m),e}function R7(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function N7(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(y=>y)),g(e,["functionDeclarations"],f)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=h(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const o=h(t,["computerUse"]);o!=null&&g(e,["computerUse"],o);const s=h(t,["fileSearch"]);s!=null&&g(e,["fileSearch"],s);const l=h(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(t,["googleMaps"]);u!=null&&g(e,["googleMaps"],k7(u));const d=h(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],b7(d));const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M7(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(s=>`${n}.${s}`);e.push(...o)}else e.push(n)}return e.join(",")}function F7(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const s=M7(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(c=>l.includes(c)?`generationConfig.${c}`:c));const d=[];s&&d.push(s),u.length>0&&d.push(...u),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class B7 extends wo{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=T7(this.apiClient,e);s=me("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=F7(u,e.config);return o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L7(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function U7(t){const e={},n=h(t,["config"]);return n!=null&&L7(n,e),e}function O7(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function V7(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&O7(r,e),e}function $7(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function H7(t,e){const n={},r=h(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["customMetadata"],s)}const o=h(t,["chunkingConfig"]);return e!==void 0&&o!=null&&g(e,["chunkingConfig"],o),n}function z7(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const o=h(t,["done"]);o!=null&&g(e,["done"],o);const s=h(t,["error"]);s!=null&&g(e,["error"],s);const l=h(t,["response"]);return l!=null&&g(e,["response"],G7(l)),e}function q7(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=h(t,["fileName"]);r!=null&&g(e,["fileName"],r);const o=h(t,["config"]);return o!=null&&H7(o,e),e}function G7(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const o=h(t,["documentName"]);return o!=null&&g(e,["documentName"],o),e}function W7(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),n}function K7(t){const e={},n=h(t,["config"]);return n!=null&&W7(n,e),e}function Y7(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const o=h(t,["fileSearchStores"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["fileSearchStores"],s)}return e}function J7(t,e){const n={},r=h(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const o=h(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=h(t,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),g(e,["customMetadata"],u)}const l=h(t,["chunkingConfig"]);return e!==void 0&&l!=null&&g(e,["chunkingConfig"],l),n}function j7(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=h(t,["config"]);return r!=null&&J7(r,e),e}function Z7(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X7(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function Q7(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&X7(r,e),e}function e9(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function t9(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&g(e,["_query","pageToken"],o),n}function n9(t){const e={},n=h(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=h(t,["config"]);return r!=null&&t9(r,e),e}function r9(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const o=h(t,["documents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o9 extends wo{constructor(e){super(),this.apiClient=e,this.list=async n=>new is(Co.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=e9(e);return s=me("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Q7(e);o=me("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=n9(e);return s=me("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=r9(d),f=new B5;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i9 extends wo{constructor(e,n=new o9(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new is(Co.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=U7(e);return s=me("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$7(e);return s=me("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=V7(e);o=me("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=K7(e);return s=me("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Y7(d),f=new L5;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=j7(e);return s=me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=Z7(d),f=new U5;return Object.assign(f,c),f})}}async importFile(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=q7(e);return s=me("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const c=z7(d),f=new hg;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s9(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function a9(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function l9(t,e,n){const r={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=h(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&g(e,["displayName"],o),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=h(t,["epochCount"]);e!==void 0&&s!=null&&g(e,["tuningTask","hyperparameters","epochCount"],s);const l=h(t,["learningRateMultiplier"]);if(l!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=h(t,["batchSize"]);e!==void 0&&u!=null&&g(e,["tuningTask","hyperparameters","batchSize"],u);const d=h(t,["learningRate"]);if(e!==void 0&&d!=null&&g(e,["tuningTask","hyperparameters","learningRate"],d),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function u9(t,e,n){const r={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=h(t,["validationDataset"]);e!==void 0&&v!=null&&g(e,["supervisedTuningSpec"],MC(v))}else if(o==="PREFERENCE_TUNING"){const v=h(t,["validationDataset"]);e!==void 0&&v!=null&&g(e,["preferenceOptimizationSpec"],MC(v))}const s=h(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&g(e,["tunedModelDisplayName"],s);const l=h(t,["description"]);e!==void 0&&l!=null&&g(e,["description"],l);let u=h(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=h(t,["epochCount"]);e!==void 0&&v!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(u==="PREFERENCE_TUNING"){const v=h(t,["epochCount"]);e!==void 0&&v!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let d=h(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=h(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(d==="PREFERENCE_TUNING"){const v=h(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let c=h(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=h(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(c==="PREFERENCE_TUNING"){const v=h(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let f=h(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=h(t,["adapterSize"]);e!==void 0&&v!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(f==="PREFERENCE_TUNING"){const v=h(t,["adapterSize"]);e!==void 0&&v!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=h(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const m=h(t,["beta"]);return e!==void 0&&m!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),r}function c9(t,e){const n={},r=h(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const o=h(t,["preTunedModel"]);o!=null&&g(n,["preTunedModel"],o);const s=h(t,["trainingDataset"]);s!=null&&C9(s);const l=h(t,["config"]);return l!=null&&l9(l,n),n}function d9(t,e){const n={},r=h(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const o=h(t,["preTunedModel"]);o!=null&&g(n,["preTunedModel"],o);const s=h(t,["trainingDataset"]);s!=null&&_9(s,n,e);const l=h(t,["config"]);return l!=null&&u9(l,n,e),n}function f9(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function p9(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function h9(t,e,n){const r={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const s=h(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const l=h(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function m9(t,e,n){const r={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&g(e,["_query","pageSize"],o);const s=h(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const l=h(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function g9(t,e){const n={},r=h(t,["config"]);return r!=null&&h9(r,n),n}function y9(t,e){const n={},r=h(t,["config"]);return r!=null&&m9(r,n),n}function x9(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const o=h(t,["nextPageToken"]);o!=null&&g(n,["nextPageToken"],o);const s=h(t,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>LS(u))),g(n,["tuningJobs"],l)}return n}function v9(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const o=h(t,["nextPageToken"]);o!=null&&g(n,["nextPageToken"],o);const s=h(t,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>om(u))),g(n,["tuningJobs"],l)}return n}function E9(t,e){const n={},r=h(t,["name"]);r!=null&&g(n,["model"],r);const o=h(t,["name"]);return o!=null&&g(n,["endpoint"],o),n}function C9(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=h(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(n,["examples","examples"],o)}return n}function _9(t,e,n){const r={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=h(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=h(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let s=h(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=h(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=h(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function LS(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const o=h(t,["name"]);o!=null&&g(n,["name"],o);const s=h(t,["state"]);s!=null&&g(n,["state"],xS(s));const l=h(t,["createTime"]);l!=null&&g(n,["createTime"],l);const u=h(t,["tuningTask","startTime"]);u!=null&&g(n,["startTime"],u);const d=h(t,["tuningTask","completeTime"]);d!=null&&g(n,["endTime"],d);const c=h(t,["updateTime"]);c!=null&&g(n,["updateTime"],c);const f=h(t,["description"]);f!=null&&g(n,["description"],f);const y=h(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const m=h(t,["_self"]);return m!=null&&g(n,["tunedModel"],E9(m)),n}function om(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const o=h(t,["name"]);o!=null&&g(n,["name"],o);const s=h(t,["state"]);s!=null&&g(n,["state"],xS(s));const l=h(t,["createTime"]);l!=null&&g(n,["createTime"],l);const u=h(t,["startTime"]);u!=null&&g(n,["startTime"],u);const d=h(t,["endTime"]);d!=null&&g(n,["endTime"],d);const c=h(t,["updateTime"]);c!=null&&g(n,["updateTime"],c);const f=h(t,["error"]);f!=null&&g(n,["error"],f);const y=h(t,["description"]);y!=null&&g(n,["description"],y);const m=h(t,["baseModel"]);m!=null&&g(n,["baseModel"],m);const v=h(t,["tunedModel"]);v!=null&&g(n,["tunedModel"],v);const C=h(t,["preTunedModel"]);C!=null&&g(n,["preTunedModel"],C);const _=h(t,["supervisedTuningSpec"]);_!=null&&g(n,["supervisedTuningSpec"],_);const S=h(t,["preferenceOptimizationSpec"]);S!=null&&g(n,["preferenceOptimizationSpec"],S);const P=h(t,["tuningDataStats"]);P!=null&&g(n,["tuningDataStats"],P);const w=h(t,["encryptionSpec"]);w!=null&&g(n,["encryptionSpec"],w);const A=h(t,["partnerModelTuningSpec"]);A!=null&&g(n,["partnerModelTuningSpec"],A);const b=h(t,["customBaseModel"]);b!=null&&g(n,["customBaseModel"],b);const D=h(t,["experiment"]);D!=null&&g(n,["experiment"],D);const R=h(t,["labels"]);R!=null&&g(n,["labels"],R);const N=h(t,["outputUri"]);N!=null&&g(n,["outputUri"],N);const B=h(t,["pipelineJob"]);B!=null&&g(n,["pipelineJob"],B);const L=h(t,["serviceAccount"]);L!=null&&g(n,["serviceAccount"],L);const U=h(t,["tunedModelDisplayName"]);U!=null&&g(n,["tunedModelDisplayName"],U);const V=h(t,["veoTuningSpec"]);return V!=null&&g(n,["veoTuningSpec"],V),n}function w9(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const o=h(t,["name"]);o!=null&&g(n,["name"],o);const s=h(t,["metadata"]);s!=null&&g(n,["metadata"],s);const l=h(t,["done"]);l!=null&&g(n,["done"],l);const u=h(t,["error"]);return u!=null&&g(n,["error"],u),n}function MC(t,e){const n={},r=h(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const o=h(t,["vertexDatasetResource"]);return o!=null&&g(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T9 extends wo{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new is(Co.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),s=await this.tuneMldevInternal(o);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Zh.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=p9(e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>om(f))}else{const c=f9(e);return u=me("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>LS(f))}}async listInternal(e){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=y9(e);return u=me("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=v9(f),m=new pC;return Object.assign(m,y),m})}else{const c=g9(e);return u=me("tunedModels",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(y=>{const m=y;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const y=x9(f),m=new pC;return Object.assign(m,y),m})}}async cancel(e){var n,r,o,s;let l="",u={};if(this.apiClient.isVertexAI()){const d=a9(e);l=me("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=s9(e);l=me("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=d9(e,e);return s=me("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>om(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=c9(e);return s=me("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),o.then(d=>w9(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S9{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const A9=1024*1024*8,k9=3,b9=1e3,P9=2,mf="x-goog-upload-status";async function I9(t,e,n){var r;const o=await US(t,e,n),s=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[mf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function D9(t,e,n){var r;const o=await US(t,e,n),s=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[mf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=fS(s),u=new mg;return Object.assign(u,l),u}async function US(t,e,n){var r,o;let s=0,l=0,u=new Xh(new Response),d="upload";for(s=t.size;l<s;){const c=Math.min(A9,s-l),f=t.slice(l,l+c);l+c>=s&&(d+=", finalize");let y=0,m=b9;for(;y<k9&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(c)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[mf]));)y++,await N9(m),m=m*P9;if(l+=c,((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o[mf])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function R9(t){return{size:t.size,type:t.type}}function N9(t){return new Promise(e=>setTimeout(e,t))}class M9{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await I9(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await D9(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await R9(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F9{create(e,n,r){return new B9(e,n,r)}}class B9{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FC="x-goog-api-key";class L9{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(FC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(FC,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U9="gl-node/";class O9{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=m5(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const o=new L9(this.apiKey);this.apiClient=new e7({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:U9+"web",uploader:new M9,downloader:new S9}),this.models=new v7(this.apiClient),this.live=new p7(this.apiClient,o,new F9),this.batches=new qF(this.apiClient),this.chats=new S6(this.models,this.apiClient),this.caches=new _6(this.apiClient),this.files=new F6(this.apiClient),this.operations=new E7(this.apiClient),this.authTokens=new B7(this.apiClient),this.tunings=new T9(this.apiClient),this.fileSearchStores=new i9(this.apiClient)}}const V9=3,$9=1e3,H9=2,z9=[],q9=[],G9=[],W9=t=>z9.reduce((e,n)=>n(e),t),K9=t=>q9.reduce((e,n)=>n(e),t),Y9=t=>G9.reduce((e,n)=>n(e),t),J9=`
You are DevPrompt Studio, an elite Prompt Engineer specialized specifically in Software Development, Coding, and UI/UX Design.

Your goal is to take a user's rough, vague, or simple input and transform it into a high-quality, structured, and highly effective prompt optimized for Large Language Models (like yourself).

**Strict Constraints:**
1. If the user's input is NOT related to coding, software architecture, web design, or technical project management, you must politely refuse to enhance it and suggest they input a technical topic.
2. The output must be the *enhanced prompt itself*, ready to be copied and pasted by the user into another LLM. Do not output a conversation about the prompt.

**Structure of the Enhanced Prompt:**
The enhanced prompt you generate should generally follow this structure (adapted based on complexity):
- **Role**: Define who the AI should act as (e.g., "Act as a Senior React Engineer...").
- **Context/Goal**: Clear statement of the objective.
- **Requirements**: Bulleted list of specific technical or design requirements.
- **Tech Stack**: Specific tools, libraries, or design systems requested.
- **Constraints**: What to avoid or specific limits.
- **Output Format**: How the response should look (code blocks, JSON, critique, etc.).

**Tone:**
- Maintain a professional, technical, and precise tone in the enhanced prompt.
`;async function OS(t,e=V9,n=$9,r=1){var o,s,l,u;try{return await t()}catch(d){const c=Y9(d),f=c.status||((o=c.response)==null?void 0:o.status),y=f===429||f===503||f===500||((s=c.message)==null?void 0:s.toLowerCase().includes("fetch"))||((l=c.message)==null?void 0:l.toLowerCase().includes("network"))||((u=c.message)==null?void 0:u.toLowerCase().includes("timeout"));if(e>0&&y)return Kt.error(c,{context:"API Retry",attempt:r,retriesLeft:e,status:f,nextRetryDelay:n}),await new Promise(m=>setTimeout(m,n)),OS(t,e-1,n*H9,r+1);throw c}}const BC=async function*(t,e){const n=new O9({apiKey:"AIzaSyDFLbJeRDh5HvFJcf6suZe6YOOkHrmE5CU"});let r="";const o=e.targetTool||"general",s=["Bolt.new","Lovable.dev","Replit","Google AI Studio","Base44","V0","Glide","Softr","Adalo","Bravo Studio","Thunkable","Bubble","FlutterFlow","Appgyver","OutSystems","AppMySite","Builder.ai","Clappia","GoodBarber","GoCodeo SaaSBuilder","Natively"],l=["Cursor","Cline","Windsurf","Trae","GitHub Copilot","Aider","Continue.dev","OpenHands","Kiro","Qoder","Google Antigravity","Zencoder","Claude Code","UiPath"],u=["Uizard","Subframe","Galileo AI","Visily","Tempo","Onlook","UX Pilot","Polymet","Stitch","Autodraw","Figma AI","PromptLayer","Humanloop","AI Parabellum","Promptbuilder","Microsoft Design AI","Adobe Firefly"];s.includes(o)?r=`
      TARGET TOOL: ${o} (AI Full-Stack/No-Code Builder).
      OPTIMIZATION STRATEGY:
      - These tools build entire apps, screens, or components from a single prompt.
      - You MUST be extremely prescriptive about the Tech Stack immediately (e.g., "Use React, Tailwind, Supabase" or tool-specific primitives).
      - Provide the Database Schema (tables, columns, relationships) upfront if data is involved.
      - Define the UI layout explicitly (e.g., "Header with logo left, Grid layout for cards").
      - Avoid asking for "steps" to code; ask for the "Final Implementation" or "App Structure".
      - If the tool is V0, focus on shadcn/ui and Tailwind.
      - If the tool is Bubble/FlutterFlow, focus on logic flows and data types.
    `:l.includes(o)?r=`
      TARGET TOOL: ${o} (Agentic IDE / Coding Agent).
      OPTIMIZATION STRATEGY:
      - These agents work directly in the file system and can edit multiple files.
      - Structure the prompt to first propose a "File Structure" or "Implementation Plan".
      - Use phrases like "Review the current file context" or "Create a new file at [path]".
      - Focus on modularity and separate concerns.
      - If the tool is Windsurf/Cursor, explicitly mention "Cascade" or "Composer" context usage if relevant.
      - If the tool is Aider/Cline, focus on git-commit-friendly, atomic changes.
    `:u.includes(o)?r=`
      TARGET TOOL: ${o} (Prompt-to-Design / UI Generator / Prompt Ops).
      OPTIMIZATION STRATEGY:
      - These tools generate visuals, Figma designs, or prompt workflows.
      - Focus entirely on Visual Descriptions: Color palettes (Hex codes), Typography, Layout (Masonry, Sidebar, etc.), and Component Styles.
      - Describe the "Vibe" (Minimalist, Brutalist, Corporate).
      - List specific screens required (e.g., "Login Screen", "Dashboard", "Settings").
      - Do NOT ask for backend logic or database schemas unless it's for data binding in a prototype.
      - If this is a Prompt Ops tool (PromptLayer, etc.), structure the output as a meta-prompt template with {{variables}}.
    `:r="TARGET TOOL: General LLM (ChatGPT, Claude, Gemini). Focus on clarity, context, and step-by-step reasoning.";let d="";e.mode===Xt.OUTLINE?d=`
      **MODE: DOCUMENT OUTLINE GENERATOR**
      Instead of generating a prompt to copy/paste, you must generate a **Structured Document Outline** for the user's idea.
      
      Structure Requirement:
      - Use STRICT hierarchical Markdown numbering exactly as follows:
        I. [Main Section]
          A. [Sub Section]
             1. [Detail]
                a. [Minor Detail]
      
      - Mandatory Sections to Include:
        I. Overview / Executive Summary
        II. Key Objectives & Goals
        III. Technical Architecture & Stack
        IV. Implementation Phases (Step-by-Step)
        V. Risk Management & Edge Cases
      
      - Do not output a meta-prompt. Output the Outline itself as if writing a specification document.
      - Focus on High-Level Strategy first, then deep dive into Technical Specs.
    `:e.mode===Xt.BASIC&&(d=`
      **MODE: BASIC REFINEMENT**
      Refine the user's input for clarity, grammar, and flow.
      - Do NOT add a complex structure (Role, Context, etc.) like you usually do.
      - Do NOT add new sections like Tech Stack or specific constraints unless explicitly asked.
      - Keep the output format similar to the input, just better written, more professional, and clearer.
      - Make it concise.
      - Ignore standard structural requirements in your system instructions for this specific request.
    `);const c=`
    User Input: "${t}"
    
    Configuration:
    - Target Domain: ${e.domain}
    - Target Platform: ${e.platform}
    - Desired Complexity: ${e.complexity}
    - Include Specific Tech Stack Recommendations: ${e.includeTechStack}
    - Include Industry Best Practices: ${e.includeBestPractices}
    - Include Edge Case Handling: ${e.includeEdgeCases}
    - Include Code Snippet Example: ${e.includeCodeSnippet}
    - Include Example Usage: ${e.includeExampleUsage}
    - Include Tests: ${e.includeTests}
    - Reasoning Mode: ${e.useThinking?"Deep Thinking / Architectural Analysis":"Standard Enhancement"}
    
    ${d}
    ${e.mode!==Xt.BASIC?r:""}

    Please generate the output now.
  `,f=e.useThinking?"gemini-3-pro-preview":"gemini-2.5-flash",y={systemInstruction:J9};e.useThinking?y.thinkingConfig={thinkingBudget:32768}:y.temperature=.7;try{const m=W9({model:f,contents:c,config:y,timestamp:Date.now()}),v=await OS(async()=>await n.models.generateContentStream({model:m.model,contents:m.contents,config:m.config}));for await(const C of v)C.text&&(yield K9({text:C.text,timestamp:Date.now()}).text,"requestIdleCallback"in window&&requestIdleCallback(()=>{Kt.debug("Chunk received",{length:C.text.length})},{timeout:2e3}))}catch(m){Kt.error(m,{context:"Gemini API",model:f,mode:e.mode,useThinking:e.useThinking});const v=m.status||m.response&&m.response.status;if(v)switch(v){case 400:throw new Ko("Invalid Request (400): The input or configuration is invalid.",400);case 401:throw new Ko("Unauthorized (401): API Key is invalid or expired.",401);case 403:throw new Ko("Forbidden (403): You do not have permission to access this resource.",403);case 404:throw new Ko(`Model Not Found (404): The model '${f}' is not available.`,404);case 429:throw new R8("Too Many Requests (429): Quota exceeded. Please wait a moment.");case 500:throw new Ko("Internal Server Error (500): Google's AI service is having trouble.",500);case 503:throw new Ko("Service Unavailable (503): The model is currently overloaded. Try again later.",503);default:throw new Ko(`API Error (${v}): An unexpected error occurred.`,v)}else if(m.message){if(m.message.toLowerCase().includes("api key"))throw new Error("Configuration Error: API Key is missing or invalid.");if(m.message.toLowerCase().includes("network")||m.message.toLowerCase().includes("fetch"))throw new Error("Network Error: Please check your internet connection.")}throw m}};class j9{constructor(e=50){this.cache=new Map,this.maxSize=e}get(e){if(!this.cache.has(e))return;const n=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,n),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}has(e){return this.cache.has(e)}clear(){this.cache.clear()}size(){return this.cache.size}}const Z9=t=>{let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return e.toString(36)},uh=new j9(50);async function*X9(t,e,n="gemini"){const r=Z9(t+JSON.stringify(e)),o=uh.get(r);if(o){console.log(" Cache hit for prompt"),yield o;return}let s="";const u=Z_.getState().keys[n];if(u&&u.status==="verified"){console.log(`Using user-provided ${n} key`),u.value;try{for await(const d of BC(t,e))s+=d,yield d;uh.set(r,s)}finally{}}else{console.log(`Using default ${n} key`);for await(const d of BC(t,e))s+=d,yield d;uh.set(r,s)}}const Q9=t=>{try{const e=JSON.stringify(t),n=btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(s,l){return String.fromCharCode(parseInt(l,16))})),r=new URL(window.location.href);return r.searchParams.set("share",n),r.toString()}catch(e){return console.error("Failed to generate share link",e),window.location.href}},eU=t=>{try{const e=decodeURIComponent(Array.prototype.map.call(atob(t),function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)}catch(e){return console.error("Failed to parse share param",e),null}},tU=(t,e)=>({component:t,action:e,timestamp:Date.now(),userAgent:navigator.userAgent,url:window.location.href}),nU=t=>t.name==="NetworkError"||t.message.includes("fetch")?"Network connection issue. Please check your internet connection and try again.":t.name==="ValidationError"?t.message:t.message.includes("429")?"Too many requests. Please wait a moment before trying again.":t.message.includes("500")||t.message.includes("503")?"Service temporarily unavailable. Please try again in a few moments.":"An unexpected error occurred. Please try again.",rU=async(t,e={maxAttempts:3,delay:1e3})=>{let n;for(let r=1;r<=e.maxAttempts;r++)try{return await t()}catch(o){if(n=o,r===e.maxAttempts)throw n;const s=e.backoff?e.delay*Math.pow(2,r-1):e.delay;await new Promise(l=>setTimeout(l,s))}throw n},oU=(t,e)=>{const n={message:t.message,name:t.name,stack:t.stack,context:{...e,userId:e.userId?"[REDACTED]":void 0}};console.error("[Error Log]",n)},iU=({error:t,errorId:e,errorInfo:n,resetErrorBoundary:r})=>{const[o,s]=Pn.useState(!1),l=u=>u.message.includes("fetch")?"Network connection issue. Please check your internet connection.":u.message.includes("undefined")?"A component failed to load properly.":"An unexpected error occurred. Your work has been preserved.";return k.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",role:"alert","aria-live":"assertive",children:k.jsxs("div",{className:"max-w-2xl w-full bg-slate-900 border border-slate-800 rounded-2xl p-8 shadow-2xl",children:[k.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[k.jsx("div",{className:"w-12 h-12 bg-red-500/10 rounded-full flex items-center justify-center shrink-0",children:k.jsx(Pk,{className:"w-6 h-6 text-red-500"})}),k.jsxs("div",{className:"flex-1",children:[k.jsx("h1",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),k.jsx("p",{className:"text-slate-400 text-sm",children:l(t)}),e&&k.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Error ID: ",k.jsx("code",{className:"bg-slate-950 px-2 py-0.5 rounded",children:e})]})]})]}),k.jsxs("div",{className:"bg-slate-950 rounded-lg p-4 mb-4 border border-slate-800",children:[k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsx("span",{className:"text-xs font-medium text-slate-400",children:"Error Details"}),k.jsxs("button",{onClick:()=>s(!o),className:"text-xs text-indigo-400 hover:text-indigo-300 transition-colors",children:[o?"Hide":"Show"," Technical Details"]})]}),k.jsx("code",{className:"text-xs font-mono text-red-300 block break-all",children:t.message}),o&&t.stack&&k.jsxs("details",{className:"mt-3",children:[k.jsx("summary",{className:"text-xs text-slate-500 cursor-pointer hover:text-slate-400 mb-2",children:"Stack Trace"}),k.jsx("pre",{className:"text-[10px] font-mono text-slate-400 overflow-auto max-h-48 p-2 bg-slate-900 rounded",children:t.stack})]}),o&&(n==null?void 0:n.componentStack)&&k.jsxs("details",{className:"mt-3",children:[k.jsx("summary",{className:"text-xs text-slate-500 cursor-pointer hover:text-slate-400 mb-2",children:"Component Stack"}),k.jsx("pre",{className:"text-[10px] font-mono text-slate-400 overflow-auto max-h-48 p-2 bg-slate-900 rounded",children:n.componentStack})]})]}),k.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 mb-6",children:k.jsx("p",{className:"text-xs text-blue-300",children:" Your work has been automatically saved and will be restored when you continue."})}),k.jsxs("div",{className:"flex gap-3",children:[k.jsxs("button",{onClick:r,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg transition-colors text-sm font-medium focus-ring","data-testid":"reset-error-boundary",children:[k.jsx(qk,{className:"w-4 h-4"}),"Continue Working"]}),k.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg transition-colors text-sm font-medium focus-ring",children:[k.jsx(nb,{className:"w-4 h-4"}),"Reload Page"]})]})]})})};class sU extends Pn.Component{constructor(){super(...arguments),this.preservedState=null,this.state={hasError:!1,error:null,errorId:null,errorInfo:null},this.preserveUserData=()=>{try{const e={localStorage:{...localStorage},timestamp:Date.now()};this.preservedState=e,sessionStorage.setItem("error_preserved_state",JSON.stringify(e))}catch(e){console.warn("Failed to preserve user data:",e)}},this.resetErrorBoundary=()=>{if(this.preservedState)try{Object.keys(this.preservedState.localStorage).forEach(e=>{localStorage.getItem(e)||localStorage.setItem(e,this.preservedState.localStorage[e])})}catch(e){console.warn("Failed to restore user data:",e)}this.setState({hasError:!1,error:null,errorId:null,errorInfo:null})}}static getDerivedStateFromError(e){const n=`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return{hasError:!0,error:e,errorId:n}}componentDidCatch(e,n){var r,o;this.preserveUserData(),Kt.error(e,{context:"ErrorBoundary",componentStack:n.componentStack,errorId:this.state.errorId,timestamp:new Date().toISOString()}),this.setState({errorInfo:n}),(o=(r=this.props).onError)==null||o.call(r,e,n)}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.resetErrorBoundary):k.jsx(iU,{error:this.state.error,errorId:this.state.errorId,errorInfo:this.state.errorInfo,resetErrorBoundary:this.resetErrorBoundary}):this.props.children}}const ft=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ft=Object.keys,un=Array.isArray;function vn(t,e){return typeof e!="object"||Ft(e).forEach((function(n){t[n]=e[n]})),t}typeof Promise>"u"||ft.Promise||(ft.Promise=Promise);const Xl=Object.getPrototypeOf,aU={}.hasOwnProperty;function Hn(t,e){return aU.call(t,e)}function ua(t,e){typeof e=="function"&&(e=e(Xl(t))),(typeof Reflect>"u"?Ft:Reflect.ownKeys)(e).forEach((n=>{ho(t,n,e[n])}))}const VS=Object.defineProperty;function ho(t,e,n,r){VS(t,e,vn(n&&Hn(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Qs(t){return{from:function(e){return t.prototype=Object.create(e.prototype),ho(t.prototype,"constructor",t),{extend:ua.bind(null,t.prototype)}}}}const lU=Object.getOwnPropertyDescriptor;function Cg(t,e){let n;return lU(t,e)||(n=Xl(t))&&Cg(n,e)}const uU=[].slice;function gf(t,e,n){return uU.call(t,e,n)}function $S(t,e){return e(t)}function yl(t){if(!t)throw new Error("Assertion Failed")}function HS(t){ft.setImmediate?setImmediate(t):setTimeout(t,0)}function zS(t,e){return t.reduce(((n,r,o)=>{var s=e(r,o);return s&&(n[s[0]]=s[1]),n}),{})}function mo(t,e){if(Hn(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,o=e.length;r<o;++r){var s=mo(t,e[r]);n.push(s)}return n}var l=e.indexOf(".");if(l!==-1){var u=t[e.substr(0,l)];return u===void 0?void 0:mo(u,e.substr(l+1))}}function Er(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){yl(typeof n!="string"&&"length"in n);for(var r=0,o=e.length;r<o;++r)Er(t,e[r],n[r])}else{var s=e.indexOf(".");if(s!==-1){var l=e.substr(0,s),u=e.substr(s+1);if(u==="")n===void 0?un(t)&&!isNaN(parseInt(l))?t.splice(l,1):delete t[l]:t[l]=n;else{var d=t[l];d&&Hn(t,l)||(d=t[l]={}),Er(d,u,n)}}else n===void 0?un(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function qS(t){var e={};for(var n in t)Hn(t,n)&&(e[n]=t[n]);return e}const cU=[].concat;function GS(t){return cU.apply([],t)}const WS="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(GS([8,16,32,64].map((t=>["Int","Uint","Float"].map((e=>e+t+"Array")))))).filter((t=>ft[t])),dU=WS.map((t=>ft[t]));zS(WS,(t=>[t,!0]));let jo=null;function hu(t){jo=typeof WeakMap<"u"&&new WeakMap;const e=im(t);return jo=null,e}function im(t){if(!t||typeof t!="object")return t;let e=jo&&jo.get(t);if(e)return e;if(un(t)){e=[],jo&&jo.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(im(t[n]))}else if(dU.indexOf(t.constructor)>=0)e=t;else{const s=Xl(t);for(var o in e=s===Object.prototype?{}:Object.create(s),jo&&jo.set(t,e),t)Hn(t,o)&&(e[o]=im(t[o]))}return e}const{toString:fU}={};function sm(t){return fU.call(t).slice(8,-1)}const am=typeof Symbol<"u"?Symbol.iterator:"@@iterator",pU=typeof am=="symbol"?function(t){var e;return t!=null&&(e=t[am])&&e.apply(t)}:function(){return null},Us={};function ao(t){var e,n,r,o;if(arguments.length===1){if(un(t))return t.slice();if(this===Us&&typeof t=="string")return[t];if(o=pU(t)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const _g=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var Gr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function KS(t,e){Gr=t,YS=e}var YS=()=>!0;const hU=!new Error("").stack;function ss(){if(hU)try{throw ss.arguments,new Error}catch(t){return t}return new Error}function lm(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(YS).map((r=>`
`+r)).join("")):""}var JS=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],wg=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(JS),mU={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ea(t,e){this._e=ss(),this.name=t,this.message=e}function jS(t,e){return t+". Errors: "+Object.keys(e).map((n=>e[n].toString())).filter(((n,r,o)=>o.indexOf(n)===r)).join(`
`)}function yf(t,e,n,r){this._e=ss(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=jS(t,e)}function Al(t,e){this._e=ss(),this.name="BulkError",this.failures=Object.keys(e).map((n=>e[n])),this.failuresByPos=e,this.message=jS(t,e)}Qs(ea).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+lm(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Qs(yf).from(ea),Qs(Al).from(ea);var Tg=wg.reduce(((t,e)=>(t[e]=e+"Error",t)),{});const gU=ea;var Ne=wg.reduce(((t,e)=>{var n=e+"Error";function r(o,s){this._e=ss(),this.name=n,o?typeof o=="string"?(this.message=`${o}${s?`
 `+s:""}`,this.inner=s||null):typeof o=="object"&&(this.message=`${o.name} ${o.message}`,this.inner=o):(this.message=mU[e]||n,this.inner=null)}return Qs(r).from(gU),t[e]=r,t}),{});Ne.Syntax=SyntaxError,Ne.Type=TypeError,Ne.Range=RangeError;var LC=JS.reduce(((t,e)=>(t[e+"Error"]=Ne[e],t)),{}),Qc=wg.reduce(((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=Ne[e]),t)),{});function tt(){}function Ql(t){return t}function yU(t,e){return t==null||t===Ql?e:function(n){return e(t(n))}}function Qi(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function xU(t,e){return t===tt?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Qi(r,this.onsuccess):r),o&&(this.onerror=this.onerror?Qi(o,this.onerror):o),s!==void 0?s:n}}function vU(t,e){return t===tt?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Qi(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Qi(r,this.onerror):r)}}function EU(t,e){return t===tt?e:function(n){var r=t.apply(this,arguments);vn(n,r);var o=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var l=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?Qi(o,this.onsuccess):o),s&&(this.onerror=this.onerror?Qi(s,this.onerror):s),r===void 0?l===void 0?void 0:l:vn(r,l)}}function CU(t,e){return t===tt?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function Sg(t,e){return t===tt?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,o=arguments.length,s=new Array(o);o--;)s[o]=arguments[o];return n.then((function(){return e.apply(r,s)}))}return e.apply(this,arguments)}}Qc.ModifyError=yf,Qc.DexieError=ea,Qc.BulkError=Al;var eu={};const ZS=100,[um,xf,cm]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,Xl(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Xl(e),t]})(),XS=xf&&xf.then,ed=um&&um.constructor,Ag=!!cm;var dm=!1,_U=cm?()=>{cm.then(Fc)}:ft.setImmediate?setImmediate.bind(null,Fc):ft.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver((()=>{Fc(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Fc,0)},kl=function(t,e){xl.push([t,e]),vf&&(_U(),vf=!1)},fm=!0,vf=!0,Wi=[],td=[],pm=null,hm=Ql,ta={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:VC,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((t=>{try{VC(t[0],t[1])}catch{}}))}},be=ta,xl=[],Ki=0,nd=[];function Ee(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=tt,this._lib=!1;var e=this._PSD=be;if(Gr&&(this._stackHolder=ss(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==eu)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&gm(this,this._value))}this._state=null,this._value=null,++e.ref,eA(this,t)}const mm={get:function(){var t=be,e=Ef;function n(r,o){var s=!t.global&&(t!==be||e!==Ef);const l=s&&!_o();var u=new Ee(((d,c)=>{kg(this,new QS(Cf(r,t,s,l),Cf(o,t,s,l),d,c,t))}));return Gr&&rA(u,this),u}return n.prototype=eu,n},set:function(t){ho(this,"then",t&&t.prototype===eu?mm:{get:function(){return t},set:mm.set})}};function QS(t,e,n,r,o){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=o}function eA(t,e){try{e((n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&mu();n&&typeof n.then=="function"?eA(t,((o,s)=>{n instanceof Ee?n._then(o,s):n.then(o,s)})):(t._state=!0,t._value=n,tA(t)),r&&gu()}}),gm.bind(null,t))}catch(n){gm(t,n)}}function gm(t,e){if(td.push(e),t._state===null){var n=t._lib&&mu();e=hm(e),t._state=!1,t._value=e,Gr&&e!==null&&typeof e=="object"&&!e._promise&&(function(r,o,s){try{r.apply(null,s)}catch{}})((()=>{var r=Cg(e,"stack");e._promise=t,ho(e,"stack",{get:()=>dm?r&&(r.get?r.get.apply(e):r.value):t.stack})})),(function(r){Wi.some((o=>o._value===r._value))||Wi.push(r)})(t),tA(t),n&&gu()}}function tA(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)kg(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),Ki===0&&(++Ki,kl((()=>{--Ki==0&&bg()}),[]))}function kg(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Ki,kl(wU,[n,t,e])}else t._listeners.push(e)}function wU(t,e,n){try{pm=e;var r,o=e._value;e._state?r=t(o):(td.length&&(td=[]),r=t(o),td.indexOf(o)===-1&&(function(s){for(var l=Wi.length;l;)if(Wi[--l]._value===s._value)return void Wi.splice(l,1)})(e)),n.resolve(r)}catch(s){n.reject(s)}finally{pm=null,--Ki==0&&bg(),--n.psd.ref||n.psd.finalize()}}function nA(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var o,s,l=t._value;l!=null?(o=l.name||"Error",s=l.message||l,r=lm(l,0)):(o=l,s=""),e.push(o+(s?": "+s:"")+r)}return Gr&&((r=lm(t._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),t._prev&&nA(t._prev,e,n)),e}function rA(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function Fc(){mu()&&gu()}function mu(){var t=fm;return fm=!1,vf=!1,t}function gu(){var t,e,n;do for(;xl.length>0;)for(t=xl,xl=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(xl.length>0);fm=!0,vf=!0}function bg(){var t=Wi;Wi=[],t.forEach((r=>{r._PSD.onunhandled.call(null,r._value,r)}));for(var e=nd.slice(0),n=e.length;n;)e[--n]()}function Bc(t){return new Ee(eu,!1,t)}function gt(t,e){var n=be;return function(){var r=mu(),o=be;try{return di(n,!0),t.apply(this,arguments)}catch(s){e&&e(s)}finally{di(o,!1),r&&gu()}}}ua(Ee.prototype,{then:mm,_then:function(t,e){kg(this,new QS(null,null,t,e,be))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,(r=>r instanceof e?n(r):Bc(r))):this.then(null,(r=>r&&r.name===e?n(r):Bc(r)))},finally:function(t){return this.then((e=>(t(),e)),(e=>(t(),Bc(e))))},stack:{get:function(){if(this._stack)return this._stack;try{dm=!0;var t=nA(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{dm=!1}}},timeout:function(t,e){return t<1/0?new Ee(((n,r)=>{var o=setTimeout((()=>r(new Ne.Timeout(e))),t);this.then(n,r).finally(clearTimeout.bind(null,o))})):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ho(Ee.prototype,Symbol.toStringTag,"Dexie.Promise"),ta.env=oA(),ua(Ee,{all:function(){var t=ao.apply(null,arguments).map(Lc);return new Ee((function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(((o,s)=>Ee.resolve(o).then((l=>{t[s]=l,--r||e(t)}),n)))}))},resolve:t=>{if(t instanceof Ee)return t;if(t&&typeof t.then=="function")return new Ee(((n,r)=>{t.then(n,r)}));var e=new Ee(eu,!0,t);return rA(e,pm),e},reject:Bc,race:function(){var t=ao.apply(null,arguments).map(Lc);return new Ee(((e,n)=>{t.map((r=>Ee.resolve(r).then(e,n)))}))},PSD:{get:()=>be,set:t=>be=t},totalEchoes:{get:()=>Ef},newPSD:ci,usePSD:Ea,scheduler:{get:()=>kl,set:t=>{kl=t}},rejectionMapper:{get:()=>hm,set:t=>{hm=t}},follow:(t,e)=>new Ee(((n,r)=>ci(((o,s)=>{var l=be;l.unhandleds=[],l.onunhandled=s,l.finalize=Qi((function(){(function(u){function d(){u(),nd.splice(nd.indexOf(d),1)}nd.push(d),++Ki,kl((()=>{--Ki==0&&bg()}),[])})((()=>{this.unhandleds.length===0?o():s(this.unhandleds[0])}))}),l.finalize),t()}),e,n,r)))}),ed&&(ed.allSettled&&ho(Ee,"allSettled",(function(){const t=ao.apply(null,arguments).map(Lc);return new Ee((e=>{t.length===0&&e([]);let n=t.length;const r=new Array(n);t.forEach(((o,s)=>Ee.resolve(o).then((l=>r[s]={status:"fulfilled",value:l}),(l=>r[s]={status:"rejected",reason:l})).then((()=>--n||e(r)))))}))})),ed.any&&typeof AggregateError<"u"&&ho(Ee,"any",(function(){const t=ao.apply(null,arguments).map(Lc);return new Ee(((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length;const o=new Array(r);t.forEach(((s,l)=>Ee.resolve(s).then((u=>e(u)),(u=>{o[l]=u,--r||n(new AggregateError(o))}))))}))})));const an={awaits:0,echoes:0,id:0};var TU=0,rd=[],ch=0,Ef=0,SU=0;function ci(t,e,n,r){var o=be,s=Object.create(o);s.parent=o,s.ref=0,s.global=!1,s.id=++SU;var l=ta.env;s.env=Ag?{Promise:Ee,PromiseProp:{value:Ee,configurable:!0,writable:!0},all:Ee.all,race:Ee.race,allSettled:Ee.allSettled,any:Ee.any,resolve:Ee.resolve,reject:Ee.reject,nthen:UC(l.nthen,s),gthen:UC(l.gthen,s)}:{},e&&vn(s,e),++o.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=Ea(s,t,n,r);return s.ref===0&&s.finalize(),u}function va(){return an.id||(an.id=++TU),++an.awaits,an.echoes+=ZS,an.id}function _o(){return!!an.awaits&&(--an.awaits==0&&(an.id=0),an.echoes=an.awaits*ZS,!0)}function Lc(t){return an.echoes&&t&&t.constructor===ed?(va(),t.then((e=>(_o(),e)),(e=>(_o(),Ot(e))))):t}function AU(t){++Ef,an.echoes&&--an.echoes!=0||(an.echoes=an.id=0),rd.push(be),di(t,!0)}function kU(){var t=rd[rd.length-1];rd.pop(),di(t,!1)}function di(t,e){var n=be;if((e?!an.echoes||ch++&&t===be:!ch||--ch&&t===be)||iA(e?AU.bind(null,t):kU),t!==be&&(be=t,n===ta&&(ta.env=oA()),Ag)){var r=ta.env.Promise,o=t.env;xf.then=o.nthen,r.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(ft,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function oA(){var t=ft.Promise;return Ag?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(ft,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:xf.then,gthen:t.prototype.then}:{}}function Ea(t,e,n,r,o){var s=be;try{return di(t,!0),e(n,r,o)}finally{di(s,!1)}}function iA(t){XS.call(um,t)}function Cf(t,e,n,r){return typeof t!="function"?t:function(){var o=be;n&&va(),di(e,!0);try{return t.apply(this,arguments)}finally{di(o,!1),r&&iA(_o)}}}function UC(t,e){return function(n,r){return t.call(this,Cf(n,e),Cf(r,e))}}(""+XS).indexOf("[native code]")===-1&&(va=_o=tt);const OC="unhandledrejection";function VC(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,o={promise:e,reason:t};if(ft.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(OC,!0,!0),vn(r,o)):ft.CustomEvent&&vn(r=new CustomEvent(OC,{detail:o}),o),r&&ft.dispatchEvent&&(dispatchEvent(r),!ft.PromiseRejectionEvent&&ft.onunhandledrejection))try{ft.onunhandledrejection(r)}catch{}Gr&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var Ot=Ee.reject;function ym(t,e,n,r){if(t.idbdb&&(t._state.openComplete||be.letThrough||t._vip)){var o=t._createTransaction(e,n,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(s){return s.name===Tg.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>ym(t,e,n,r)))):Ot(s)}return o._promise(e,((s,l)=>ci((()=>(be.trans=o,r(s,l,o)))))).then((s=>o._completion.then((()=>s))))}if(t._state.openComplete)return Ot(new Ne.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Ot(new Ne.DatabaseClosed);t.open().catch(tt)}return t._state.dbReadyPromise.then((()=>ym(t,e,n,r)))}const $C="3.2.4",Hi="",xm=-1/0,ro="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",sA="String expected.",bl=[],Yf=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),bU=Yf,PU=Yf,aA=t=>!/(dexie\.js|dexie\.min\.js)/.test(t),Jf="__dbnames",dh="readonly",fh="readwrite";function es(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const lA={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Uc(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=hu(e))[t],e)}class IU{_trans(e,n,r){const o=this._tx||be.trans,s=this.name;function l(d,c,f){if(!f.schema[s])throw new Ne.NotFound("Table "+s+" not part of transaction");return n(f.idbtrans,f)}const u=mu();try{return o&&o.db===this.db?o===be.trans?o._promise(e,l,r):ci((()=>o._promise(e,l,r)),{trans:o,transless:be.transless||be}):ym(this.db,e,[this.name],l)}finally{u&&gu()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",(r=>this.core.get({trans:r,key:e}).then((o=>this.hook.reading.fire(o))))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(un(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=Ft(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter((c=>c.compound&&n.every((f=>c.keyPath.indexOf(f)>=0))&&c.keyPath.every((f=>n.indexOf(f)>=0))))[0];if(r&&this.db._maxKey!==Hi)return this.where(r.name).equals(r.keyPath.map((c=>e[c])));!r&&Gr&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:o}=this.schema,s=this.db._deps.indexedDB;function l(c,f){try{return s.cmp(c,f)===0}catch{return!1}}const[u,d]=n.reduce((([c,f],y)=>{const m=o[y],v=e[y];return[c||m,c||!m?es(f,m&&m.multi?C=>{const _=mo(C,y);return un(_)&&_.some((S=>l(v,S)))}:C=>l(v,mo(C,y))):f]}),[null,null]);return u?this.where(u.name).equals(e[u.keyPath]).filter(d):r?this.filter(d):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,un(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const o=Object.create(e.prototype);for(var s in r)if(Hn(r,s))try{o[s]=r[s]}catch{}return o};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass((function(e){vn(this,e)}))}add(e,n){const{auto:r,keyPath:o}=this.schema.primKey;let s=e;return o&&r&&(s=Uc(o)(e)),this._trans("readwrite",(l=>this.core.mutate({trans:l,type:"add",keys:n!=null?[n]:null,values:[s]}))).then((l=>l.numFailures?Ee.reject(l.failures[0]):l.lastResult)).then((l=>{if(o)try{Er(e,o,l)}catch{}return l}))}update(e,n){if(typeof e!="object"||un(e))return this.where(":id").equals(e).modify(n);{const r=mo(e,this.schema.primKey.keyPath);if(r===void 0)return Ot(new Ne.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?Ft(n).forEach((o=>{Er(e,o,n[o])})):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:o}=this.schema.primKey;let s=e;return o&&r&&(s=Uc(o)(e)),this._trans("readwrite",(l=>this.core.mutate({trans:l,type:"put",values:[s],keys:n!=null?[n]:null}))).then((l=>l.numFailures?Ee.reject(l.failures[0]):l.lastResult)).then((l=>{if(o)try{Er(e,o,l)}catch{}return l}))}delete(e){return this._trans("readwrite",(n=>this.core.mutate({trans:n,type:"delete",keys:[e]}))).then((n=>n.numFailures?Ee.reject(n.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:lA}))).then((e=>e.numFailures?Ee.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(n=>this.core.getMany({keys:e,trans:n}).then((r=>r.map((o=>this.hook.reading.fire(o)))))))}bulkAdd(e,n,r){const o=Array.isArray(n)?n:void 0,s=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",(l=>{const{auto:u,keyPath:d}=this.schema.primKey;if(d&&o)throw new Ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Ne.InvalidArgument("Arguments objects and keys must have the same length");const c=e.length;let f=d&&u?e.map(Uc(d)):e;return this.core.mutate({trans:l,type:"add",keys:o,values:f,wantResults:s}).then((({numFailures:y,results:m,lastResult:v,failures:C})=>{if(y===0)return s?m:v;throw new Al(`${this.name}.bulkAdd(): ${y} of ${c} operations failed`,C)}))}))}bulkPut(e,n,r){const o=Array.isArray(n)?n:void 0,s=(r=r||(o?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",(l=>{const{auto:u,keyPath:d}=this.schema.primKey;if(d&&o)throw new Ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Ne.InvalidArgument("Arguments objects and keys must have the same length");const c=e.length;let f=d&&u?e.map(Uc(d)):e;return this.core.mutate({trans:l,type:"put",keys:o,values:f,wantResults:s}).then((({numFailures:y,results:m,lastResult:v,failures:C})=>{if(y===0)return s?m:v;throw new Al(`${this.name}.bulkPut(): ${y} of ${c} operations failed`,C)}))}))}bulkDelete(e){const n=e.length;return this._trans("readwrite",(r=>this.core.mutate({trans:r,type:"delete",keys:e}))).then((({numFailures:r,lastResult:o,failures:s})=>{if(r===0)return o;throw new Al(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,s)}))}}function Pl(t){var e={},n=function(l,u){if(u){for(var d=arguments.length,c=new Array(d-1);--d;)c[d-1]=arguments[d];return e[l].subscribe.apply(null,c),t}if(typeof l=="string")return e[l]};n.addEventType=s;for(var r=1,o=arguments.length;r<o;++r)s(arguments[r]);return n;function s(l,u,d){if(typeof l!="object"){var c;u||(u=CU),d||(d=tt);var f={subscribers:[],fire:d,subscribe:function(y){f.subscribers.indexOf(y)===-1&&(f.subscribers.push(y),f.fire=u(f.fire,y))},unsubscribe:function(y){f.subscribers=f.subscribers.filter((function(m){return m!==y})),f.fire=f.subscribers.reduce(u,d)}};return e[l]=n[l]=f,f}Ft(c=l).forEach((function(y){var m=c[y];if(un(m))s(y,c[y][0],c[y][1]);else{if(m!=="asap")throw new Ne.InvalidArgument("Invalid event config");var v=s(y,Ql,(function(){for(var C=arguments.length,_=new Array(C);C--;)_[C]=arguments[C];v.subscribers.forEach((function(S){HS((function(){S.apply(null,_)}))}))}))}}))}}function pl(t,e){return Qs(e).from({prototype:t}),e}function Ms(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function ph(t,e){t.filter=es(t.filter,e)}function hh(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>es(r(),e()):e,t.justLimit=n&&!r}function od(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new Ne.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function HC(t,e,n){const r=od(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function Oc(t,e,n,r){const o=t.replayFilter?es(t.filter,t.replayFilter()):t.filter;if(t.or){const s={},l=(u,d,c)=>{if(!o||o(d,c,(m=>d.stop(m)),(m=>d.fail(m)))){var f=d.primaryKey,y=""+f;y==="[object ArrayBuffer]"&&(y=""+new Uint8Array(f)),Hn(s,y)||(s[y]=!0,e(u,d,c))}};return Promise.all([t.or._iterate(l,n),zC(HC(t,r,n),t.algorithm,l,!t.keysOnly&&t.valueMapper)])}return zC(HC(t,r,n),es(t.algorithm,o),e,!t.keysOnly&&t.valueMapper)}function zC(t,e,n,r){var o=gt(r?(s,l,u)=>n(r(s),l,u):n);return t.then((s=>{if(s)return s.start((()=>{var l=()=>s.continue();e&&!e(s,(u=>l=u),(u=>{s.stop(u),l=tt}),(u=>{s.fail(u),l=tt}))||o(s.value,s,(u=>l=u)),l()}))}))}function mn(t,e){try{const n=qC(t),r=qC(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return(function(o,s){const l=o.length,u=s.length,d=l<u?l:u;for(let c=0;c<d;++c)if(o[c]!==s[c])return o[c]<s[c]?-1:1;return l===u?0:l<u?-1:1})(GC(t),GC(e));case"Array":return(function(o,s){const l=o.length,u=s.length,d=l<u?l:u;for(let c=0;c<d;++c){const f=mn(o[c],s[c]);if(f!==0)return f}return l===u?0:l<u?-1:1})(t,e)}}catch{}return NaN}function qC(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=sm(t);return n==="ArrayBuffer"?"binary":n}function GC(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class DU{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,Ot.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,Ot.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=es(n.algorithm,e)}_iterate(e,n){return Oc(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&vn(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read((r=>Oc(n,e,r,n.table.core)))}count(e){return this._read((n=>{const r=this._ctx,o=r.table.core;if(Ms(r,!0))return o.count({trans:n,query:{index:od(r,o.schema),range:r.range}}).then((l=>Math.min(l,r.limit)));var s=0;return Oc(r,(()=>(++s,!1)),n,o).then((()=>s))})).then(e)}sortBy(e,n){const r=e.split(".").reverse(),o=r[0],s=r.length-1;function l(c,f){return f?l(c[r[f]],f-1):c[o]}var u=this._ctx.dir==="next"?1:-1;function d(c,f){var y=l(c,s),m=l(f,s);return y<m?-u:y>m?u:0}return this.toArray((function(c){return c.sort(d)})).then(n)}toArray(e){return this._read((n=>{var r=this._ctx;if(r.dir==="next"&&Ms(r,!0)&&r.limit>0){const{valueMapper:o}=r,s=od(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:s,range:r.range}}).then((({result:l})=>o?l.map(o):l))}{const o=[];return Oc(r,(s=>o.push(s)),n,r.table.core).then((()=>o))}}),e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,Ms(n)?hh(n,(()=>{var r=e;return(o,s)=>r===0||(r===1?(--r,!1):(s((()=>{o.advance(r),r=0})),!1))})):hh(n,(()=>{var r=e;return()=>--r<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),hh(this._ctx,(()=>{var n=e;return function(r,o,s){return--n<=0&&o(s),n>=0}}),!0),this}until(e,n){return ph(this._ctx,(function(r,o,s){return!e(r.value)||(o(s),n)})),this}first(e){return this.limit(1).toArray((function(n){return n[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,r;return ph(this._ctx,(function(o){return e(o.value)})),n=this._ctx,r=e,n.isMatch=es(n.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each((function(r,o){e(o.key,o)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each((function(r,o){e(o.primaryKey,o)}))}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each((function(o,s){r.push(s.key)})).then((function(){return r})).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&Ms(n,!0)&&n.limit>0)return this._read((o=>{var s=od(n,n.table.core.schema);return n.table.core.query({trans:o,values:!1,limit:n.limit,query:{index:s,range:n.range}})})).then((({result:o})=>o)).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each((function(o,s){r.push(s.primaryKey)})).then((function(){return r})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(n){return n[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return ph(this._ctx,(function(o){var s=o.primaryKey.toString(),l=Hn(r,s);return r[s]=!0,!l})),this}modify(e){var n=this._ctx;return this._write((r=>{var o;if(typeof e=="function")o=e;else{var s=Ft(e),l=s.length;o=function(_){for(var S=!1,P=0;P<l;++P){var w=s[P],A=e[w];mo(_,w)!==A&&(Er(_,w,A),S=!0)}return S}}const u=n.table.core,{outbound:d,extractKey:c}=u.schema.primaryKey,f=this.db._options.modifyChunkSize||200,y=[];let m=0;const v=[],C=(_,S)=>{const{failures:P,numFailures:w}=S;m+=_-w;for(let A of Ft(P))y.push(P[A])};return this.clone().primaryKeys().then((_=>{const S=P=>{const w=Math.min(f,_.length-P);return u.getMany({trans:r,keys:_.slice(P,P+w),cache:"immutable"}).then((A=>{const b=[],D=[],R=d?[]:null,N=[];for(let L=0;L<w;++L){const U=A[L],V={value:hu(U),primKey:_[P+L]};o.call(V,V.value,V)!==!1&&(V.value==null?N.push(_[P+L]):d||mn(c(U),c(V.value))===0?(D.push(V.value),d&&R.push(_[P+L])):(N.push(_[P+L]),b.push(V.value)))}const B=Ms(n)&&n.limit===1/0&&(typeof e!="function"||e===mh)&&{index:n.index,range:n.range};return Promise.resolve(b.length>0&&u.mutate({trans:r,type:"add",values:b}).then((L=>{for(let U in L.failures)N.splice(parseInt(U),1);C(b.length,L)}))).then((()=>(D.length>0||B&&typeof e=="object")&&u.mutate({trans:r,type:"put",keys:R,values:D,criteria:B,changeSpec:typeof e!="function"&&e}).then((L=>C(D.length,L))))).then((()=>(N.length>0||B&&e===mh)&&u.mutate({trans:r,type:"delete",keys:N,criteria:B}).then((L=>C(N.length,L))))).then((()=>_.length>P+w&&S(P+f)))}))};return S(0).then((()=>{if(y.length>0)throw new yf("Error modifying one or more objects",y,m,v);return _.length}))}))}))}delete(){var e=this._ctx,n=e.range;return Ms(e)&&(e.isPrimKey&&!PU||n.type===3)?this._write((r=>{const{primaryKey:o}=e.table.core.schema,s=n;return e.table.core.count({trans:r,query:{index:o,range:s}}).then((l=>e.table.core.mutate({trans:r,type:"deleteRange",range:s}).then((({failures:u,lastResult:d,results:c,numFailures:f})=>{if(f)throw new yf("Could not delete some values",Object.keys(u).map((y=>u[y])),l-f);return l-f}))))})):this.modify(mh)}}const mh=(t,e)=>e.value=null;function RU(t,e){return t<e?-1:t===e?0:1}function NU(t,e){return t>e?-1:t===e?0:1}function Un(t,e,n){var r=t instanceof cA?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Fs(t){return new t.Collection(t,(()=>uA(""))).limit(0)}function MU(t,e,n,r,o,s){for(var l=Math.min(t.length,r.length),u=-1,d=0;d<l;++d){var c=e[d];if(c!==r[d])return o(t[d],n[d])<0?t.substr(0,d)+n[d]+n.substr(d+1):o(t[d],r[d])<0?t.substr(0,d)+r[d]+n.substr(d+1):u>=0?t.substr(0,u)+e[u]+n.substr(u+1):null;o(t[d],c)<0&&(u=d)}return l<r.length&&s==="next"?t+n.substr(t.length):l<t.length&&s==="prev"?t.substr(0,n.length):u<0?null:t.substr(0,u)+r[u]+n.substr(u+1)}function Vc(t,e,n,r){var o,s,l,u,d,c,f,y=n.length;if(!n.every((_=>typeof _=="string")))return Un(t,sA);function m(_){o=(function(P){return P==="next"?w=>w.toUpperCase():w=>w.toLowerCase()})(_),s=(function(P){return P==="next"?w=>w.toLowerCase():w=>w.toUpperCase()})(_),l=_==="next"?RU:NU;var S=n.map((function(P){return{lower:s(P),upper:o(P)}})).sort((function(P,w){return l(P.lower,w.lower)}));u=S.map((function(P){return P.upper})),d=S.map((function(P){return P.lower})),c=_,f=_==="next"?"":r}m("next");var v=new t.Collection(t,(()=>Yo(u[0],d[y-1]+r)));v._ondirectionchange=function(_){m(_)};var C=0;return v._addAlgorithm((function(_,S,P){var w=_.key;if(typeof w!="string")return!1;var A=s(w);if(e(A,d,C))return!0;for(var b=null,D=C;D<y;++D){var R=MU(w,A,u[D],d[D],l,c);R===null&&b===null?C=D+1:(b===null||l(b,R)>0)&&(b=R)}return S(b!==null?function(){_.continue(b+f)}:P),!1})),v}function Yo(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function uA(t){return{type:1,lower:t,upper:t}}class cA{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,o){r=r!==!1,o=o===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||o)&&(!r||!o)?Fs(this):new this.Collection(this,(()=>Yo(e,n,!r,!o)))}catch{return Un(this,ro)}}equals(e){return e==null?Un(this,ro):new this.Collection(this,(()=>uA(e)))}above(e){return e==null?Un(this,ro):new this.Collection(this,(()=>Yo(e,void 0,!0)))}aboveOrEqual(e){return e==null?Un(this,ro):new this.Collection(this,(()=>Yo(e,void 0,!1)))}below(e){return e==null?Un(this,ro):new this.Collection(this,(()=>Yo(void 0,e,!1,!0)))}belowOrEqual(e){return e==null?Un(this,ro):new this.Collection(this,(()=>Yo(void 0,e)))}startsWith(e){return typeof e!="string"?Un(this,sA):this.between(e,e+Hi,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):Vc(this,((n,r)=>n.indexOf(r[0])===0),[e],Hi)}equalsIgnoreCase(e){return Vc(this,((n,r)=>n===r[0]),[e],"")}anyOfIgnoreCase(){var e=ao.apply(Us,arguments);return e.length===0?Fs(this):Vc(this,((n,r)=>r.indexOf(n)!==-1),e,"")}startsWithAnyOfIgnoreCase(){var e=ao.apply(Us,arguments);return e.length===0?Fs(this):Vc(this,((n,r)=>r.some((o=>n.indexOf(o)===0))),e,Hi)}anyOf(){const e=ao.apply(Us,arguments);let n=this._cmp;try{e.sort(n)}catch{return Un(this,ro)}if(e.length===0)return Fs(this);const r=new this.Collection(this,(()=>Yo(e[0],e[e.length-1])));r._ondirectionchange=s=>{n=s==="next"?this._ascending:this._descending,e.sort(n)};let o=0;return r._addAlgorithm(((s,l,u)=>{const d=s.key;for(;n(d,e[o])>0;)if(++o,o===e.length)return l(u),!1;return n(d,e[o])===0||(l((()=>{s.continue(e[o])})),!1)})),r}notEqual(e){return this.inAnyRange([[xm,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=ao.apply(Us,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return Un(this,ro)}const n=e.reduce(((r,o)=>r?r.concat([[r[r.length-1][1],o]]):[[xm,o]]),null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,o=this._ascending,s=this._descending,l=this._min,u=this._max;if(e.length===0)return Fs(this);if(!e.every((w=>w[0]!==void 0&&w[1]!==void 0&&o(w[0],w[1])<=0)))return Un(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ne.InvalidArgument);const d=!n||n.includeLowers!==!1,c=n&&n.includeUppers===!0;let f,y=o;function m(w,A){return y(w[0],A[0])}try{f=e.reduce((function(w,A){let b=0,D=w.length;for(;b<D;++b){const R=w[b];if(r(A[0],R[1])<0&&r(A[1],R[0])>0){R[0]=l(R[0],A[0]),R[1]=u(R[1],A[1]);break}}return b===D&&w.push(A),w}),[]),f.sort(m)}catch{return Un(this,ro)}let v=0;const C=c?w=>o(w,f[v][1])>0:w=>o(w,f[v][1])>=0,_=d?w=>s(w,f[v][0])>0:w=>s(w,f[v][0])>=0;let S=C;const P=new this.Collection(this,(()=>Yo(f[0][0],f[f.length-1][1],!d,!c)));return P._ondirectionchange=w=>{w==="next"?(S=C,y=o):(S=_,y=s),f.sort(m)},P._addAlgorithm(((w,A,b)=>{for(var D=w.key;S(D);)if(++v,v===f.length)return A(b),!1;return!!(function(R){return!C(R)&&!_(R)})(D)||(this._cmp(D,f[v][1])===0||this._cmp(D,f[v][0])===0||A((()=>{y===o?w.continue(f[v][0]):w.continue(f[v][1])})),!1)})),P}startsWithAnyOf(){const e=ao.apply(Us,arguments);return e.every((n=>typeof n=="string"))?e.length===0?Fs(this):this.inAnyRange(e.map((n=>[n,n+Hi]))):Un(this,"startsWithAnyOf() only works with strings")}}function Br(t){return gt((function(e){return tu(e),t(e.target.error),!1}))}function tu(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const nu="storagemutated",Qo="x-storagemutated-1",fi=Pl(null,nu);class FU{_lock(){return yl(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this}_unlock(){if(yl(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Ea(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&be.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(yl(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Ne.DatabaseClosed(r);case"MissingAPIError":throw new Ne.MissingAPI(r.message,r);default:throw new Ne.OpenFailed(r)}if(!this.active)throw new Ne.TransactionInactive;return yl(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=gt((o=>{tu(o),this._reject(e.error)})),e.onabort=gt((o=>{tu(o),this.active&&this._reject(new Ne.Abort(e.error)),this.active=!1,this.on("abort").fire(o)})),e.oncomplete=gt((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&fi.storagemutated.fire(e.mutatedParts)})),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return Ot(new Ne.ReadOnly("Transaction is readonly"));if(!this.active)return Ot(new Ne.TransactionInactive);if(this._locked())return new Ee(((s,l)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(s,l)},be])}));if(r)return ci((()=>{var s=new Ee(((l,u)=>{this._lock();const d=n(l,u,this);d&&d.then&&d.then(l,u)}));return s.finally((()=>this._unlock())),s._lib=!0,s}));var o=new Ee(((s,l)=>{var u=n(s,l,this);u&&u.then&&u.then(s,l)}));return o._lib=!0,o}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=Ee.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then((()=>r));else{n._waitingFor=r,n._waitingQueue=[];var o=n.idbtrans.objectStore(n.storeNames[0]);(function l(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(o.get(-1/0).onsuccess=l)})()}var s=n._waitingFor;return new Ee(((l,u)=>{r.then((d=>n._waitingQueue.push(gt(l.bind(null,d)))),(d=>n._waitingQueue.push(gt(u.bind(null,d))))).finally((()=>{n._waitingFor===s&&(n._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ne.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(Hn(n,e))return n[e];const r=this.schema[e];if(!r)throw new Ne.NotFound("Table "+e+" not part of transaction");const o=new this.db.Table(e,r,this);return o.core=this.db.core.table(e),n[e]=o,o}}function vm(t,e,n,r,o,s,l){return{name:t,keyPath:e,unique:n,multi:r,auto:o,compound:s,src:(n&&!l?"&":"")+(r?"*":"")+(o?"++":"")+dA(e)}}function dA(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function fA(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:zS(n,(r=>[r.name,r]))}}let ru=t=>{try{return t.only([[]]),ru=()=>[[]],[[]]}catch{return ru=()=>Hi,Hi}};function Em(t){return t==null?()=>{}:typeof t=="string"?(function(e){return e.split(".").length===1?r=>r[e]:r=>mo(r,e)})(t):e=>mo(e,t)}function WC(t){return[].slice.call(t)}let BU=0;function Il(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function LU(t,e,n){function r(d){if(d.type===3)return null;if(d.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:c,upper:f,lowerOpen:y,upperOpen:m}=d;return c===void 0?f===void 0?null:e.upperBound(f,!!m):f===void 0?e.lowerBound(c,!!y):e.bound(c,f,!!y,!!m)}const{schema:o,hasGetAll:s}=(function(d,c){const f=WC(d.objectStoreNames);return{schema:{name:d.name,tables:f.map((y=>c.objectStore(y))).map((y=>{const{keyPath:m,autoIncrement:v}=y,C=un(m),_=m==null,S={},P={name:y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_,compound:C,keyPath:m,autoIncrement:v,unique:!0,extractKey:Em(m)},indexes:WC(y.indexNames).map((w=>y.index(w))).map((w=>{const{name:A,unique:b,multiEntry:D,keyPath:R}=w,N={name:A,compound:un(R),keyPath:R,unique:b,multiEntry:D,extractKey:Em(R)};return S[Il(R)]=N,N})),getIndexByKeyPath:w=>S[Il(w)]};return S[":id"]=P.primaryKey,m!=null&&(S[Il(m)]=P.primaryKey),P}))},hasGetAll:f.length>0&&"getAll"in c.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}})(t,n),l=o.tables.map((d=>(function(c){const f=c.name;return{name:f,schema:c,mutate:function({trans:y,type:m,keys:v,values:C,range:_}){return new Promise(((S,P)=>{S=gt(S);const w=y.objectStore(f),A=w.keyPath==null,b=m==="put"||m==="add";if(!b&&m!=="delete"&&m!=="deleteRange")throw new Error("Invalid operation type: "+m);const{length:D}=v||C||{length:1};if(v&&C&&v.length!==C.length)throw new Error("Given keys array must have same length as given values array.");if(D===0)return S({numFailures:0,failures:{},results:[],lastResult:void 0});let R;const N=[],B=[];let L=0;const U=G=>{++L,tu(G)};if(m==="deleteRange"){if(_.type===4)return S({numFailures:L,failures:B,results:[],lastResult:void 0});_.type===3?N.push(R=w.clear()):N.push(R=w.delete(r(_)))}else{const[G,W]=b?A?[C,v]:[C,null]:[v,null];if(b)for(let X=0;X<D;++X)N.push(R=W&&W[X]!==void 0?w[m](G[X],W[X]):w[m](G[X])),R.onerror=U;else for(let X=0;X<D;++X)N.push(R=w[m](G[X])),R.onerror=U}const V=G=>{const W=G.target.result;N.forEach(((X,te)=>X.error!=null&&(B[te]=X.error))),S({numFailures:L,failures:B,results:m==="delete"?v:N.map((X=>X.result)),lastResult:W})};R.onerror=G=>{U(G),V(G)},R.onsuccess=V}))},getMany:({trans:y,keys:m})=>new Promise(((v,C)=>{v=gt(v);const _=y.objectStore(f),S=m.length,P=new Array(S);let w,A=0,b=0;const D=N=>{const B=N.target;P[B._pos]=B.result,++b===A&&v(P)},R=Br(C);for(let N=0;N<S;++N)m[N]!=null&&(w=_.get(m[N]),w._pos=N,w.onsuccess=D,w.onerror=R,++A);A===0&&v(P)})),get:({trans:y,key:m})=>new Promise(((v,C)=>{v=gt(v);const _=y.objectStore(f).get(m);_.onsuccess=S=>v(S.target.result),_.onerror=Br(C)})),query:(function(y){return m=>new Promise(((v,C)=>{v=gt(v);const{trans:_,values:S,limit:P,query:w}=m,A=P===1/0?void 0:P,{index:b,range:D}=w,R=_.objectStore(f),N=b.isPrimaryKey?R:R.index(b.name),B=r(D);if(P===0)return v({result:[]});if(y){const L=S?N.getAll(B,A):N.getAllKeys(B,A);L.onsuccess=U=>v({result:U.target.result}),L.onerror=Br(C)}else{let L=0;const U=S||!("openKeyCursor"in N)?N.openCursor(B):N.openKeyCursor(B),V=[];U.onsuccess=G=>{const W=U.result;return W?(V.push(S?W.value:W.primaryKey),++L===P?v({result:V}):void W.continue()):v({result:V})},U.onerror=Br(C)}}))})(s),openCursor:function({trans:y,values:m,query:v,reverse:C,unique:_}){return new Promise(((S,P)=>{S=gt(S);const{index:w,range:A}=v,b=y.objectStore(f),D=w.isPrimaryKey?b:b.index(w.name),R=C?_?"prevunique":"prev":_?"nextunique":"next",N=m||!("openKeyCursor"in D)?D.openCursor(r(A),R):D.openKeyCursor(r(A),R);N.onerror=Br(P),N.onsuccess=gt((B=>{const L=N.result;if(!L)return void S(null);L.___id=++BU,L.done=!1;const U=L.continue.bind(L);let V=L.continuePrimaryKey;V&&(V=V.bind(L));const G=L.advance.bind(L),W=()=>{throw new Error("Cursor not stopped")};L.trans=y,L.stop=L.continue=L.continuePrimaryKey=L.advance=()=>{throw new Error("Cursor not started")},L.fail=gt(P),L.next=function(){let X=1;return this.start((()=>X--?this.continue():this.stop())).then((()=>this))},L.start=X=>{const te=new Promise(((ae,j)=>{ae=gt(ae),N.onerror=Br(j),L.fail=j,L.stop=re=>{L.stop=L.continue=L.continuePrimaryKey=L.advance=W,ae(re)}})),ne=()=>{if(N.result)try{X()}catch(ae){L.fail(ae)}else L.done=!0,L.start=()=>{throw new Error("Cursor behind last entry")},L.stop()};return N.onsuccess=gt((ae=>{N.onsuccess=ne,ne()})),L.continue=U,L.continuePrimaryKey=V,L.advance=G,ne(),te},S(L)}),P)}))},count({query:y,trans:m}){const{index:v,range:C}=y;return new Promise(((_,S)=>{const P=m.objectStore(f),w=v.isPrimaryKey?P:P.index(v.name),A=r(C),b=A?w.count(A):w.count();b.onsuccess=gt((D=>_(D.target.result))),b.onerror=Br(S)}))}}})(d))),u={};return l.forEach((d=>u[d.name]=d)),{stack:"dbcore",transaction:t.transaction.bind(t),table(d){if(!u[d])throw new Error(`Table '${d}' not found`);return u[d]},MIN_KEY:-1/0,MAX_KEY:ru(e),schema:o}}function Cm({_novip:t},e){const n=e.db,r=(function(o,s,{IDBKeyRange:l,indexedDB:u},d){return{dbcore:(function(f,y){return y.reduce(((m,{create:v})=>({...m,...v(m)})),f)})(LU(s,l,d),o.dbcore)}})(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach((o=>{const s=o.name;t.core.schema.tables.some((l=>l.name===s))&&(o.core=t.core.table(s),t[s]instanceof t.Table&&(t[s].core=o.core))}))}function _f({_novip:t},e,n,r){n.forEach((o=>{const s=r[o];e.forEach((l=>{const u=Cg(l,o);(!u||"value"in u&&u.value===void 0)&&(l===t.Transaction.prototype||l instanceof t.Transaction?ho(l,o,{get(){return this.table(o)},set(d){VS(this,o,{value:d,writable:!0,configurable:!0,enumerable:!0})}}):l[o]=new t.Table(o,s))}))}))}function _m({_novip:t},e){e.forEach((n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]}))}function UU(t,e){return t._cfg.version-e._cfg.version}function OU(t,e,n,r){const o=t._dbSchema,s=t._createTransaction("readwrite",t._storeNames,o);s.create(n),s._completion.catch(r);const l=s._reject.bind(s),u=be.transless||be;ci((()=>{be.trans=s,be.transless=u,e===0?(Ft(o).forEach((d=>{gh(n,d,o[d].primKey,o[d].indexes)})),Cm(t,n),Ee.follow((()=>t.on.populate.fire(s))).catch(l)):(function({_novip:d},c,f,y){const m=[],v=d._versions;let C=d._dbSchema=Tm(d,d.idbdb,y),_=!1;const S=v.filter((w=>w._cfg.version>=c));function P(){return m.length?Ee.resolve(m.shift()(f.idbtrans)).then(P):Ee.resolve()}return S.forEach((w=>{m.push((()=>{const A=C,b=w._cfg.dbschema;Sm(d,A,y),Sm(d,b,y),C=d._dbSchema=b;const D=pA(A,b);D.add.forEach((N=>{gh(y,N[0],N[1].primKey,N[1].indexes)})),D.change.forEach((N=>{if(N.recreate)throw new Ne.Upgrade("Not yet support for changing primary key");{const B=y.objectStore(N.name);N.add.forEach((L=>wm(B,L))),N.change.forEach((L=>{B.deleteIndex(L.name),wm(B,L)})),N.del.forEach((L=>B.deleteIndex(L)))}}));const R=w._cfg.contentUpgrade;if(R&&w._cfg.version>c){Cm(d,y),f._memoizedTables={},_=!0;let N=qS(b);D.del.forEach((V=>{N[V]=A[V]})),_m(d,[d.Transaction.prototype]),_f(d,[d.Transaction.prototype],Ft(N),N),f.schema=N;const B=_g(R);let L;B&&va();const U=Ee.follow((()=>{if(L=R(f),L&&B){var V=_o.bind(null,null);L.then(V,V)}}));return L&&typeof L.then=="function"?Ee.resolve(L):U.then((()=>L))}})),m.push((A=>{(!_||!bU)&&(function(b,D){[].slice.call(D.db.objectStoreNames).forEach((R=>b[R]==null&&D.db.deleteObjectStore(R)))})(w._cfg.dbschema,A),_m(d,[d.Transaction.prototype]),_f(d,[d.Transaction.prototype],d._storeNames,d._dbSchema),f.schema=d._dbSchema}))})),P().then((()=>{var w,A;A=y,Ft(w=C).forEach((b=>{A.db.objectStoreNames.contains(b)||gh(A,b,w[b].primKey,w[b].indexes)}))}))})(t,e,s,n).catch(l)}))}function pA(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const o=t[r],s=e[r];if(o){const l={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(s.primKey.keyPath||"")||o.primKey.auto!==s.primKey.auto&&!Yf)l.recreate=!0,n.change.push(l);else{const u=o.idxByName,d=s.idxByName;let c;for(c in u)d[c]||l.del.push(c);for(c in d){const f=u[c],y=d[c];f?f.src!==y.src&&l.change.push(y):l.add.push(y)}(l.del.length>0||l.add.length>0||l.change.length>0)&&n.change.push(l)}}else n.add.push([r,s])}return n}function gh(t,e,n,r){const o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((s=>wm(o,s))),o}function wm(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Tm(t,e,n){const r={};return gf(e.objectStoreNames,0).forEach((o=>{const s=n.objectStore(o);let l=s.keyPath;const u=vm(dA(l),l||"",!1,!1,!!s.autoIncrement,l&&typeof l!="string",!0),d=[];for(let f=0;f<s.indexNames.length;++f){const y=s.index(s.indexNames[f]);l=y.keyPath;var c=vm(y.name,l,!!y.unique,!!y.multiEntry,!1,l&&typeof l!="string",!1);d.push(c)}r[o]=fA(o,u,d)})),r}function Sm({_novip:t},e,n){const r=n.db.objectStoreNames;for(let o=0;o<r.length;++o){const s=r[o],l=n.objectStore(s);t._hasGetAll="getAll"in l;for(let u=0;u<l.indexNames.length;++u){const d=l.indexNames[u],c=l.index(d).keyPath,f=typeof c=="string"?c:"["+gf(c).join("+")+"]";if(e[s]){const y=e[s].idxByName[f];y&&(y.name=d,delete e[s].idxByName[f],e[s].idxByName[d]=y)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ft.WorkerGlobalScope&&ft instanceof ft.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class VU{_parseStoresSpec(e,n){Ft(e).forEach((r=>{if(e[r]!==null){var o=e[r].split(",").map(((l,u)=>{const d=(l=l.trim()).replace(/([&*]|\+\+)/g,""),c=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return vm(d,c||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),un(c),u===0)})),s=o.shift();if(s.multi)throw new Ne.Schema("Primary key cannot be multi-valued");o.forEach((l=>{if(l.auto)throw new Ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!l.keyPath)throw new Ne.Schema("Index must have a name and cannot be an empty string")})),n[r]=fA(r,s,o)}}))}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?vn(this._cfg.storesSource,e):e;const r=n._versions,o={};let s={};return r.forEach((l=>{vn(o,l._cfg.storesSource),s=l._cfg.dbschema={},l._parseStoresSpec(o,s)})),n._dbSchema=s,_m(n,[n._allTables,n,n.Transaction.prototype]),_f(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],Ft(s),s),n._storeNames=Ft(s),this}upgrade(e){return this._cfg.contentUpgrade=Sg(this._cfg.contentUpgrade||tt,e),this}}function Pg(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new Yi(Jf,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Ig(t){return t&&typeof t.databases=="function"}function Am(t){return ci((function(){return be.letThrough=!0,t()}))}function $U(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()})).finally((function(){return clearInterval(t)})):Promise.resolve()}function HU(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((()=>e.dbOpenError?Ot(e.dbOpenError):t));Gr&&(e.openCanceller._stackHolder=ss()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function o(){if(e.openCanceller!==r)throw new Ne.DatabaseClosed("db.open() was cancelled")}let s=e.dbReadyResolve,l=null,u=!1;return Ee.race([r,(typeof navigator>"u"?Ee.resolve():$U()).then((()=>new Ee(((d,c)=>{if(o(),!n)throw new Ne.MissingAPI;const f=t.name,y=e.autoSchema?n.open(f):n.open(f,Math.round(10*t.verno));if(!y)throw new Ne.MissingAPI;y.onerror=Br(c),y.onblocked=gt(t._fireOnBlocked),y.onupgradeneeded=gt((m=>{if(l=y.transaction,e.autoSchema&&!t._options.allowEmptyDB){y.onerror=tu,l.abort(),y.result.close();const C=n.deleteDatabase(f);C.onsuccess=C.onerror=gt((()=>{c(new Ne.NoSuchDatabase(`Database ${f} doesnt exist`))}))}else{l.onerror=Br(c);var v=m.oldVersion>Math.pow(2,62)?0:m.oldVersion;u=v<1,t._novip.idbdb=y.result,OU(t,v/10,l,c)}}),c),y.onsuccess=gt((()=>{l=null;const m=t._novip.idbdb=y.result,v=gf(m.objectStoreNames);if(v.length>0)try{const _=m.transaction((C=v).length===1?C[0]:C,"readonly");e.autoSchema?(function({_novip:S},P,w){S.verno=P.version/10;const A=S._dbSchema=Tm(0,P,w);S._storeNames=gf(P.objectStoreNames,0),_f(S,[S._allTables],Ft(A),A)})(t,m,_):(Sm(t,t._dbSchema,_),(function(S,P){const w=pA(Tm(0,S.idbdb,P),S._dbSchema);return!(w.add.length||w.change.some((A=>A.add.length||A.change.length)))})(t,_)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Cm(t,_)}catch{}var C;bl.push(t),m.onversionchange=gt((_=>{e.vcFired=!0,t.on("versionchange").fire(_)})),m.onclose=gt((_=>{t.on("close").fire(_)})),u&&(function({indexedDB:_,IDBKeyRange:S},P){!Ig(_)&&P!==Jf&&Pg(_,S).put({name:P}).catch(tt)})(t._deps,f),d()}),c)}))))]).then((()=>(o(),e.onReadyBeingFired=[],Ee.resolve(Am((()=>t.on.ready.fire(t.vip)))).then((function d(){if(e.onReadyBeingFired.length>0){let c=e.onReadyBeingFired.reduce(Sg,tt);return e.onReadyBeingFired=[],Ee.resolve(Am((()=>c(t.vip)))).then(d)}}))))).finally((()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1})).then((()=>t)).catch((d=>{e.dbOpenError=d;try{l&&l.abort()}catch{}return r===e.openCanceller&&t._close(),Ot(d)})).finally((()=>{e.openComplete=!0,s()}))}function km(t){var e=s=>t.next(s),n=o(e),r=o((s=>t.throw(s)));function o(s){return l=>{var u=s(l),d=u.value;return u.done?d:d&&typeof d.then=="function"?d.then(n,r):un(d)?Promise.all(d).then(n,r):n(d)}}return o(e)()}function zU(t,e,n){var r=arguments.length;if(r<2)throw new Ne.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[t,GS(o),n]}function hA(t,e,n,r,o){return Ee.resolve().then((()=>{const s=be.transless||be,l=t._createTransaction(e,n,t._dbSchema,r),u={trans:l,transless:s};if(r)l.idbtrans=r.idbtrans;else try{l.create(),t._state.PR1398_maxLoop=3}catch(y){return y.name===Tg.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((()=>hA(t,e,n,null,o)))):Ot(y)}const d=_g(o);let c;d&&va();const f=Ee.follow((()=>{if(c=o.call(l,l),c)if(d){var y=_o.bind(null,null);c.then(y,y)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=km(c))}),u);return(c&&typeof c.then=="function"?Ee.resolve(c).then((y=>l.active?y:Ot(new Ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):f.then((()=>c))).then((y=>(r&&l._resolve(),l._completion.then((()=>y))))).catch((y=>(l._reject(y),Ot(y))))}))}function $c(t,e,n){const r=un(t)?t.slice():[t];for(let o=0;o<n;++o)r.push(e);return r}const qU={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,o={},s=[];function l(f,y,m){const v=Il(f),C=o[v]=o[v]||[],_=f==null?0:typeof f=="string"?1:f.length,S=y>0,P={...m,isVirtual:S,keyTail:y,keyLength:_,extractKey:Em(f),unique:!S&&m.unique};return C.push(P),P.isPrimaryKey||s.push(P),_>1&&l(_===2?f[0]:f.slice(0,_-1),y+1,m),C.sort(((w,A)=>w.keyTail-A.keyTail)),P}const u=l(r.primaryKey.keyPath,0,r.primaryKey);o[":id"]=[u];for(const f of r.indexes)l(f.keyPath,0,f);function d(f){const y=f.query.index;return y.isVirtual?{...f,query:{index:y,range:(m=f.query.range,v=y.keyTail,{type:m.type===1?2:m.type,lower:$c(m.lower,m.lowerOpen?t.MAX_KEY:t.MIN_KEY,v),lowerOpen:!0,upper:$c(m.upper,m.upperOpen?t.MIN_KEY:t.MAX_KEY,v),upperOpen:!0})}}:f;var m,v}return{...n,schema:{...r,primaryKey:u,indexes:s,getIndexByKeyPath:function(f){const y=o[Il(f)];return y&&y[0]}},count:f=>n.count(d(f)),query:f=>n.query(d(f)),openCursor(f){const{keyTail:y,isVirtual:m,keyLength:v}=f.query.index;return m?n.openCursor(d(f)).then((C=>C&&(function(_){return Object.create(_,{continue:{value:function(P){P!=null?_.continue($c(P,f.reverse?t.MAX_KEY:t.MIN_KEY,y)):f.unique?_.continue(_.key.slice(0,v).concat(f.reverse?t.MIN_KEY:t.MAX_KEY,y)):_.continue()}},continuePrimaryKey:{value(P,w){_.continuePrimaryKey($c(P,t.MAX_KEY,y),w)}},primaryKey:{get:()=>_.primaryKey},key:{get(){const P=_.key;return v===1?P[0]:P.slice(0,v)}},value:{get:()=>_.value}})})(C))):n.openCursor(f)}}}}}};function Dg(t,e,n,r){return n=n||{},r=r||"",Ft(t).forEach((o=>{if(Hn(e,o)){var s=t[o],l=e[o];if(typeof s=="object"&&typeof l=="object"&&s&&l){const u=sm(s);u!==sm(l)?n[r+o]=e[o]:u==="Object"?Dg(s,l,n,r+o+"."):s!==l&&(n[r+o]=e[o])}else s!==l&&(n[r+o]=e[o])}else n[r+o]=void 0})),Ft(e).forEach((o=>{Hn(t,o)||(n[r+o]=e[o])})),n}const GU={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(s){const l=be.trans,{deleting:u,creating:d,updating:c}=l.table(e).hook;switch(s.type){case"add":if(d.fire===tt)break;return l._promise("readwrite",(()=>f(s)),!0);case"put":if(d.fire===tt&&c.fire===tt)break;return l._promise("readwrite",(()=>f(s)),!0);case"delete":if(u.fire===tt)break;return l._promise("readwrite",(()=>f(s)),!0);case"deleteRange":if(u.fire===tt)break;return l._promise("readwrite",(()=>(function(m){return y(m.trans,m.range,1e4)})(s)),!0)}return n.mutate(s);function f(m){const v=be.trans,C=m.keys||(function(_,S){return S.type==="delete"?S.keys:S.keys||S.values.map(_.extractKey)})(r,m);if(!C)throw new Error("Keys missing");return(m=m.type==="add"||m.type==="put"?{...m,keys:C}:{...m}).type!=="delete"&&(m.values=[...m.values]),m.keys&&(m.keys=[...m.keys]),(function(_,S,P){return S.type==="add"?Promise.resolve([]):_.getMany({trans:S.trans,keys:P,cache:"immutable"})})(n,m,C).then((_=>{const S=C.map(((P,w)=>{const A=_[w],b={onerror:null,onsuccess:null};if(m.type==="delete")u.fire.call(b,P,A,v);else if(m.type==="add"||A===void 0){const D=d.fire.call(b,P,m.values[w],v);P==null&&D!=null&&(P=D,m.keys[w]=P,r.outbound||Er(m.values[w],r.keyPath,P))}else{const D=Dg(A,m.values[w]),R=c.fire.call(b,D,P,A,v);if(R){const N=m.values[w];Object.keys(R).forEach((B=>{Hn(N,B)?N[B]=R[B]:Er(N,B,R[B])}))}}return b}));return n.mutate(m).then((({failures:P,results:w,numFailures:A,lastResult:b})=>{for(let D=0;D<C.length;++D){const R=w?w[D]:C[D],N=S[D];R==null?N.onerror&&N.onerror(P[D]):N.onsuccess&&N.onsuccess(m.type==="put"&&_[D]?m.values[D]:R)}return{failures:P,results:w,numFailures:A,lastResult:b}})).catch((P=>(S.forEach((w=>w.onerror&&w.onerror(P))),Promise.reject(P))))}))}function y(m,v,C){return n.query({trans:m,values:!1,query:{index:r,range:v},limit:C}).then((({result:_})=>f({type:"delete",keys:_,trans:m}).then((S=>S.numFailures>0?Promise.reject(S.failures[0]):_.length<C?{failures:[],numFailures:0,lastResult:void 0}:y(m,{...v,lower:_[_.length-1],lowerOpen:!0},C)))))}}}}})};function mA(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let o=0,s=0;o<e.keys.length&&s<t.length;++o)mn(e.keys[o],t[s])===0&&(r.push(n?hu(e.values[o]):e.values[o]),++s);return r.length===t.length?r:null}catch{return null}}const WU={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const o=mA(r.keys,r.trans._cache,r.cache==="clone");return o?Ee.resolve(o):n.getMany(r).then((s=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?hu(s):s},s)))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Rg(t){return!("from"in t)}const so=function(t,e){if(!this){const n=new so;return t&&"d"in t&&vn(n,t),n}vn(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function ou(t,e,n){const r=mn(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Rg(t))return vn(t,{from:e,to:n,d:1});const o=t.l,s=t.r;if(mn(n,t.from)<0)return o?ou(o,e,n):t.l={from:e,to:n,d:1,l:null,r:null},KC(t);if(mn(e,t.to)>0)return s?ou(s,e,n):t.r={from:e,to:n,d:1,l:null,r:null},KC(t);mn(e,t.from)<0&&(t.from=e,t.l=null,t.d=s?s.d+1:1),mn(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const l=!t.r;o&&!t.l&&wf(t,o),s&&l&&wf(t,s)}function wf(t,e){Rg(e)||(function n(r,{from:o,to:s,l,r:u}){ou(r,o,s),l&&n(r,l),u&&n(r,u)})(t,e)}function KU(t,e){const n=bm(e);let r=n.next();if(r.done)return!1;let o=r.value;const s=bm(t);let l=s.next(o.from),u=l.value;for(;!r.done&&!l.done;){if(mn(u.from,o.to)<=0&&mn(u.to,o.from)>=0)return!0;mn(o.from,u.from)<0?o=(r=n.next(u.from)).value:u=(l=s.next(o.from)).value}return!1}function bm(t){let e=Rg(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&mn(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||mn(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function KC(t){var e,n;const r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),o=r>1?"r":r<-1?"l":"";if(o){const s=o==="r"?"l":"r",l={...t},u=t[o];t.from=u.from,t.to=u.to,t[o]=u[o],l[o]=u[s],t[s]=l,l.d=YC(l)}t.d=YC(t)}function YC({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}ua(so.prototype,{add(t){return wf(this,t),this},addKey(t){return ou(this,t,t),this},addKeys(t){return t.forEach((e=>ou(this,e,e))),this},[am](){return bm(this)}});const YU={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new so(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const o=t.table(r),{schema:s}=o,{primaryKey:l}=s,{extractKey:u,outbound:d}=l,c={...o,mutate:m=>{const v=m.trans,C=v.mutatedParts||(v.mutatedParts={}),_=R=>{const N=`idb://${e}/${r}/${R}`;return C[N]||(C[N]=new so)},S=_(""),P=_(":dels"),{type:w}=m;let[A,b]=m.type==="deleteRange"?[m.range]:m.type==="delete"?[m.keys]:m.values.length<50?[[],m.values]:[];const D=m.trans._cache;return o.mutate(m).then((R=>{if(un(A)){w!=="delete"&&(A=R.results),S.addKeys(A);const N=mA(A,D);N||w==="add"||P.addKeys(A),(N||b)&&(function(B,L,U,V){function G(W){const X=B(W.name||"");function te(ae){return ae!=null?W.extractKey(ae):null}const ne=ae=>W.multiEntry&&un(ae)?ae.forEach((j=>X.addKey(j))):X.addKey(ae);(U||V).forEach(((ae,j)=>{const re=U&&te(U[j]),ee=V&&te(V[j]);mn(re,ee)!==0&&(re!=null&&ne(re),ee!=null&&ne(ee))}))}L.indexes.forEach(G)})(_,s,N,b)}else if(A){const N={from:A.lower,to:A.upper};P.add(N),S.add(N)}else S.add(n),P.add(n),s.indexes.forEach((N=>_(N.name).add(n)));return R}))}},f=({query:{index:m,range:v}})=>{var C,_;return[m,new so((C=v.lower)!==null&&C!==void 0?C:t.MIN_KEY,(_=v.upper)!==null&&_!==void 0?_:t.MAX_KEY)]},y={get:m=>[l,new so(m.key)],getMany:m=>[l,new so().addKeys(m.keys)],count:f,query:f,openCursor:f};return Ft(y).forEach((m=>{c[m]=function(v){const{subscr:C}=be;if(C){const _=b=>{const D=`idb://${e}/${r}/${b}`;return C[D]||(C[D]=new so)},S=_(""),P=_(":dels"),[w,A]=y[m](v);if(_(w.name||"").add(A),!w.isPrimaryKey){if(m!=="count"){const b=m==="query"&&d&&v.values&&o.query({...v,values:!1});return o[m].apply(this,arguments).then((D=>{if(m==="query"){if(d&&v.values)return b.then((({result:N})=>(S.addKeys(N),D)));const R=v.values?D.result.map(u):D.result;v.values?S.addKeys(R):P.addKeys(R)}else if(m==="openCursor"){const R=D,N=v.values;return R&&Object.create(R,{key:{get:()=>(P.addKey(R.primaryKey),R.key)},primaryKey:{get(){const B=R.primaryKey;return P.addKey(B),B}},value:{get:()=>(N&&S.addKey(R.primaryKey),R.value)}})}return D}))}P.add(n)}}return o[m].apply(this,arguments)}})),c}}}};class Yi{constructor(e,n){this._middlewares={},this.verno=0;const r=Yi.dependencies;this._options=n={addons:Yi.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:o}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:tt,dbReadyPromise:null,cancelOpen:tt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var l;s.dbReadyPromise=new Ee((u=>{s.dbReadyResolve=u})),s.openCanceller=new Ee(((u,d)=>{s.cancelOpen=d})),this._state=s,this.name=e,this.on=Pl(this,"populate","blocked","versionchange","close",{ready:[Sg,tt]}),this.on.ready.subscribe=$S(this.on.ready.subscribe,(u=>(d,c)=>{Yi.vip((()=>{const f=this._state;if(f.openComplete)f.dbOpenError||Ee.resolve().then(d),c&&u(d);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(d),c&&u(d);else{u(d);const y=this;c||u((function m(){y.on.ready.unsubscribe(d),y.on.ready.unsubscribe(m)}))}}))})),this.Collection=(l=this,pl(DU.prototype,(function(u,d){this.db=l;let c=lA,f=null;if(d)try{c=d()}catch(C){f=C}const y=u._ctx,m=y.table,v=m.hook.reading.fire;this._ctx={table:m,index:y.index,isPrimKey:!y.index||m.schema.primKey.keyPath&&y.index===m.schema.primKey.name,range:c,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:f,or:y.or,valueMapper:v!==Ql?v:null}}))),this.Table=(function(u){return pl(IU.prototype,(function(d,c,f){this.db=u,this._tx=f,this.name=d,this.schema=c,this.hook=u._allTables[d]?u._allTables[d].hook:Pl(null,{creating:[xU,tt],reading:[yU,Ql],updating:[EU,tt],deleting:[vU,tt]})}))})(this),this.Transaction=(function(u){return pl(FU.prototype,(function(d,c,f,y,m){this.db=u,this.mode=d,this.storeNames=c,this.schema=f,this.chromeTransactionDurability=y,this.idbtrans=null,this.on=Pl(this,"complete","error","abort"),this.parent=m||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ee(((v,C)=>{this._resolve=v,this._reject=C})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(v=>{var C=this.active;return this.active=!1,this.on.error.fire(v),this.parent?this.parent._reject(v):C&&this.idbtrans&&this.idbtrans.abort(),Ot(v)}))}))})(this),this.Version=(function(u){return pl(VU.prototype,(function(d){this.db=u,this._cfg={version:d,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))})(this),this.WhereClause=(function(u){return pl(cA.prototype,(function(d,c,f){this.db=u,this._ctx={table:d,index:c===":id"?null:c,or:f};const y=u._deps.indexedDB;if(!y)throw new Ne.MissingAPI;this._cmp=this._ascending=y.cmp.bind(y),this._descending=(m,v)=>y.cmp(v,m),this._max=(m,v)=>y.cmp(m,v)>0?m:v,this._min=(m,v)=>y.cmp(m,v)<0?m:v,this._IDBKeyRange=u._deps.IDBKeyRange}))})(this),this.on("versionchange",(u=>{u.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(u=>{!u.newVersion||u.newVersion<u.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${u.oldVersion/10}`)})),this._maxKey=ru(n.IDBKeyRange),this._createTransaction=(u,d,c,f)=>new this.Transaction(u,d,c,this._options.chromeTransactionDurability,f),this._fireOnBlocked=u=>{this.on("blocked").fire(u),bl.filter((d=>d.name===this.name&&d!==this&&!d._state.vcFired)).map((d=>d.on("versionchange").fire(u)))},this.use(qU),this.use(GU),this.use(YU),this.use(WU),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach((u=>u(this)))}version(e){if(isNaN(e)||e<.1)throw new Ne.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter((o=>o._cfg.version===e))[0];return r||(r=new this.Version(e),n.push(r),n.sort(UU),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?e():new Ee(((n,r)=>{if(this._state.openComplete)return r(new Ne.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new Ne.DatabaseClosed);this.open().catch(tt)}this._state.dbReadyPromise.then(n,r)})).then(e)}use({stack:e,create:n,level:r,name:o}){o&&this.unuse({stack:e,name:o});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:n,level:r??10,name:o}),s.sort(((l,u)=>l.level-u.level)),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((o=>r?o.create!==r:!!n&&o.name!==n))),this}open(){return HU(this)}_close(){const e=this._state,n=bl.indexOf(this);if(n>=0&&bl.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new Ee((r=>{e.dbReadyResolve=r})),e.openCanceller=new Ee(((r,o)=>{e.cancelOpen=o}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Ne.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new Ee(((r,o)=>{const s=()=>{this.close();var l=this._deps.indexedDB.deleteDatabase(this.name);l.onsuccess=gt((()=>{(function({indexedDB:u,IDBKeyRange:d},c){!Ig(u)&&c!==Jf&&Pg(u,d).delete(c).catch(tt)})(this._deps,this.name),r()})),l.onerror=Br(o),l.onblocked=this._fireOnBlocked};if(e)throw new Ne.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()}))}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Ft(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=zU.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let o=be.trans;o&&o.db===this&&e.indexOf("!")===-1||(o=null);const s=e.indexOf("?")!==-1;let l,u;e=e.replace("!","").replace("?","");try{if(u=n.map((c=>{var f=c instanceof this.Table?c.name:c;if(typeof f!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return f})),e=="r"||e===dh)l=dh;else{if(e!="rw"&&e!=fh)throw new Ne.InvalidArgument("Invalid transaction mode: "+e);l=fh}if(o){if(o.mode===dh&&l===fh){if(!s)throw new Ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&u.forEach((c=>{if(o&&o.storeNames.indexOf(c)===-1){if(!s)throw new Ne.SubTransaction("Table "+c+" not included in parent transaction.");o=null}})),s&&o&&!o.active&&(o=null)}}catch(c){return o?o._promise(null,((f,y)=>{y(c)})):Ot(c)}const d=hA.bind(null,this,l,u,o,r);return o?o._promise(l,d,"lock"):be.trans?Ea(be.transless,(()=>this._whenReady(d))):this._whenReady(d)}table(e){if(!Hn(this._allTables,e))throw new Ne.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const JU=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class jU{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:r})}[JU](){return this}}function gA(t,e){return Ft(e).forEach((n=>{wf(t[n]||(t[n]=new so),e[n])})),t}function ZU(t){let e,n=!1;const r=new jU((o=>{const s=_g(t);let l=!1,u={},d={};const c={get closed(){return l},unsubscribe:()=>{l=!0,fi.storagemutated.unsubscribe(v)}};o.start&&o.start(c);let f=!1,y=!1;function m(){return Ft(d).some((_=>u[_]&&KU(u[_],d[_])))}const v=_=>{gA(u,_),m()&&C()},C=()=>{if(f||l)return;u={};const _={},S=(function(P){s&&va();const w=()=>ci(t,{subscr:P,trans:null}),A=be.trans?Ea(be.transless,w):w();return s&&A.then(_o,_o),A})(_);y||(fi(nu,v),y=!0),f=!0,Promise.resolve(S).then((P=>{n=!0,e=P,f=!1,l||(m()?C():(u={},d=_,o.next&&o.next(P)))}),(P=>{f=!1,n=!1,o.error&&o.error(P),c.unsubscribe()}))};return C(),c}));return r.hasValue=()=>n,r.getValue=()=>e,r}let Pm;try{Pm={indexedDB:ft.indexedDB||ft.mozIndexedDB||ft.webkitIndexedDB||ft.msIndexedDB,IDBKeyRange:ft.IDBKeyRange||ft.webkitIDBKeyRange}}catch{Pm={indexedDB:null,IDBKeyRange:null}}const Li=Yi;function id(t){let e=uo;try{uo=!0,fi.storagemutated.fire(t)}finally{uo=e}}ua(Li,{...Qc,delete:t=>new Li(t,{addons:[]}).delete(),exists:t=>new Li(t,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(t){try{return(function({indexedDB:e,IDBKeyRange:n}){return Ig(e)?Promise.resolve(e.databases()).then((r=>r.map((o=>o.name)).filter((o=>o!==Jf)))):Pg(e,n).toCollection().primaryKeys()})(Li.dependencies).then(t)}catch{return Ot(new Ne.MissingAPI)}},defineClass:()=>function(t){vn(this,t)},ignoreTransaction:t=>be.trans?Ea(be.transless,t):t(),vip:Am,async:function(t){return function(){try{var e=km(t.apply(this,arguments));return e&&typeof e.then=="function"?e:Ee.resolve(e)}catch(n){return Ot(n)}}},spawn:function(t,e,n){try{var r=km(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:Ee.resolve(r)}catch(o){return Ot(o)}},currentTransaction:{get:()=>be.trans||null},waitFor:function(t,e){const n=Ee.resolve(typeof t=="function"?Li.ignoreTransaction(t):t).timeout(e||6e4);return be.trans?be.trans.waitFor(n):n},Promise:Ee,debug:{get:()=>Gr,set:t=>{KS(t,t==="dexie"?()=>!0:aA)}},derive:Qs,extend:vn,props:ua,override:$S,Events:Pl,on:fi,liveQuery:ZU,extendObservabilitySet:gA,getByKeyPath:mo,setByKeyPath:Er,delByKeyPath:function(t,e){typeof e=="string"?Er(t,e,void 0):"length"in e&&[].map.call(e,(function(n){Er(t,n,void 0)}))},shallowClone:qS,deepClone:hu,getObjectDiff:Dg,cmp:mn,asap:HS,minKey:xm,addons:[],connections:bl,errnames:Tg,dependencies:Pm,semVer:$C,version:$C.split(".").map((t=>parseInt(t))).reduce(((t,e,n)=>t+e/Math.pow(10,2*n)))}),Li.maxKey=ru(Li.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(fi(nu,(t=>{if(!uo){let e;Yf?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Qo,!0,!0,t)):e=new CustomEvent(Qo,{detail:t}),uo=!0,dispatchEvent(e),uo=!1}})),addEventListener(Qo,(({detail:t})=>{uo||id(t)})));let uo=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel(Qo);typeof t.unref=="function"&&t.unref(),fi(nu,(e=>{uo||t.postMessage(e)})),t.onmessage=e=>{e.data&&id(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){fi(nu,(e=>{try{uo||(typeof localStorage<"u"&&localStorage.setItem(Qo,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((n=>n.postMessage({type:Qo,changedParts:e}))))}catch{}})),typeof addEventListener<"u"&&addEventListener("storage",(e=>{if(e.key===Qo){const n=JSON.parse(e.newValue);n&&id(n.changedParts)}}));const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",(function({data:e}){e&&e.type===Qo&&id(e.changedParts)}))}Ee.rejectionMapper=function(t,e){if(!t||t instanceof ea||t instanceof TypeError||t instanceof SyntaxError||!t.name||!LC[t.name])return t;var n=new LC[t.name](e||t.message,t);return"stack"in t&&ho(n,"stack",{get:function(){return this.inner.stack}}),n},KS(Gr,aA);class XU extends Yi{constructor(){super("DevPromptDB"),this.version(1).stores({drafts:"++id, timestamp"}),this.version(2).stores({drafts:"++id, timestamp",workspaces:"++id, name, createdAt",versions:"++id, promptId, timestamp",tags:"++id, name, createdAt",folders:"++id, parentId, path",aiProviders:"++id, name, enabled",analytics:"++id, promptId, lastUsed",chains:"++id, name, createdAt",communityTemplates:"++id, rating, downloads",themes:"++id, name, isActive",operations:"++id, timestamp, synced",prompts:"++id, *tags, folderId, isFavorite, createdAt",savedSearches:"++id, name, createdAt"}),this.version(3).stores({drafts:"++id, timestamp",workspaces:"++id, name, createdAt",versions:"++id, promptId, timestamp",tags:"++id, name, createdAt, usageCount",folders:"++id, parentId, path, name",aiProviders:"++id, name, enabled",analytics:"++id, promptId, lastUsed, successRate",chains:"++id, name, createdAt",communityTemplates:"++id, rating, downloads, createdAt",themes:"++id, name, isActive",operations:"++id, timestamp, synced, type",prompts:"++id, *tags, folderId, isFavorite, createdAt, updatedAt, [folderId+isFavorite]",savedSearches:"++id, name, createdAt"})}}const vl=new XU,QU=3,eO=1e3,tO=3e3,nO=(t,e)=>{const[n,r]=F.useState("idle"),[o,s]=F.useState(null),l=F.useRef(null),u=F.useRef(0),d=async()=>{const f=await vl.drafts.count();if(f>10){const y=f-10,v=(await vl.drafts.orderBy("timestamp").limit(y).toArray()).map(C=>C.id).filter(Boolean);v.length>0&&await vl.drafts.bulkDelete(v)}},c=F.useCallback(async(f=0)=>{if(t.trim())try{const y={input:t,options:e,timestamp:Date.now()};await vl.drafts.add(y),await d(),s(Date.now()),r("saved"),u.current=0}catch(y){Kt.error(y,{context:"AutoSave",attempt:f}),f<QU?(u.current=f+1,setTimeout(()=>{c(f+1)},eO*Math.pow(2,f))):(r("error"),u.current=0)}},[t,e]);return F.useEffect(()=>{if(!t.trim()){r("idle");return}return r("saving"),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{c()},tO),()=>{l.current&&clearTimeout(l.current)}},[t,e,c]),{status:n,lastSaved:o,retryCount:u.current}},rO=t=>{F.useEffect(()=>{const e=n=>{for(const r of t){const o=r.ctrl?n.ctrlKey||n.metaKey:!n.ctrlKey&&!n.metaKey,s=r.shift?n.shiftKey:!n.shiftKey,l=r.alt?n.altKey:!n.altKey;if(n.key.toLowerCase()===r.key.toLowerCase()&&o&&s&&l){n.preventDefault(),r.action();break}}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t])};var ei,Dl,yA,Tf,xA=-1,yu=function(t){addEventListener("pageshow",(function(e){e.persisted&&(xA=e.timeStamp,t(e))}),!0)},vA=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Ng=function(){var t=vA();return t&&t.activationStart||0},pi=function(t,e){var n=vA(),r="navigate";return xA>=0?r="back-forward-cache":n&&(document.prerendering||Ng()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},jf=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver((function(o){Promise.resolve().then((function(){e(o.getEntries())}))}));return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch{}},hi=function(t,e,n,r){var o,s;return function(l){e.value>=0&&(l||r)&&((s=e.value-(o||0))||o===void 0)&&(o=e.value,e.delta=s,e.rating=(function(u,d){return u>d[1]?"poor":u>d[0]?"needs-improvement":"good"})(e.value,n),t(e))}},Mg=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},Fg=function(t){var e=function(n){n.type!=="pagehide"&&document.visibilityState!=="hidden"||t(n)};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)},Bg=function(t){var e=!1;return function(n){e||(t(n),e=!0)}},Ws=-1,JC=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},Sf=function(t){document.visibilityState==="hidden"&&Ws>-1&&(Ws=t.type==="visibilitychange"?t.timeStamp:0,oO())},jC=function(){addEventListener("visibilitychange",Sf,!0),addEventListener("prerenderingchange",Sf,!0)},oO=function(){removeEventListener("visibilitychange",Sf,!0),removeEventListener("prerenderingchange",Sf,!0)},Lg=function(){return Ws<0&&(Ws=JC(),jC(),yu((function(){setTimeout((function(){Ws=JC(),jC()}),0)}))),{get firstHiddenTime(){return Ws}}},Ug=function(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},ZC=[1800,3e3],iO=function(t,e){e=e||{},Ug((function(){var n,r=Lg(),o=pi("FCP"),s=jf("paint",(function(l){l.forEach((function(u){u.name==="first-contentful-paint"&&(s.disconnect(),u.startTime<r.firstHiddenTime&&(o.value=Math.max(u.startTime-Ng(),0),o.entries.push(u),n(!0)))}))}));s&&(n=hi(t,o,ZC,e.reportAllChanges),yu((function(l){o=pi("FCP"),n=hi(t,o,ZC,e.reportAllChanges),Mg((function(){o.value=performance.now()-l.timeStamp,n(!0)}))})))}))},XC=[.1,.25],QC=function(t,e){e=e||{},iO(Bg((function(){var n,r=pi("CLS",0),o=0,s=[],l=function(d){d.forEach((function(c){if(!c.hadRecentInput){var f=s[0],y=s[s.length-1];o&&c.startTime-y.startTime<1e3&&c.startTime-f.startTime<5e3?(o+=c.value,s.push(c)):(o=c.value,s=[c])}})),o>r.value&&(r.value=o,r.entries=s,n())},u=jf("layout-shift",l);u&&(n=hi(t,r,XC,e.reportAllChanges),Fg((function(){l(u.takeRecords()),n(!0)})),yu((function(){o=0,r=pi("CLS",0),n=hi(t,r,XC,e.reportAllChanges),Mg((function(){return n()}))})),setTimeout(n,0))})))},El={passive:!0,capture:!0},sO=new Date,e_=function(t,e){ei||(ei=e,Dl=t,yA=new Date,CA(removeEventListener),EA())},EA=function(){if(Dl>=0&&Dl<yA-sO){var t={entryType:"first-input",name:ei.type,target:ei.target,cancelable:ei.cancelable,startTime:ei.timeStamp,processingStart:ei.timeStamp+Dl};Tf.forEach((function(e){e(t)})),Tf=[]}},aO=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;t.type=="pointerdown"?(function(n,r){var o=function(){e_(n,r),l()},s=function(){l()},l=function(){removeEventListener("pointerup",o,El),removeEventListener("pointercancel",s,El)};addEventListener("pointerup",o,El),addEventListener("pointercancel",s,El)})(e,t):e_(e,t)}},CA=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(e){return t(e,aO,El)}))},t_=[100,300],n_=function(t,e){e=e||{},Ug((function(){var n,r=Lg(),o=pi("FID"),s=function(d){d.startTime<r.firstHiddenTime&&(o.value=d.processingStart-d.startTime,o.entries.push(d),n(!0))},l=function(d){d.forEach(s)},u=jf("first-input",l);n=hi(t,o,t_,e.reportAllChanges),u&&Fg(Bg((function(){l(u.takeRecords()),u.disconnect()}))),u&&yu((function(){var d;o=pi("FID"),n=hi(t,o,t_,e.reportAllChanges),Tf=[],Dl=-1,ei=null,CA(addEventListener),d=s,Tf.push(d),EA()}))}))},r_=[2500,4e3],yh={},o_=function(t,e){e=e||{},Ug((function(){var n,r=Lg(),o=pi("LCP"),s=function(d){var c=d[d.length-1];c&&c.startTime<r.firstHiddenTime&&(o.value=Math.max(c.startTime-Ng(),0),o.entries=[c],n())},l=jf("largest-contentful-paint",s);if(l){n=hi(t,o,r_,e.reportAllChanges);var u=Bg((function(){yh[o.id]||(s(l.takeRecords()),l.disconnect(),yh[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(d){addEventListener(d,(function(){return setTimeout(u,0)}),!0)})),Fg(u),yu((function(d){o=pi("LCP"),n=hi(t,o,r_,e.reportAllChanges),Mg((function(){o.value=performance.now()-d.timeStamp,yh[o.id]=!0,n(!0)}))}))}}))};const lO=t=>{if(t&&t instanceof Function)QC(t),n_(t),o_(t);else{const e=n=>{console.log(`[Web Vitals] ${n.name}:`,Math.round(n.value),n)};QC(e),n_(e),o_(e)}},BV=(t,e)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>t(...r),e)}},uO=({isOpen:t,onStartTour:e,onSkip:n})=>t?k.jsx(jT,{children:k.jsx(Ys.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:k.jsxs(Ys.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden",children:[k.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-8 text-center relative overflow-hidden",children:[k.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-20 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"}),k.jsx(Ys.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"bg-white/10 w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-4 backdrop-blur-md border border-white/20",children:k.jsx(da,{className:"w-8 h-8 text-white"})}),k.jsx("h2",{className:"text-2xl font-bold text-white relative z-10",children:"Welcome to DevPrompt Studio"}),k.jsx("p",{className:"text-indigo-100 mt-2 text-sm relative z-10",children:"Turn rough ideas into architectural specs."})]}),k.jsxs("div",{className:"p-8",children:[k.jsxs("div",{className:"space-y-6 mb-8",children:[k.jsxs("div",{className:"flex gap-4",children:[k.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center flex-shrink-0 text-indigo-400 font-bold border border-slate-700",children:"1"}),k.jsxs("div",{children:[k.jsx("h4",{className:"text-slate-200 font-semibold text-sm",children:"Configure"}),k.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Select your target AI tool (Bolt, Cursor, etc.) and domain."})]})]}),k.jsxs("div",{className:"flex gap-4",children:[k.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center flex-shrink-0 text-indigo-400 font-bold border border-slate-700",children:"2"}),k.jsxs("div",{children:[k.jsx("h4",{className:"text-slate-200 font-semibold text-sm",children:"Prompt"}),k.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Describe your idea roughly. We handle the structure."})]})]}),k.jsxs("div",{className:"flex gap-4",children:[k.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center flex-shrink-0 text-indigo-400 font-bold border border-slate-700",children:"3"}),k.jsxs("div",{children:[k.jsx("h4",{className:"text-slate-200 font-semibold text-sm",children:"Enhance"}),k.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Get a polished, optimized specification in seconds."})]})]})]}),k.jsxs("div",{className:"flex flex-col gap-3",children:[k.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-xl transition-all shadow-lg shadow-indigo-900/20",children:["Take a quick tour",k.jsx(Ik,{className:"w-4 h-4"})]}),k.jsx("button",{onClick:n,className:"w-full text-slate-500 hover:text-slate-300 text-xs font-medium py-2",children:"Skip intro and start building"})]})]})]})})}):null,cO=({isOpen:t,onClose:e})=>t?k.jsx(jT,{children:k.jsx(Ys.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:k.jsxs(Ys.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl max-w-sm w-full p-6 text-center relative overflow-hidden",children:[k.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[k.jsx("div",{className:"absolute top-[-10%] left-[20%] w-20 h-20 bg-indigo-500/20 rounded-full blur-2xl"}),k.jsx("div",{className:"absolute bottom-[-10%] right-[10%] w-32 h-32 bg-purple-500/20 rounded-full blur-3xl"})]}),k.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:k.jsx(Rl,{className:"w-4 h-4"})}),k.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl shadow-orange-900/20 relative z-10",children:k.jsx(ub,{className:"w-10 h-10 text-white"})}),k.jsx("h3",{className:"text-xl font-bold text-white mb-2 relative z-10",children:"You're all set!"}),k.jsxs("p",{className:"text-slate-400 text-sm mb-6 relative z-10",children:["You've unlocked the ",k.jsx("strong",{children:"Prompt Architect"})," badge. Go ahead and create your first specification."]}),k.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-white font-semibold py-2.5 rounded-lg transition-colors",children:[k.jsx(rb,{className:"w-4 h-4 text-indigo-400"}),"Create First Prompt"]})]})})}):null,dO=[{title:"Welcome to DevPrompt Studio!",intro:"This tool helps you turn rough ideas into professional-grade development prompts. Let's take a quick tour."},{element:"#config-grid-area",title:"1. Configure Context",intro:"Start here. Select your **Target Tool** (like Bolt or Cursor), your **Domain** (Frontend/Backend), and the desired **Complexity** level.",position:"right"},{element:"#main-input",title:"2. Describe Your Idea",intro:"Type your rough request here. Don't worry about formatjust describe what you want to build in plain English.",position:"top"},{element:"#examples-trigger",title:"3. Use Examples",intro:"Stuck? Click here to load pre-built examples for various stacks and use cases.",position:"bottom"},{element:"#suggestions-area",title:"4. Enhance with Tags",intro:"As you type, smart suggestions will appear here. Click them to instantly add tech stacks and keywords to your prompt.",position:"top"},{element:"#enhance-btn",title:"5. Generate Prompt",intro:"Click here to let Gemini 2.5 transform your input into a structured, optimized specification ready for any LLM.",position:"top"}],fO=({isBooting:t})=>{const[e,n]=F.useState(!1),[r,o]=F.useState(!1);F.useEffect(()=>{if(t)return;if(!localStorage.getItem("devprompt_has_onboarded")){const c=setTimeout(()=>{n(!0),Kt.info("Onboarding Started")},1e3);return()=>clearTimeout(c)}},[t]);const s=()=>{if(n(!1),window.introJs){const d=window.introJs();d.setOptions({steps:dO,showProgress:!0,showBullets:!1,exitOnOverlayClick:!1,disableInteraction:!0,nextLabel:"Next",prevLabel:"Back",doneLabel:"Finish"}),d.oncomplete(()=>{u(),o(!0),Kt.info("Onboarding Completed")}),d.onexit(()=>{u(),Kt.info("Onboarding Exited/Skipped")}),setTimeout(()=>d.start(),500)}else u(),Kt.info("Onboarding skipped - Intro.js not available")},l=()=>{n(!1),u(),Kt.info("Onboarding Skipped from Modal")},u=()=>{localStorage.setItem("devprompt_has_onboarded","true")};return k.jsxs(k.Fragment,{children:[k.jsx(uO,{isOpen:e,onStartTour:s,onSkip:l}),k.jsx(cO,{isOpen:r,onClose:()=>o(!1)})]})},pO=({message:t,priority:e="polite",clearAfter:n=3e3})=>{const r=F.useRef(null);return F.useEffect(()=>{if(t&&n>0){const o=setTimeout(()=>{r.current&&(r.current.textContent="")},n);return()=>clearTimeout(o)}},[t,n]),k.jsx("div",{ref:r,"aria-live":e,"aria-atomic":"true",className:"sr-only",children:t})},hO=tr(t=>({isMobileHistoryOpen:!1,isTemplateModalOpen:!1,templateModalMode:"create",editingTemplateId:null,templateFormData:{name:"",text:"",domain:Ze.FRONTEND},isFeedbackOpen:!1,isReadOnly:!1,isBooting:!0,setMobileHistoryOpen:e=>t({isMobileHistoryOpen:e}),setTemplateModalOpen:e=>t({isTemplateModalOpen:e}),setTemplateModalMode:e=>t({templateModalMode:e}),setEditingTemplateId:e=>t({editingTemplateId:e}),setTemplateFormData:e=>t(n=>({templateFormData:{...n.templateFormData,...e}})),setFeedbackOpen:e=>t({isFeedbackOpen:e}),setReadOnly:e=>t({isReadOnly:e}),setBooting:e=>t({isBooting:e})})),mO=tr(t=>({input:"",options:{domain:Ze.FRONTEND,platform:zm.WEB,targetTool:"general",complexity:qm.DETAILED,mode:Xt.PROMPT,includeTechStack:!0,includeBestPractices:!0,includeEdgeCases:!1,includeCodeSnippet:!1,includeExampleUsage:!1,includeTests:!1,useThinking:!1},enhancedPrompt:null,originalPrompt:null,isLoading:!1,recoveryDraft:null,setInput:e=>t({input:e}),setOptions:e=>t(n=>({options:{...n.options,...e}})),setEnhancedPrompt:e=>t({enhancedPrompt:e}),setOriginalPrompt:e=>t({originalPrompt:e}),setLoading:e=>t({isLoading:e}),setRecoveryDraft:e=>t({recoveryDraft:e}),resetPrompts:()=>t({enhancedPrompt:null,originalPrompt:null})})),gO=tr()(zr(t=>({history:[],savedProjects:[],customTemplates:[],addHistoryItem:e=>t(n=>({history:[e,...n.history].slice(0,50)})),clearHistory:()=>t({history:[]}),addSavedProject:e=>t(n=>({savedProjects:[e,...n.savedProjects]})),deleteSavedProject:e=>t(n=>({savedProjects:n.savedProjects.filter(r=>r.id!==e)})),addCustomTemplate:e=>t(n=>({customTemplates:[e,...n.customTemplates]})),updateCustomTemplate:(e,n)=>t(r=>({customTemplates:r.customTemplates.map(o=>o.id===e?{...o,...n,timestamp:Date.now()}:o)})),deleteCustomTemplate:e=>t(n=>({customTemplates:n.customTemplates.filter(r=>r.id!==e)}))}),{name:"devprompt-data-storage",partialize:t=>({history:t.history,savedProjects:t.savedProjects,customTemplates:t.customTemplates})}));tr()(zr((t,e)=>({isOnline:navigator.onLine,operations:[],setOnline:n=>t({isOnline:n}),queueOperation:n=>t(r=>({operations:[...r.operations,{...n,id:Date.now(),timestamp:Date.now(),synced:!1}]})),markSynced:n=>t(r=>({operations:r.operations.map(o=>o.id===n?{...o,synced:!0}:o)})),getPendingOperations:()=>e().operations.filter(n=>!n.synced)}),{name:"offline-store"}));tr()(zr(t=>({tags:[],folders:[],favorites:[],addTag:e=>t(n=>({tags:[...n.tags,{...e,id:Date.now(),createdAt:Date.now(),usageCount:0}]})),removeTag:e=>t(n=>({tags:n.tags.filter(r=>r.id!==e)})),addFolder:e=>t(n=>({folders:[...n.folders,{...e,id:Date.now(),createdAt:Date.now()}]})),removeFolder:e=>t(n=>({folders:n.folders.filter(r=>r.id!==e)})),toggleFavorite:e=>t(n=>({favorites:n.favorites.includes(e)?n.favorites.filter(r=>r!==e):[...n.favorites,e]}))}),{name:"organization-store"}));tr()(zr((t,e)=>({versions:[],addVersion:n=>t(r=>{const o=r.versions.filter(l=>l.promptId===n.promptId);return{versions:[...o.length>=50?r.versions.filter(l=>l.promptId!==n.promptId||l.id!==o[0].id):r.versions,{...n,id:Date.now(),timestamp:Date.now()}]}}),getVersions:n=>e().versions.filter(r=>r.promptId===n).sort((r,o)=>o.timestamp-r.timestamp),revertToVersion:n=>e().versions.find(r=>r.id===n)}),{name:"versioning-store"}));var sd={exports:{}};function yO(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ad={exports:{}};const xO={},vO=Object.freeze(Object.defineProperty({__proto__:null,default:xO},Symbol.toStringTag,{value:"Module"})),EO=pk(vO);var CO=ad.exports,i_;function qe(){return i_||(i_=1,(function(t,e){(function(n,r){t.exports=r()})(CO,function(){var n=n||(function(r,o){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Vi<"u"&&Vi.crypto&&(s=Vi.crypto),!s&&typeof yO=="function")try{s=EO}catch{}var l=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},u=Object.create||(function(){function w(){}return function(A){var b;return w.prototype=A,b=new w,w.prototype=null,b}})(),d={},c=d.lib={},f=c.Base=(function(){return{extend:function(w){var A=u(this);return w&&A.mixIn(w),(!A.hasOwnProperty("init")||this.init===A.init)&&(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var A in w)w.hasOwnProperty(A)&&(this[A]=w[A]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),y=c.WordArray=f.extend({init:function(w,A){w=this.words=w||[],A!=o?this.sigBytes=A:this.sigBytes=w.length*4},toString:function(w){return(w||v).stringify(this)},concat:function(w){var A=this.words,b=w.words,D=this.sigBytes,R=w.sigBytes;if(this.clamp(),D%4)for(var N=0;N<R;N++){var B=b[N>>>2]>>>24-N%4*8&255;A[D+N>>>2]|=B<<24-(D+N)%4*8}else for(var L=0;L<R;L+=4)A[D+L>>>2]=b[L>>>2];return this.sigBytes+=R,this},clamp:function(){var w=this.words,A=this.sigBytes;w[A>>>2]&=4294967295<<32-A%4*8,w.length=r.ceil(A/4)},clone:function(){var w=f.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var A=[],b=0;b<w;b+=4)A.push(l());return new y.init(A,w)}}),m=d.enc={},v=m.Hex={stringify:function(w){for(var A=w.words,b=w.sigBytes,D=[],R=0;R<b;R++){var N=A[R>>>2]>>>24-R%4*8&255;D.push((N>>>4).toString(16)),D.push((N&15).toString(16))}return D.join("")},parse:function(w){for(var A=w.length,b=[],D=0;D<A;D+=2)b[D>>>3]|=parseInt(w.substr(D,2),16)<<24-D%8*4;return new y.init(b,A/2)}},C=m.Latin1={stringify:function(w){for(var A=w.words,b=w.sigBytes,D=[],R=0;R<b;R++){var N=A[R>>>2]>>>24-R%4*8&255;D.push(String.fromCharCode(N))}return D.join("")},parse:function(w){for(var A=w.length,b=[],D=0;D<A;D++)b[D>>>2]|=(w.charCodeAt(D)&255)<<24-D%4*8;return new y.init(b,A)}},_=m.Utf8={stringify:function(w){try{return decodeURIComponent(escape(C.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return C.parse(unescape(encodeURIComponent(w)))}},S=c.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=_.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var A,b=this._data,D=b.words,R=b.sigBytes,N=this.blockSize,B=N*4,L=R/B;w?L=r.ceil(L):L=r.max((L|0)-this._minBufferSize,0);var U=L*N,V=r.min(U*4,R);if(U){for(var G=0;G<U;G+=N)this._doProcessBlock(D,G);A=D.splice(0,U),b.sigBytes-=V}return new y.init(A,V)},clone:function(){var w=f.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});c.Hasher=S.extend({cfg:f.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var A=this._doFinalize();return A},blockSize:16,_createHelper:function(w){return function(A,b){return new w.init(b).finalize(A)}},_createHmacHelper:function(w){return function(A,b){return new P.HMAC.init(w,b).finalize(A)}}});var P=d.algo={};return d})(Math);return n})})(ad)),ad.exports}var ld={exports:{}},_O=ld.exports,s_;function Zf(){return s_||(s_=1,(function(t,e){(function(n,r){t.exports=r(qe())})(_O,function(n){return(function(r){var o=n,s=o.lib,l=s.Base,u=s.WordArray,d=o.x64={};d.Word=l.extend({init:function(c,f){this.high=c,this.low=f}}),d.WordArray=l.extend({init:function(c,f){c=this.words=c||[],f!=r?this.sigBytes=f:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,f=c.length,y=[],m=0;m<f;m++){var v=c[m];y.push(v.high),y.push(v.low)}return u.create(y,this.sigBytes)},clone:function(){for(var c=l.clone.call(this),f=c.words=this.words.slice(0),y=f.length,m=0;m<y;m++)f[m]=f[m].clone();return c}})})(),n})})(ld)),ld.exports}var ud={exports:{}},wO=ud.exports,a_;function TO(){return a_||(a_=1,(function(t,e){(function(n,r){t.exports=r(qe())})(wO,function(n){return(function(){if(typeof ArrayBuffer=="function"){var r=n,o=r.lib,s=o.WordArray,l=s.init,u=s.init=function(d){if(d instanceof ArrayBuffer&&(d=new Uint8Array(d)),(d instanceof Int8Array||typeof Uint8ClampedArray<"u"&&d instanceof Uint8ClampedArray||d instanceof Int16Array||d instanceof Uint16Array||d instanceof Int32Array||d instanceof Uint32Array||d instanceof Float32Array||d instanceof Float64Array)&&(d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength)),d instanceof Uint8Array){for(var c=d.byteLength,f=[],y=0;y<c;y++)f[y>>>2]|=d[y]<<24-y%4*8;l.call(this,f,c)}else l.apply(this,arguments)};u.prototype=s}})(),n.lib.WordArray})})(ud)),ud.exports}var cd={exports:{}},SO=cd.exports,l_;function AO(){return l_||(l_=1,(function(t,e){(function(n,r){t.exports=r(qe())})(SO,function(n){return(function(){var r=n,o=r.lib,s=o.WordArray,l=r.enc;l.Utf16=l.Utf16BE={stringify:function(d){for(var c=d.words,f=d.sigBytes,y=[],m=0;m<f;m+=2){var v=c[m>>>2]>>>16-m%4*8&65535;y.push(String.fromCharCode(v))}return y.join("")},parse:function(d){for(var c=d.length,f=[],y=0;y<c;y++)f[y>>>1]|=d.charCodeAt(y)<<16-y%2*16;return s.create(f,c*2)}},l.Utf16LE={stringify:function(d){for(var c=d.words,f=d.sigBytes,y=[],m=0;m<f;m+=2){var v=u(c[m>>>2]>>>16-m%4*8&65535);y.push(String.fromCharCode(v))}return y.join("")},parse:function(d){for(var c=d.length,f=[],y=0;y<c;y++)f[y>>>1]|=u(d.charCodeAt(y)<<16-y%2*16);return s.create(f,c*2)}};function u(d){return d<<8&4278255360|d>>>8&16711935}})(),n.enc.Utf16})})(cd)),cd.exports}var dd={exports:{}},kO=dd.exports,u_;function as(){return u_||(u_=1,(function(t,e){(function(n,r){t.exports=r(qe())})(kO,function(n){return(function(){var r=n,o=r.lib,s=o.WordArray,l=r.enc;l.Base64={stringify:function(d){var c=d.words,f=d.sigBytes,y=this._map;d.clamp();for(var m=[],v=0;v<f;v+=3)for(var C=c[v>>>2]>>>24-v%4*8&255,_=c[v+1>>>2]>>>24-(v+1)%4*8&255,S=c[v+2>>>2]>>>24-(v+2)%4*8&255,P=C<<16|_<<8|S,w=0;w<4&&v+w*.75<f;w++)m.push(y.charAt(P>>>6*(3-w)&63));var A=y.charAt(64);if(A)for(;m.length%4;)m.push(A);return m.join("")},parse:function(d){var c=d.length,f=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var m=0;m<f.length;m++)y[f.charCodeAt(m)]=m}var v=f.charAt(64);if(v){var C=d.indexOf(v);C!==-1&&(c=C)}return u(d,c,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function u(d,c,f){for(var y=[],m=0,v=0;v<c;v++)if(v%4){var C=f[d.charCodeAt(v-1)]<<v%4*2,_=f[d.charCodeAt(v)]>>>6-v%4*2,S=C|_;y[m>>>2]|=S<<24-m%4*8,m++}return s.create(y,m)}})(),n.enc.Base64})})(dd)),dd.exports}var fd={exports:{}},bO=fd.exports,c_;function PO(){return c_||(c_=1,(function(t,e){(function(n,r){t.exports=r(qe())})(bO,function(n){return(function(){var r=n,o=r.lib,s=o.WordArray,l=r.enc;l.Base64url={stringify:function(d,c){c===void 0&&(c=!0);var f=d.words,y=d.sigBytes,m=c?this._safe_map:this._map;d.clamp();for(var v=[],C=0;C<y;C+=3)for(var _=f[C>>>2]>>>24-C%4*8&255,S=f[C+1>>>2]>>>24-(C+1)%4*8&255,P=f[C+2>>>2]>>>24-(C+2)%4*8&255,w=_<<16|S<<8|P,A=0;A<4&&C+A*.75<y;A++)v.push(m.charAt(w>>>6*(3-A)&63));var b=m.charAt(64);if(b)for(;v.length%4;)v.push(b);return v.join("")},parse:function(d,c){c===void 0&&(c=!0);var f=d.length,y=c?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var v=0;v<y.length;v++)m[y.charCodeAt(v)]=v}var C=y.charAt(64);if(C){var _=d.indexOf(C);_!==-1&&(f=_)}return u(d,f,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function u(d,c,f){for(var y=[],m=0,v=0;v<c;v++)if(v%4){var C=f[d.charCodeAt(v-1)]<<v%4*2,_=f[d.charCodeAt(v)]>>>6-v%4*2,S=C|_;y[m>>>2]|=S<<24-m%4*8,m++}return s.create(y,m)}})(),n.enc.Base64url})})(fd)),fd.exports}var pd={exports:{}},IO=pd.exports,d_;function ls(){return d_||(d_=1,(function(t,e){(function(n,r){t.exports=r(qe())})(IO,function(n){return(function(r){var o=n,s=o.lib,l=s.WordArray,u=s.Hasher,d=o.algo,c=[];(function(){for(var _=0;_<64;_++)c[_]=r.abs(r.sin(_+1))*4294967296|0})();var f=d.MD5=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(_,S){for(var P=0;P<16;P++){var w=S+P,A=_[w];_[w]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var b=this._hash.words,D=_[S+0],R=_[S+1],N=_[S+2],B=_[S+3],L=_[S+4],U=_[S+5],V=_[S+6],G=_[S+7],W=_[S+8],X=_[S+9],te=_[S+10],ne=_[S+11],ae=_[S+12],j=_[S+13],re=_[S+14],ee=_[S+15],M=b[0],$=b[1],Y=b[2],Z=b[3];M=y(M,$,Y,Z,D,7,c[0]),Z=y(Z,M,$,Y,R,12,c[1]),Y=y(Y,Z,M,$,N,17,c[2]),$=y($,Y,Z,M,B,22,c[3]),M=y(M,$,Y,Z,L,7,c[4]),Z=y(Z,M,$,Y,U,12,c[5]),Y=y(Y,Z,M,$,V,17,c[6]),$=y($,Y,Z,M,G,22,c[7]),M=y(M,$,Y,Z,W,7,c[8]),Z=y(Z,M,$,Y,X,12,c[9]),Y=y(Y,Z,M,$,te,17,c[10]),$=y($,Y,Z,M,ne,22,c[11]),M=y(M,$,Y,Z,ae,7,c[12]),Z=y(Z,M,$,Y,j,12,c[13]),Y=y(Y,Z,M,$,re,17,c[14]),$=y($,Y,Z,M,ee,22,c[15]),M=m(M,$,Y,Z,R,5,c[16]),Z=m(Z,M,$,Y,V,9,c[17]),Y=m(Y,Z,M,$,ne,14,c[18]),$=m($,Y,Z,M,D,20,c[19]),M=m(M,$,Y,Z,U,5,c[20]),Z=m(Z,M,$,Y,te,9,c[21]),Y=m(Y,Z,M,$,ee,14,c[22]),$=m($,Y,Z,M,L,20,c[23]),M=m(M,$,Y,Z,X,5,c[24]),Z=m(Z,M,$,Y,re,9,c[25]),Y=m(Y,Z,M,$,B,14,c[26]),$=m($,Y,Z,M,W,20,c[27]),M=m(M,$,Y,Z,j,5,c[28]),Z=m(Z,M,$,Y,N,9,c[29]),Y=m(Y,Z,M,$,G,14,c[30]),$=m($,Y,Z,M,ae,20,c[31]),M=v(M,$,Y,Z,U,4,c[32]),Z=v(Z,M,$,Y,W,11,c[33]),Y=v(Y,Z,M,$,ne,16,c[34]),$=v($,Y,Z,M,re,23,c[35]),M=v(M,$,Y,Z,R,4,c[36]),Z=v(Z,M,$,Y,L,11,c[37]),Y=v(Y,Z,M,$,G,16,c[38]),$=v($,Y,Z,M,te,23,c[39]),M=v(M,$,Y,Z,j,4,c[40]),Z=v(Z,M,$,Y,D,11,c[41]),Y=v(Y,Z,M,$,B,16,c[42]),$=v($,Y,Z,M,V,23,c[43]),M=v(M,$,Y,Z,X,4,c[44]),Z=v(Z,M,$,Y,ae,11,c[45]),Y=v(Y,Z,M,$,ee,16,c[46]),$=v($,Y,Z,M,N,23,c[47]),M=C(M,$,Y,Z,D,6,c[48]),Z=C(Z,M,$,Y,G,10,c[49]),Y=C(Y,Z,M,$,re,15,c[50]),$=C($,Y,Z,M,U,21,c[51]),M=C(M,$,Y,Z,ae,6,c[52]),Z=C(Z,M,$,Y,B,10,c[53]),Y=C(Y,Z,M,$,te,15,c[54]),$=C($,Y,Z,M,R,21,c[55]),M=C(M,$,Y,Z,W,6,c[56]),Z=C(Z,M,$,Y,ee,10,c[57]),Y=C(Y,Z,M,$,V,15,c[58]),$=C($,Y,Z,M,j,21,c[59]),M=C(M,$,Y,Z,L,6,c[60]),Z=C(Z,M,$,Y,ne,10,c[61]),Y=C(Y,Z,M,$,N,15,c[62]),$=C($,Y,Z,M,X,21,c[63]),b[0]=b[0]+M|0,b[1]=b[1]+$|0,b[2]=b[2]+Y|0,b[3]=b[3]+Z|0},_doFinalize:function(){var _=this._data,S=_.words,P=this._nDataBytes*8,w=_.sigBytes*8;S[w>>>5]|=128<<24-w%32;var A=r.floor(P/4294967296),b=P;S[(w+64>>>9<<4)+15]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,S[(w+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,_.sigBytes=(S.length+1)*4,this._process();for(var D=this._hash,R=D.words,N=0;N<4;N++){var B=R[N];R[N]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return D},clone:function(){var _=u.clone.call(this);return _._hash=this._hash.clone(),_}});function y(_,S,P,w,A,b,D){var R=_+(S&P|~S&w)+A+D;return(R<<b|R>>>32-b)+S}function m(_,S,P,w,A,b,D){var R=_+(S&w|P&~w)+A+D;return(R<<b|R>>>32-b)+S}function v(_,S,P,w,A,b,D){var R=_+(S^P^w)+A+D;return(R<<b|R>>>32-b)+S}function C(_,S,P,w,A,b,D){var R=_+(P^(S|~w))+A+D;return(R<<b|R>>>32-b)+S}o.MD5=u._createHelper(f),o.HmacMD5=u._createHmacHelper(f)})(Math),n.MD5})})(pd)),pd.exports}var hd={exports:{}},DO=hd.exports,f_;function _A(){return f_||(f_=1,(function(t,e){(function(n,r){t.exports=r(qe())})(DO,function(n){return(function(){var r=n,o=r.lib,s=o.WordArray,l=o.Hasher,u=r.algo,d=[],c=u.SHA1=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,y){for(var m=this._hash.words,v=m[0],C=m[1],_=m[2],S=m[3],P=m[4],w=0;w<80;w++){if(w<16)d[w]=f[y+w]|0;else{var A=d[w-3]^d[w-8]^d[w-14]^d[w-16];d[w]=A<<1|A>>>31}var b=(v<<5|v>>>27)+P+d[w];w<20?b+=(C&_|~C&S)+1518500249:w<40?b+=(C^_^S)+1859775393:w<60?b+=(C&_|C&S|_&S)-1894007588:b+=(C^_^S)-899497514,P=S,S=_,_=C<<30|C>>>2,C=v,v=b}m[0]=m[0]+v|0,m[1]=m[1]+C|0,m[2]=m[2]+_|0,m[3]=m[3]+S|0,m[4]=m[4]+P|0},_doFinalize:function(){var f=this._data,y=f.words,m=this._nDataBytes*8,v=f.sigBytes*8;return y[v>>>5]|=128<<24-v%32,y[(v+64>>>9<<4)+14]=Math.floor(m/4294967296),y[(v+64>>>9<<4)+15]=m,f.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var f=l.clone.call(this);return f._hash=this._hash.clone(),f}});r.SHA1=l._createHelper(c),r.HmacSHA1=l._createHmacHelper(c)})(),n.SHA1})})(hd)),hd.exports}var md={exports:{}},RO=md.exports,p_;function Og(){return p_||(p_=1,(function(t,e){(function(n,r){t.exports=r(qe())})(RO,function(n){return(function(r){var o=n,s=o.lib,l=s.WordArray,u=s.Hasher,d=o.algo,c=[],f=[];(function(){function v(P){for(var w=r.sqrt(P),A=2;A<=w;A++)if(!(P%A))return!1;return!0}function C(P){return(P-(P|0))*4294967296|0}for(var _=2,S=0;S<64;)v(_)&&(S<8&&(c[S]=C(r.pow(_,1/2))),f[S]=C(r.pow(_,1/3)),S++),_++})();var y=[],m=d.SHA256=u.extend({_doReset:function(){this._hash=new l.init(c.slice(0))},_doProcessBlock:function(v,C){for(var _=this._hash.words,S=_[0],P=_[1],w=_[2],A=_[3],b=_[4],D=_[5],R=_[6],N=_[7],B=0;B<64;B++){if(B<16)y[B]=v[C+B]|0;else{var L=y[B-15],U=(L<<25|L>>>7)^(L<<14|L>>>18)^L>>>3,V=y[B-2],G=(V<<15|V>>>17)^(V<<13|V>>>19)^V>>>10;y[B]=U+y[B-7]+G+y[B-16]}var W=b&D^~b&R,X=S&P^S&w^P&w,te=(S<<30|S>>>2)^(S<<19|S>>>13)^(S<<10|S>>>22),ne=(b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25),ae=N+ne+W+f[B]+y[B],j=te+X;N=R,R=D,D=b,b=A+ae|0,A=w,w=P,P=S,S=ae+j|0}_[0]=_[0]+S|0,_[1]=_[1]+P|0,_[2]=_[2]+w|0,_[3]=_[3]+A|0,_[4]=_[4]+b|0,_[5]=_[5]+D|0,_[6]=_[6]+R|0,_[7]=_[7]+N|0},_doFinalize:function(){var v=this._data,C=v.words,_=this._nDataBytes*8,S=v.sigBytes*8;return C[S>>>5]|=128<<24-S%32,C[(S+64>>>9<<4)+14]=r.floor(_/4294967296),C[(S+64>>>9<<4)+15]=_,v.sigBytes=C.length*4,this._process(),this._hash},clone:function(){var v=u.clone.call(this);return v._hash=this._hash.clone(),v}});o.SHA256=u._createHelper(m),o.HmacSHA256=u._createHmacHelper(m)})(Math),n.SHA256})})(md)),md.exports}var gd={exports:{}},NO=gd.exports,h_;function MO(){return h_||(h_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Og())})(NO,function(n){return(function(){var r=n,o=r.lib,s=o.WordArray,l=r.algo,u=l.SHA256,d=l.SHA224=u.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=u._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=u._createHelper(d),r.HmacSHA224=u._createHmacHelper(d)})(),n.SHA224})})(gd)),gd.exports}var yd={exports:{}},FO=yd.exports,m_;function wA(){return m_||(m_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Zf())})(FO,function(n){return(function(){var r=n,o=r.lib,s=o.Hasher,l=r.x64,u=l.Word,d=l.WordArray,c=r.algo;function f(){return u.create.apply(u,arguments)}var y=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],m=[];(function(){for(var C=0;C<80;C++)m[C]=f()})();var v=c.SHA512=s.extend({_doReset:function(){this._hash=new d.init([new u.init(1779033703,4089235720),new u.init(3144134277,2227873595),new u.init(1013904242,4271175723),new u.init(2773480762,1595750129),new u.init(1359893119,2917565137),new u.init(2600822924,725511199),new u.init(528734635,4215389547),new u.init(1541459225,327033209)])},_doProcessBlock:function(C,_){for(var S=this._hash.words,P=S[0],w=S[1],A=S[2],b=S[3],D=S[4],R=S[5],N=S[6],B=S[7],L=P.high,U=P.low,V=w.high,G=w.low,W=A.high,X=A.low,te=b.high,ne=b.low,ae=D.high,j=D.low,re=R.high,ee=R.low,M=N.high,$=N.low,Y=B.high,Z=B.low,ce=L,he=U,Ae=V,pe=G,Be=W,Ge=X,nt=te,It=ne,je=ae,et=j,at=re,$t=ee,Qt=M,Dt=$,Jt=Y,At=Z,Xe=0;Xe<80;Xe++){var Ct,en,In=m[Xe];if(Xe<16)en=In.high=C[_+Xe*2]|0,Ct=In.low=C[_+Xe*2+1]|0;else{var Dn=m[Xe-15],ue=Dn.high,ze=Dn.low,kt=(ue>>>1|ze<<31)^(ue>>>8|ze<<24)^ue>>>7,Sr=(ze>>>1|ue<<31)^(ze>>>8|ue<<24)^(ze>>>7|ue<<25),rt=m[Xe-2],pt=rt.high,tn=rt.low,nr=(pt>>>19|tn<<13)^(pt<<3|tn>>>29)^pt>>>6,Ar=(tn>>>19|pt<<13)^(tn<<3|pt>>>29)^(tn>>>6|pt<<26),En=m[Xe-7],zn=En.high,Wr=En.low,kr=m[Xe-16],vi=kr.high,rr=kr.low;Ct=Sr+Wr,en=kt+zn+(Ct>>>0<Sr>>>0?1:0),Ct=Ct+Ar,en=en+nr+(Ct>>>0<Ar>>>0?1:0),Ct=Ct+rr,en=en+vi+(Ct>>>0<rr>>>0?1:0),In.high=en,In.low=Ct}var Rn=je&at^~je&Qt,or=et&$t^~et&Dt,br=ce&Ae^ce&Be^Ae&Be,us=he&pe^he&Ge^pe&Ge,cs=(ce>>>28|he<<4)^(ce<<30|he>>>2)^(ce<<25|he>>>7),ht=(he>>>28|ce<<4)^(he<<30|ce>>>2)^(he<<25|ce>>>7),ir=(je>>>14|et<<18)^(je>>>18|et<<14)^(je<<23|et>>>9),Ei=(et>>>14|je<<18)^(et>>>18|je<<14)^(et<<23|je>>>9),So=y[Xe],sr=So.high,Kr=So.low,_t=At+Ei,qn=Jt+ir+(_t>>>0<At>>>0?1:0),_t=_t+or,qn=qn+Rn+(_t>>>0<or>>>0?1:0),_t=_t+Kr,qn=qn+sr+(_t>>>0<Kr>>>0?1:0),_t=_t+Ct,qn=qn+en+(_t>>>0<Ct>>>0?1:0),Bt=ht+us,Cn=cs+br+(Bt>>>0<ht>>>0?1:0);Jt=Qt,At=Dt,Qt=at,Dt=$t,at=je,$t=et,et=It+_t|0,je=nt+qn+(et>>>0<It>>>0?1:0)|0,nt=Be,It=Ge,Be=Ae,Ge=pe,Ae=ce,pe=he,he=_t+Bt|0,ce=qn+Cn+(he>>>0<_t>>>0?1:0)|0}U=P.low=U+he,P.high=L+ce+(U>>>0<he>>>0?1:0),G=w.low=G+pe,w.high=V+Ae+(G>>>0<pe>>>0?1:0),X=A.low=X+Ge,A.high=W+Be+(X>>>0<Ge>>>0?1:0),ne=b.low=ne+It,b.high=te+nt+(ne>>>0<It>>>0?1:0),j=D.low=j+et,D.high=ae+je+(j>>>0<et>>>0?1:0),ee=R.low=ee+$t,R.high=re+at+(ee>>>0<$t>>>0?1:0),$=N.low=$+Dt,N.high=M+Qt+($>>>0<Dt>>>0?1:0),Z=B.low=Z+At,B.high=Y+Jt+(Z>>>0<At>>>0?1:0)},_doFinalize:function(){var C=this._data,_=C.words,S=this._nDataBytes*8,P=C.sigBytes*8;_[P>>>5]|=128<<24-P%32,_[(P+128>>>10<<5)+30]=Math.floor(S/4294967296),_[(P+128>>>10<<5)+31]=S,C.sigBytes=_.length*4,this._process();var w=this._hash.toX32();return w},clone:function(){var C=s.clone.call(this);return C._hash=this._hash.clone(),C},blockSize:1024/32});r.SHA512=s._createHelper(v),r.HmacSHA512=s._createHmacHelper(v)})(),n.SHA512})})(yd)),yd.exports}var xd={exports:{}},BO=xd.exports,g_;function LO(){return g_||(g_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Zf(),wA())})(BO,function(n){return(function(){var r=n,o=r.x64,s=o.Word,l=o.WordArray,u=r.algo,d=u.SHA512,c=u.SHA384=d.extend({_doReset:function(){this._hash=new l.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var f=d._doFinalize.call(this);return f.sigBytes-=16,f}});r.SHA384=d._createHelper(c),r.HmacSHA384=d._createHmacHelper(c)})(),n.SHA384})})(xd)),xd.exports}var vd={exports:{}},UO=vd.exports,y_;function OO(){return y_||(y_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Zf())})(UO,function(n){return(function(r){var o=n,s=o.lib,l=s.WordArray,u=s.Hasher,d=o.x64,c=d.Word,f=o.algo,y=[],m=[],v=[];(function(){for(var S=1,P=0,w=0;w<24;w++){y[S+5*P]=(w+1)*(w+2)/2%64;var A=P%5,b=(2*S+3*P)%5;S=A,P=b}for(var S=0;S<5;S++)for(var P=0;P<5;P++)m[S+5*P]=P+(2*S+3*P)%5*5;for(var D=1,R=0;R<24;R++){for(var N=0,B=0,L=0;L<7;L++){if(D&1){var U=(1<<L)-1;U<32?B^=1<<U:N^=1<<U-32}D&128?D=D<<1^113:D<<=1}v[R]=c.create(N,B)}})();var C=[];(function(){for(var S=0;S<25;S++)C[S]=c.create()})();var _=f.SHA3=u.extend({cfg:u.cfg.extend({outputLength:512}),_doReset:function(){for(var S=this._state=[],P=0;P<25;P++)S[P]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(S,P){for(var w=this._state,A=this.blockSize/2,b=0;b<A;b++){var D=S[P+2*b],R=S[P+2*b+1];D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360;var N=w[b];N.high^=R,N.low^=D}for(var B=0;B<24;B++){for(var L=0;L<5;L++){for(var U=0,V=0,G=0;G<5;G++){var N=w[L+5*G];U^=N.high,V^=N.low}var W=C[L];W.high=U,W.low=V}for(var L=0;L<5;L++)for(var X=C[(L+4)%5],te=C[(L+1)%5],ne=te.high,ae=te.low,U=X.high^(ne<<1|ae>>>31),V=X.low^(ae<<1|ne>>>31),G=0;G<5;G++){var N=w[L+5*G];N.high^=U,N.low^=V}for(var j=1;j<25;j++){var U,V,N=w[j],re=N.high,ee=N.low,M=y[j];M<32?(U=re<<M|ee>>>32-M,V=ee<<M|re>>>32-M):(U=ee<<M-32|re>>>64-M,V=re<<M-32|ee>>>64-M);var $=C[m[j]];$.high=U,$.low=V}var Y=C[0],Z=w[0];Y.high=Z.high,Y.low=Z.low;for(var L=0;L<5;L++)for(var G=0;G<5;G++){var j=L+5*G,N=w[j],ce=C[j],he=C[(L+1)%5+5*G],Ae=C[(L+2)%5+5*G];N.high=ce.high^~he.high&Ae.high,N.low=ce.low^~he.low&Ae.low}var N=w[0],pe=v[B];N.high^=pe.high,N.low^=pe.low}},_doFinalize:function(){var S=this._data,P=S.words;this._nDataBytes*8;var w=S.sigBytes*8,A=this.blockSize*32;P[w>>>5]|=1<<24-w%32,P[(r.ceil((w+1)/A)*A>>>5)-1]|=128,S.sigBytes=P.length*4,this._process();for(var b=this._state,D=this.cfg.outputLength/8,R=D/8,N=[],B=0;B<R;B++){var L=b[B],U=L.high,V=L.low;U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,V=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,N.push(V),N.push(U)}return new l.init(N,D)},clone:function(){for(var S=u.clone.call(this),P=S._state=this._state.slice(0),w=0;w<25;w++)P[w]=P[w].clone();return S}});o.SHA3=u._createHelper(_),o.HmacSHA3=u._createHmacHelper(_)})(Math),n.SHA3})})(vd)),vd.exports}var Ed={exports:{}},VO=Ed.exports,x_;function $O(){return x_||(x_=1,(function(t,e){(function(n,r){t.exports=r(qe())})(VO,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(r){var o=n,s=o.lib,l=s.WordArray,u=s.Hasher,d=o.algo,c=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=l.create([0,1518500249,1859775393,2400959708,2840853838]),C=l.create([1352829926,1548603684,1836072691,2053994217,0]),_=d.RIPEMD160=u.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(R,N){for(var B=0;B<16;B++){var L=N+B,U=R[L];R[L]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360}var V=this._hash.words,G=v.words,W=C.words,X=c.words,te=f.words,ne=y.words,ae=m.words,j,re,ee,M,$,Y,Z,ce,he,Ae;Y=j=V[0],Z=re=V[1],ce=ee=V[2],he=M=V[3],Ae=$=V[4];for(var pe,B=0;B<80;B+=1)pe=j+R[N+X[B]]|0,B<16?pe+=S(re,ee,M)+G[0]:B<32?pe+=P(re,ee,M)+G[1]:B<48?pe+=w(re,ee,M)+G[2]:B<64?pe+=A(re,ee,M)+G[3]:pe+=b(re,ee,M)+G[4],pe=pe|0,pe=D(pe,ne[B]),pe=pe+$|0,j=$,$=M,M=D(ee,10),ee=re,re=pe,pe=Y+R[N+te[B]]|0,B<16?pe+=b(Z,ce,he)+W[0]:B<32?pe+=A(Z,ce,he)+W[1]:B<48?pe+=w(Z,ce,he)+W[2]:B<64?pe+=P(Z,ce,he)+W[3]:pe+=S(Z,ce,he)+W[4],pe=pe|0,pe=D(pe,ae[B]),pe=pe+Ae|0,Y=Ae,Ae=he,he=D(ce,10),ce=Z,Z=pe;pe=V[1]+ee+he|0,V[1]=V[2]+M+Ae|0,V[2]=V[3]+$+Y|0,V[3]=V[4]+j+Z|0,V[4]=V[0]+re+ce|0,V[0]=pe},_doFinalize:function(){var R=this._data,N=R.words,B=this._nDataBytes*8,L=R.sigBytes*8;N[L>>>5]|=128<<24-L%32,N[(L+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,R.sigBytes=(N.length+1)*4,this._process();for(var U=this._hash,V=U.words,G=0;G<5;G++){var W=V[G];V[G]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360}return U},clone:function(){var R=u.clone.call(this);return R._hash=this._hash.clone(),R}});function S(R,N,B){return R^N^B}function P(R,N,B){return R&N|~R&B}function w(R,N,B){return(R|~N)^B}function A(R,N,B){return R&B|N&~B}function b(R,N,B){return R^(N|~B)}function D(R,N){return R<<N|R>>>32-N}o.RIPEMD160=u._createHelper(_),o.HmacRIPEMD160=u._createHmacHelper(_)})(),n.RIPEMD160})})(Ed)),Ed.exports}var Cd={exports:{}},HO=Cd.exports,v_;function Vg(){return v_||(v_=1,(function(t,e){(function(n,r){t.exports=r(qe())})(HO,function(n){(function(){var r=n,o=r.lib,s=o.Base,l=r.enc,u=l.Utf8,d=r.algo;d.HMAC=s.extend({init:function(c,f){c=this._hasher=new c.init,typeof f=="string"&&(f=u.parse(f));var y=c.blockSize,m=y*4;f.sigBytes>m&&(f=c.finalize(f)),f.clamp();for(var v=this._oKey=f.clone(),C=this._iKey=f.clone(),_=v.words,S=C.words,P=0;P<y;P++)_[P]^=1549556828,S[P]^=909522486;v.sigBytes=C.sigBytes=m,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var f=this._hasher,y=f.finalize(c);f.reset();var m=f.finalize(this._oKey.clone().concat(y));return m}})})()})})(Cd)),Cd.exports}var _d={exports:{}},zO=_d.exports,E_;function qO(){return E_||(E_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Og(),Vg())})(zO,function(n){return(function(){var r=n,o=r.lib,s=o.Base,l=o.WordArray,u=r.algo,d=u.SHA256,c=u.HMAC,f=u.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:d,iterations:25e4}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,m){for(var v=this.cfg,C=c.create(v.hasher,y),_=l.create(),S=l.create([1]),P=_.words,w=S.words,A=v.keySize,b=v.iterations;P.length<A;){var D=C.update(m).finalize(S);C.reset();for(var R=D.words,N=R.length,B=D,L=1;L<b;L++){B=C.finalize(B),C.reset();for(var U=B.words,V=0;V<N;V++)R[V]^=U[V]}_.concat(D),w[0]++}return _.sigBytes=A*4,_}});r.PBKDF2=function(y,m,v){return f.create(v).compute(y,m)}})(),n.PBKDF2})})(_d)),_d.exports}var wd={exports:{}},GO=wd.exports,C_;function xi(){return C_||(C_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),_A(),Vg())})(GO,function(n){return(function(){var r=n,o=r.lib,s=o.Base,l=o.WordArray,u=r.algo,d=u.MD5,c=u.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:d,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,y){for(var m,v=this.cfg,C=v.hasher.create(),_=l.create(),S=_.words,P=v.keySize,w=v.iterations;S.length<P;){m&&C.update(m),m=C.update(f).finalize(y),C.reset();for(var A=1;A<w;A++)m=C.finalize(m),C.reset();_.concat(m)}return _.sigBytes=P*4,_}});r.EvpKDF=function(f,y,m){return c.create(m).compute(f,y)}})(),n.EvpKDF})})(wd)),wd.exports}var Td={exports:{}},WO=Td.exports,__;function Yt(){return __||(__=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),xi())})(WO,function(n){n.lib.Cipher||(function(r){var o=n,s=o.lib,l=s.Base,u=s.WordArray,d=s.BufferedBlockAlgorithm,c=o.enc;c.Utf8;var f=c.Base64,y=o.algo,m=y.EvpKDF,v=s.Cipher=d.extend({cfg:l.extend(),createEncryptor:function(U,V){return this.create(this._ENC_XFORM_MODE,U,V)},createDecryptor:function(U,V){return this.create(this._DEC_XFORM_MODE,U,V)},init:function(U,V,G){this.cfg=this.cfg.extend(G),this._xformMode=U,this._key=V,this.reset()},reset:function(){d.reset.call(this),this._doReset()},process:function(U){return this._append(U),this._process()},finalize:function(U){U&&this._append(U);var V=this._doFinalize();return V},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function U(V){return typeof V=="string"?L:R}return function(V){return{encrypt:function(G,W,X){return U(W).encrypt(V,G,W,X)},decrypt:function(G,W,X){return U(W).decrypt(V,G,W,X)}}}})()});s.StreamCipher=v.extend({_doFinalize:function(){var U=this._process(!0);return U},blockSize:1});var C=o.mode={},_=s.BlockCipherMode=l.extend({createEncryptor:function(U,V){return this.Encryptor.create(U,V)},createDecryptor:function(U,V){return this.Decryptor.create(U,V)},init:function(U,V){this._cipher=U,this._iv=V}}),S=C.CBC=(function(){var U=_.extend();U.Encryptor=U.extend({processBlock:function(G,W){var X=this._cipher,te=X.blockSize;V.call(this,G,W,te),X.encryptBlock(G,W),this._prevBlock=G.slice(W,W+te)}}),U.Decryptor=U.extend({processBlock:function(G,W){var X=this._cipher,te=X.blockSize,ne=G.slice(W,W+te);X.decryptBlock(G,W),V.call(this,G,W,te),this._prevBlock=ne}});function V(G,W,X){var te,ne=this._iv;ne?(te=ne,this._iv=r):te=this._prevBlock;for(var ae=0;ae<X;ae++)G[W+ae]^=te[ae]}return U})(),P=o.pad={},w=P.Pkcs7={pad:function(U,V){for(var G=V*4,W=G-U.sigBytes%G,X=W<<24|W<<16|W<<8|W,te=[],ne=0;ne<W;ne+=4)te.push(X);var ae=u.create(te,W);U.concat(ae)},unpad:function(U){var V=U.words[U.sigBytes-1>>>2]&255;U.sigBytes-=V}};s.BlockCipher=v.extend({cfg:v.cfg.extend({mode:S,padding:w}),reset:function(){var U;v.reset.call(this);var V=this.cfg,G=V.iv,W=V.mode;this._xformMode==this._ENC_XFORM_MODE?U=W.createEncryptor:(U=W.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==U?this._mode.init(this,G&&G.words):(this._mode=U.call(W,this,G&&G.words),this._mode.__creator=U)},_doProcessBlock:function(U,V){this._mode.processBlock(U,V)},_doFinalize:function(){var U,V=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(V.pad(this._data,this.blockSize),U=this._process(!0)):(U=this._process(!0),V.unpad(U)),U},blockSize:128/32});var A=s.CipherParams=l.extend({init:function(U){this.mixIn(U)},toString:function(U){return(U||this.formatter).stringify(this)}}),b=o.format={},D=b.OpenSSL={stringify:function(U){var V,G=U.ciphertext,W=U.salt;return W?V=u.create([1398893684,1701076831]).concat(W).concat(G):V=G,V.toString(f)},parse:function(U){var V,G=f.parse(U),W=G.words;return W[0]==1398893684&&W[1]==1701076831&&(V=u.create(W.slice(2,4)),W.splice(0,4),G.sigBytes-=16),A.create({ciphertext:G,salt:V})}},R=s.SerializableCipher=l.extend({cfg:l.extend({format:D}),encrypt:function(U,V,G,W){W=this.cfg.extend(W);var X=U.createEncryptor(G,W),te=X.finalize(V),ne=X.cfg;return A.create({ciphertext:te,key:G,iv:ne.iv,algorithm:U,mode:ne.mode,padding:ne.padding,blockSize:U.blockSize,formatter:W.format})},decrypt:function(U,V,G,W){W=this.cfg.extend(W),V=this._parse(V,W.format);var X=U.createDecryptor(G,W).finalize(V.ciphertext);return X},_parse:function(U,V){return typeof U=="string"?V.parse(U,this):U}}),N=o.kdf={},B=N.OpenSSL={execute:function(U,V,G,W,X){if(W||(W=u.random(64/8)),X)var te=m.create({keySize:V+G,hasher:X}).compute(U,W);else var te=m.create({keySize:V+G}).compute(U,W);var ne=u.create(te.words.slice(V),G*4);return te.sigBytes=V*4,A.create({key:te,iv:ne,salt:W})}},L=s.PasswordBasedCipher=R.extend({cfg:R.cfg.extend({kdf:B}),encrypt:function(U,V,G,W){W=this.cfg.extend(W);var X=W.kdf.execute(G,U.keySize,U.ivSize,W.salt,W.hasher);W.iv=X.iv;var te=R.encrypt.call(this,U,V,X.key,W);return te.mixIn(X),te},decrypt:function(U,V,G,W){W=this.cfg.extend(W),V=this._parse(V,W.format);var X=W.kdf.execute(G,U.keySize,U.ivSize,V.salt,W.hasher);W.iv=X.iv;var te=R.decrypt.call(this,U,V,X.key,W);return te}})})()})})(Td)),Td.exports}var Sd={exports:{}},KO=Sd.exports,w_;function YO(){return w_||(w_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Yt())})(KO,function(n){return n.mode.CFB=(function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,l){var u=this._cipher,d=u.blockSize;o.call(this,s,l,d,u),this._prevBlock=s.slice(l,l+d)}}),r.Decryptor=r.extend({processBlock:function(s,l){var u=this._cipher,d=u.blockSize,c=s.slice(l,l+d);o.call(this,s,l,d,u),this._prevBlock=c}});function o(s,l,u,d){var c,f=this._iv;f?(c=f.slice(0),this._iv=void 0):c=this._prevBlock,d.encryptBlock(c,0);for(var y=0;y<u;y++)s[l+y]^=c[y]}return r})(),n.mode.CFB})})(Sd)),Sd.exports}var Ad={exports:{}},JO=Ad.exports,T_;function jO(){return T_||(T_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Yt())})(JO,function(n){return n.mode.CTR=(function(){var r=n.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(s,l){var u=this._cipher,d=u.blockSize,c=this._iv,f=this._counter;c&&(f=this._counter=c.slice(0),this._iv=void 0);var y=f.slice(0);u.encryptBlock(y,0),f[d-1]=f[d-1]+1|0;for(var m=0;m<d;m++)s[l+m]^=y[m]}});return r.Decryptor=o,r})(),n.mode.CTR})})(Ad)),Ad.exports}var kd={exports:{}},ZO=kd.exports,S_;function XO(){return S_||(S_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Yt())})(ZO,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=(function(){var r=n.lib.BlockCipherMode.extend();function o(u){if((u>>24&255)===255){var d=u>>16&255,c=u>>8&255,f=u&255;d===255?(d=0,c===255?(c=0,f===255?f=0:++f):++c):++d,u=0,u+=d<<16,u+=c<<8,u+=f}else u+=1<<24;return u}function s(u){return(u[0]=o(u[0]))===0&&(u[1]=o(u[1])),u}var l=r.Encryptor=r.extend({processBlock:function(u,d){var c=this._cipher,f=c.blockSize,y=this._iv,m=this._counter;y&&(m=this._counter=y.slice(0),this._iv=void 0),s(m);var v=m.slice(0);c.encryptBlock(v,0);for(var C=0;C<f;C++)u[d+C]^=v[C]}});return r.Decryptor=l,r})(),n.mode.CTRGladman})})(kd)),kd.exports}var bd={exports:{}},QO=bd.exports,A_;function eV(){return A_||(A_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Yt())})(QO,function(n){return n.mode.OFB=(function(){var r=n.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(s,l){var u=this._cipher,d=u.blockSize,c=this._iv,f=this._keystream;c&&(f=this._keystream=c.slice(0),this._iv=void 0),u.encryptBlock(f,0);for(var y=0;y<d;y++)s[l+y]^=f[y]}});return r.Decryptor=o,r})(),n.mode.OFB})})(bd)),bd.exports}var Pd={exports:{}},tV=Pd.exports,k_;function nV(){return k_||(k_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Yt())})(tV,function(n){return n.mode.ECB=(function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(o,s){this._cipher.encryptBlock(o,s)}}),r.Decryptor=r.extend({processBlock:function(o,s){this._cipher.decryptBlock(o,s)}}),r})(),n.mode.ECB})})(Pd)),Pd.exports}var Id={exports:{}},rV=Id.exports,b_;function oV(){return b_||(b_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Yt())})(rV,function(n){return n.pad.AnsiX923={pad:function(r,o){var s=r.sigBytes,l=o*4,u=l-s%l,d=s+u-1;r.clamp(),r.words[d>>>2]|=u<<24-d%4*8,r.sigBytes+=u},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},n.pad.Ansix923})})(Id)),Id.exports}var Dd={exports:{}},iV=Dd.exports,P_;function sV(){return P_||(P_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Yt())})(iV,function(n){return n.pad.Iso10126={pad:function(r,o){var s=o*4,l=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(l-1)).concat(n.lib.WordArray.create([l<<24],1))},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},n.pad.Iso10126})})(Dd)),Dd.exports}var Rd={exports:{}},aV=Rd.exports,I_;function lV(){return I_||(I_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Yt())})(aV,function(n){return n.pad.Iso97971={pad:function(r,o){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,o)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})})(Rd)),Rd.exports}var Nd={exports:{}},uV=Nd.exports,D_;function cV(){return D_||(D_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Yt())})(uV,function(n){return n.pad.ZeroPadding={pad:function(r,o){var s=o*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var o=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(o[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})})(Nd)),Nd.exports}var Md={exports:{}},dV=Md.exports,R_;function fV(){return R_||(R_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Yt())})(dV,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})})(Md)),Md.exports}var Fd={exports:{}},pV=Fd.exports,N_;function hV(){return N_||(N_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Yt())})(pV,function(n){return(function(r){var o=n,s=o.lib,l=s.CipherParams,u=o.enc,d=u.Hex,c=o.format;c.Hex={stringify:function(f){return f.ciphertext.toString(d)},parse:function(f){var y=d.parse(f);return l.create({ciphertext:y})}}})(),n.format.Hex})})(Fd)),Fd.exports}var Bd={exports:{}},mV=Bd.exports,M_;function gV(){return M_||(M_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),as(),ls(),xi(),Yt())})(mV,function(n){return(function(){var r=n,o=r.lib,s=o.BlockCipher,l=r.algo,u=[],d=[],c=[],f=[],y=[],m=[],v=[],C=[],_=[],S=[];(function(){for(var A=[],b=0;b<256;b++)b<128?A[b]=b<<1:A[b]=b<<1^283;for(var D=0,R=0,b=0;b<256;b++){var N=R^R<<1^R<<2^R<<3^R<<4;N=N>>>8^N&255^99,u[D]=N,d[N]=D;var B=A[D],L=A[B],U=A[L],V=A[N]*257^N*16843008;c[D]=V<<24|V>>>8,f[D]=V<<16|V>>>16,y[D]=V<<8|V>>>24,m[D]=V;var V=U*16843009^L*65537^B*257^D*16843008;v[N]=V<<24|V>>>8,C[N]=V<<16|V>>>16,_[N]=V<<8|V>>>24,S[N]=V,D?(D=B^A[A[A[U^B]]],R^=A[A[R]]):D=R=1}})();var P=[0,1,2,4,8,16,32,64,128,27,54],w=l.AES=s.extend({_doReset:function(){var A;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var b=this._keyPriorReset=this._key,D=b.words,R=b.sigBytes/4,N=this._nRounds=R+6,B=(N+1)*4,L=this._keySchedule=[],U=0;U<B;U++)U<R?L[U]=D[U]:(A=L[U-1],U%R?R>6&&U%R==4&&(A=u[A>>>24]<<24|u[A>>>16&255]<<16|u[A>>>8&255]<<8|u[A&255]):(A=A<<8|A>>>24,A=u[A>>>24]<<24|u[A>>>16&255]<<16|u[A>>>8&255]<<8|u[A&255],A^=P[U/R|0]<<24),L[U]=L[U-R]^A);for(var V=this._invKeySchedule=[],G=0;G<B;G++){var U=B-G;if(G%4)var A=L[U];else var A=L[U-4];G<4||U<=4?V[G]=A:V[G]=v[u[A>>>24]]^C[u[A>>>16&255]]^_[u[A>>>8&255]]^S[u[A&255]]}}},encryptBlock:function(A,b){this._doCryptBlock(A,b,this._keySchedule,c,f,y,m,u)},decryptBlock:function(A,b){var D=A[b+1];A[b+1]=A[b+3],A[b+3]=D,this._doCryptBlock(A,b,this._invKeySchedule,v,C,_,S,d);var D=A[b+1];A[b+1]=A[b+3],A[b+3]=D},_doCryptBlock:function(A,b,D,R,N,B,L,U){for(var V=this._nRounds,G=A[b]^D[0],W=A[b+1]^D[1],X=A[b+2]^D[2],te=A[b+3]^D[3],ne=4,ae=1;ae<V;ae++){var j=R[G>>>24]^N[W>>>16&255]^B[X>>>8&255]^L[te&255]^D[ne++],re=R[W>>>24]^N[X>>>16&255]^B[te>>>8&255]^L[G&255]^D[ne++],ee=R[X>>>24]^N[te>>>16&255]^B[G>>>8&255]^L[W&255]^D[ne++],M=R[te>>>24]^N[G>>>16&255]^B[W>>>8&255]^L[X&255]^D[ne++];G=j,W=re,X=ee,te=M}var j=(U[G>>>24]<<24|U[W>>>16&255]<<16|U[X>>>8&255]<<8|U[te&255])^D[ne++],re=(U[W>>>24]<<24|U[X>>>16&255]<<16|U[te>>>8&255]<<8|U[G&255])^D[ne++],ee=(U[X>>>24]<<24|U[te>>>16&255]<<16|U[G>>>8&255]<<8|U[W&255])^D[ne++],M=(U[te>>>24]<<24|U[G>>>16&255]<<16|U[W>>>8&255]<<8|U[X&255])^D[ne++];A[b]=j,A[b+1]=re,A[b+2]=ee,A[b+3]=M},keySize:256/32});r.AES=s._createHelper(w)})(),n.AES})})(Bd)),Bd.exports}var Ld={exports:{}},yV=Ld.exports,F_;function xV(){return F_||(F_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),as(),ls(),xi(),Yt())})(yV,function(n){return(function(){var r=n,o=r.lib,s=o.WordArray,l=o.BlockCipher,u=r.algo,d=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],y=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],m=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],v=u.DES=l.extend({_doReset:function(){for(var P=this._key,w=P.words,A=[],b=0;b<56;b++){var D=d[b]-1;A[b]=w[D>>>5]>>>31-D%32&1}for(var R=this._subKeys=[],N=0;N<16;N++){for(var B=R[N]=[],L=f[N],b=0;b<24;b++)B[b/6|0]|=A[(c[b]-1+L)%28]<<31-b%6,B[4+(b/6|0)]|=A[28+(c[b+24]-1+L)%28]<<31-b%6;B[0]=B[0]<<1|B[0]>>>31;for(var b=1;b<7;b++)B[b]=B[b]>>>(b-1)*4+3;B[7]=B[7]<<5|B[7]>>>27}for(var U=this._invSubKeys=[],b=0;b<16;b++)U[b]=R[15-b]},encryptBlock:function(P,w){this._doCryptBlock(P,w,this._subKeys)},decryptBlock:function(P,w){this._doCryptBlock(P,w,this._invSubKeys)},_doCryptBlock:function(P,w,A){this._lBlock=P[w],this._rBlock=P[w+1],C.call(this,4,252645135),C.call(this,16,65535),_.call(this,2,858993459),_.call(this,8,16711935),C.call(this,1,1431655765);for(var b=0;b<16;b++){for(var D=A[b],R=this._lBlock,N=this._rBlock,B=0,L=0;L<8;L++)B|=y[L][((N^D[L])&m[L])>>>0];this._lBlock=N,this._rBlock=R^B}var U=this._lBlock;this._lBlock=this._rBlock,this._rBlock=U,C.call(this,1,1431655765),_.call(this,8,16711935),_.call(this,2,858993459),C.call(this,16,65535),C.call(this,4,252645135),P[w]=this._lBlock,P[w+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function C(P,w){var A=(this._lBlock>>>P^this._rBlock)&w;this._rBlock^=A,this._lBlock^=A<<P}function _(P,w){var A=(this._rBlock>>>P^this._lBlock)&w;this._lBlock^=A,this._rBlock^=A<<P}r.DES=l._createHelper(v);var S=u.TripleDES=l.extend({_doReset:function(){var P=this._key,w=P.words;if(w.length!==2&&w.length!==4&&w.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var A=w.slice(0,2),b=w.length<4?w.slice(0,2):w.slice(2,4),D=w.length<6?w.slice(0,2):w.slice(4,6);this._des1=v.createEncryptor(s.create(A)),this._des2=v.createEncryptor(s.create(b)),this._des3=v.createEncryptor(s.create(D))},encryptBlock:function(P,w){this._des1.encryptBlock(P,w),this._des2.decryptBlock(P,w),this._des3.encryptBlock(P,w)},decryptBlock:function(P,w){this._des3.decryptBlock(P,w),this._des2.encryptBlock(P,w),this._des1.decryptBlock(P,w)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=l._createHelper(S)})(),n.TripleDES})})(Ld)),Ld.exports}var Ud={exports:{}},vV=Ud.exports,B_;function EV(){return B_||(B_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),as(),ls(),xi(),Yt())})(vV,function(n){return(function(){var r=n,o=r.lib,s=o.StreamCipher,l=r.algo,u=l.RC4=s.extend({_doReset:function(){for(var f=this._key,y=f.words,m=f.sigBytes,v=this._S=[],C=0;C<256;C++)v[C]=C;for(var C=0,_=0;C<256;C++){var S=C%m,P=y[S>>>2]>>>24-S%4*8&255;_=(_+v[C]+P)%256;var w=v[C];v[C]=v[_],v[_]=w}this._i=this._j=0},_doProcessBlock:function(f,y){f[y]^=d.call(this)},keySize:256/32,ivSize:0});function d(){for(var f=this._S,y=this._i,m=this._j,v=0,C=0;C<4;C++){y=(y+1)%256,m=(m+f[y])%256;var _=f[y];f[y]=f[m],f[m]=_,v|=f[(f[y]+f[m])%256]<<24-C*8}return this._i=y,this._j=m,v}r.RC4=s._createHelper(u);var c=l.RC4Drop=u.extend({cfg:u.cfg.extend({drop:192}),_doReset:function(){u._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)d.call(this)}});r.RC4Drop=s._createHelper(c)})(),n.RC4})})(Ud)),Ud.exports}var Od={exports:{}},CV=Od.exports,L_;function _V(){return L_||(L_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),as(),ls(),xi(),Yt())})(CV,function(n){return(function(){var r=n,o=r.lib,s=o.StreamCipher,l=r.algo,u=[],d=[],c=[],f=l.Rabbit=s.extend({_doReset:function(){for(var m=this._key.words,v=this.cfg.iv,C=0;C<4;C++)m[C]=(m[C]<<8|m[C]>>>24)&16711935|(m[C]<<24|m[C]>>>8)&4278255360;var _=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],S=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var C=0;C<4;C++)y.call(this);for(var C=0;C<8;C++)S[C]^=_[C+4&7];if(v){var P=v.words,w=P[0],A=P[1],b=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,D=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,R=b>>>16|D&4294901760,N=D<<16|b&65535;S[0]^=b,S[1]^=R,S[2]^=D,S[3]^=N,S[4]^=b,S[5]^=R,S[6]^=D,S[7]^=N;for(var C=0;C<4;C++)y.call(this)}},_doProcessBlock:function(m,v){var C=this._X;y.call(this),u[0]=C[0]^C[5]>>>16^C[3]<<16,u[1]=C[2]^C[7]>>>16^C[5]<<16,u[2]=C[4]^C[1]>>>16^C[7]<<16,u[3]=C[6]^C[3]>>>16^C[1]<<16;for(var _=0;_<4;_++)u[_]=(u[_]<<8|u[_]>>>24)&16711935|(u[_]<<24|u[_]>>>8)&4278255360,m[v+_]^=u[_]},blockSize:128/32,ivSize:64/32});function y(){for(var m=this._X,v=this._C,C=0;C<8;C++)d[C]=v[C];v[0]=v[0]+1295307597+this._b|0,v[1]=v[1]+3545052371+(v[0]>>>0<d[0]>>>0?1:0)|0,v[2]=v[2]+886263092+(v[1]>>>0<d[1]>>>0?1:0)|0,v[3]=v[3]+1295307597+(v[2]>>>0<d[2]>>>0?1:0)|0,v[4]=v[4]+3545052371+(v[3]>>>0<d[3]>>>0?1:0)|0,v[5]=v[5]+886263092+(v[4]>>>0<d[4]>>>0?1:0)|0,v[6]=v[6]+1295307597+(v[5]>>>0<d[5]>>>0?1:0)|0,v[7]=v[7]+3545052371+(v[6]>>>0<d[6]>>>0?1:0)|0,this._b=v[7]>>>0<d[7]>>>0?1:0;for(var C=0;C<8;C++){var _=m[C]+v[C],S=_&65535,P=_>>>16,w=((S*S>>>17)+S*P>>>15)+P*P,A=((_&4294901760)*_|0)+((_&65535)*_|0);c[C]=w^A}m[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,m[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,m[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,m[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,m[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,m[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,m[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,m[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=s._createHelper(f)})(),n.Rabbit})})(Od)),Od.exports}var Vd={exports:{}},wV=Vd.exports,U_;function TV(){return U_||(U_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),as(),ls(),xi(),Yt())})(wV,function(n){return(function(){var r=n,o=r.lib,s=o.StreamCipher,l=r.algo,u=[],d=[],c=[],f=l.RabbitLegacy=s.extend({_doReset:function(){var m=this._key.words,v=this.cfg.iv,C=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],_=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var S=0;S<4;S++)y.call(this);for(var S=0;S<8;S++)_[S]^=C[S+4&7];if(v){var P=v.words,w=P[0],A=P[1],b=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,D=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,R=b>>>16|D&4294901760,N=D<<16|b&65535;_[0]^=b,_[1]^=R,_[2]^=D,_[3]^=N,_[4]^=b,_[5]^=R,_[6]^=D,_[7]^=N;for(var S=0;S<4;S++)y.call(this)}},_doProcessBlock:function(m,v){var C=this._X;y.call(this),u[0]=C[0]^C[5]>>>16^C[3]<<16,u[1]=C[2]^C[7]>>>16^C[5]<<16,u[2]=C[4]^C[1]>>>16^C[7]<<16,u[3]=C[6]^C[3]>>>16^C[1]<<16;for(var _=0;_<4;_++)u[_]=(u[_]<<8|u[_]>>>24)&16711935|(u[_]<<24|u[_]>>>8)&4278255360,m[v+_]^=u[_]},blockSize:128/32,ivSize:64/32});function y(){for(var m=this._X,v=this._C,C=0;C<8;C++)d[C]=v[C];v[0]=v[0]+1295307597+this._b|0,v[1]=v[1]+3545052371+(v[0]>>>0<d[0]>>>0?1:0)|0,v[2]=v[2]+886263092+(v[1]>>>0<d[1]>>>0?1:0)|0,v[3]=v[3]+1295307597+(v[2]>>>0<d[2]>>>0?1:0)|0,v[4]=v[4]+3545052371+(v[3]>>>0<d[3]>>>0?1:0)|0,v[5]=v[5]+886263092+(v[4]>>>0<d[4]>>>0?1:0)|0,v[6]=v[6]+1295307597+(v[5]>>>0<d[5]>>>0?1:0)|0,v[7]=v[7]+3545052371+(v[6]>>>0<d[6]>>>0?1:0)|0,this._b=v[7]>>>0<d[7]>>>0?1:0;for(var C=0;C<8;C++){var _=m[C]+v[C],S=_&65535,P=_>>>16,w=((S*S>>>17)+S*P>>>15)+P*P,A=((_&4294901760)*_|0)+((_&65535)*_|0);c[C]=w^A}m[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,m[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,m[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,m[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,m[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,m[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,m[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,m[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=s._createHelper(f)})(),n.RabbitLegacy})})(Vd)),Vd.exports}var $d={exports:{}},SV=$d.exports,O_;function AV(){return O_||(O_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),as(),ls(),xi(),Yt())})(SV,function(n){return(function(){var r=n,o=r.lib,s=o.BlockCipher,l=r.algo;const u=16,d=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function y(S,P){let w=P>>24&255,A=P>>16&255,b=P>>8&255,D=P&255,R=S.sbox[0][w]+S.sbox[1][A];return R=R^S.sbox[2][b],R=R+S.sbox[3][D],R}function m(S,P,w){let A=P,b=w,D;for(let R=0;R<u;++R)A=A^S.pbox[R],b=y(S,A)^b,D=A,A=b,b=D;return D=A,A=b,b=D,b=b^S.pbox[u],A=A^S.pbox[u+1],{left:A,right:b}}function v(S,P,w){let A=P,b=w,D;for(let R=u+1;R>1;--R)A=A^S.pbox[R],b=y(S,A)^b,D=A,A=b,b=D;return D=A,A=b,b=D,b=b^S.pbox[1],A=A^S.pbox[0],{left:A,right:b}}function C(S,P,w){for(let N=0;N<4;N++){S.sbox[N]=[];for(let B=0;B<256;B++)S.sbox[N][B]=c[N][B]}let A=0;for(let N=0;N<u+2;N++)S.pbox[N]=d[N]^P[A],A++,A>=w&&(A=0);let b=0,D=0,R=0;for(let N=0;N<u+2;N+=2)R=m(S,b,D),b=R.left,D=R.right,S.pbox[N]=b,S.pbox[N+1]=D;for(let N=0;N<4;N++)for(let B=0;B<256;B+=2)R=m(S,b,D),b=R.left,D=R.right,S.sbox[N][B]=b,S.sbox[N][B+1]=D;return!0}var _=l.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var S=this._keyPriorReset=this._key,P=S.words,w=S.sigBytes/4;C(f,P,w)}},encryptBlock:function(S,P){var w=m(f,S[P],S[P+1]);S[P]=w.left,S[P+1]=w.right},decryptBlock:function(S,P){var w=v(f,S[P],S[P+1]);S[P]=w.left,S[P+1]=w.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(_)})(),n.Blowfish})})($d)),$d.exports}var kV=sd.exports,V_;function bV(){return V_||(V_=1,(function(t,e){(function(n,r,o){t.exports=r(qe(),Zf(),TO(),AO(),as(),PO(),ls(),_A(),Og(),MO(),wA(),LO(),OO(),$O(),Vg(),qO(),xi(),Yt(),YO(),jO(),XO(),eV(),nV(),oV(),sV(),lV(),cV(),fV(),hV(),gV(),xV(),EV(),_V(),TV(),AV())})(kV,function(n){return n})})(sd)),sd.exports}var PV=bV();const Im=ca(PV),TA="devprompt-studio-key",xh=t=>Im.AES.encrypt(t,TA).toString(),SA=t=>{try{return Im.AES.decrypt(t,TA).toString(Im.enc.Utf8)}catch{return""}},vh=async t=>{try{const e=SA(t.apiKey);if(!e)return!1;switch(t.type){case"openai":return e.startsWith("sk-");case"anthropic":return e.startsWith("sk-ant-");case"google":return e.length>20;case"custom":return e.length>0;default:return!1}}catch{return!1}};tr()(zr((t,e)=>({providers:[],activeProvider:null,addProvider:async n=>{const r=xh(n.apiKey),o={...n,id:`provider_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,apiKey:r,createdAt:Date.now(),validationStatus:"pending"};t(l=>{const u=[...l.providers,o];return u.length===1&&!n.isDefault&&(o.isDefault=!0),{providers:u}});const s=await vh(o);await e().updateProvider(o.id,{validationStatus:s?"valid":"invalid",lastValidated:Date.now()})},updateProvider:async(n,r)=>{if(t(o=>{const s={...r};return r.apiKey&&(s.apiKey=xh(r.apiKey),s.validationStatus="pending"),{providers:o.providers.map(l=>l.id===n?{...l,...s}:l)}}),r.apiKey){const o=e().providers.find(s=>s.id===n);if(o){const s=await vh(o);t(l=>({providers:l.providers.map(u=>u.id===n?{...u,validationStatus:s?"valid":"invalid",lastValidated:Date.now()}:u)}))}}},removeProvider:async n=>{t(r=>{var l;const o=r.providers.filter(u=>u.id!==n),s=r.providers.find(u=>u.id===n);return s!=null&&s.isDefault&&o.length>0&&(o[0].isDefault=!0),{providers:o,activeProvider:r.activeProvider===n?((l=o[0])==null?void 0:l.id)||null:r.activeProvider}})},setActiveProvider:n=>t({activeProvider:n}),validateApiKey:async n=>{const r=e().providers.find(s=>s.id===n);if(!r)return!1;const o=await vh(r);return t(s=>({providers:s.providers.map(l=>l.id===n?{...l,validationStatus:o?"valid":"invalid",lastValidated:Date.now()}:l)})),o},encryptApiKey:xh,decryptApiKey:SA,getActiveProvider:()=>{const n=e();return n.providers.find(r=>r.id===n.activeProvider)||n.providers.find(r=>r.isDefault)||n.providers[0]||null},setDefaultProvider:n=>{t(r=>({providers:r.providers.map(o=>({...o,isDefault:o.id===n}))}))}}),{name:"ai-provider-store"}));tr()(zr((t,e)=>({analytics:[],trackUsage:(n,r,o)=>t(s=>{const l=s.analytics.find(u=>u.promptId===n);if(l){const u=l.usageCount+1,d=(l.successRate*l.usageCount+(o?1:0))/u,c=(l.avgResponseTime*l.usageCount+r)/u;return{analytics:s.analytics.map(f=>f.promptId===n?{...f,usageCount:u,successRate:d,avgResponseTime:c,lastUsed:Date.now()}:f)}}return{analytics:[...s.analytics,{id:Date.now(),promptId:n,usageCount:1,successRate:o?1:0,avgResponseTime:r,lastUsed:Date.now()}]}}),getAnalytics:n=>e().analytics.find(r=>r.promptId===n),getAllAnalytics:()=>e().analytics}),{name:"analytics-store"}));tr()(zr(t=>({chains:[],variables:{},syntaxHighlighting:!0,selectedLanguage:"plaintext",autoCompletion:!0,lineNumbers:!0,wordWrap:!0,fontSize:14,tabSize:2,addChain:e=>t(n=>({chains:[...n.chains,{...e,id:Date.now(),createdAt:Date.now()}]})),removeChain:e=>t(n=>({chains:n.chains.filter(r=>r.id!==e)})),setVariable:(e,n)=>t(r=>({variables:{...r.variables,[e]:n}})),clearVariables:()=>t({variables:{}}),setSyntaxHighlighting:e=>t({syntaxHighlighting:e}),setSelectedLanguage:e=>t({selectedLanguage:e}),setAutoCompletion:e=>t({autoCompletion:e}),setLineNumbers:e=>t({lineNumbers:e}),setWordWrap:e=>t({wordWrap:e}),setFontSize:e=>t({fontSize:e}),setTabSize:e=>t({tabSize:e})}),{name:"editor-store"}));tr()(zr(t=>({themes:[],language:"en",addTheme:e=>t(n=>({themes:[...n.themes,{...e,id:Date.now()}]})),activateTheme:e=>t(n=>({themes:n.themes.map(r=>({...r,isActive:r.id===e}))})),removeTheme:e=>t(n=>({themes:n.themes.filter(r=>r.id!==e)})),setLanguage:e=>t({language:e})}),{name:"customization-store"}));tr()(zr(t=>({workspaces:[],activeWorkspace:null,addWorkspace:e=>t(n=>({workspaces:[...n.workspaces,{...e,id:Date.now(),createdAt:Date.now(),updatedAt:Date.now()}]})),updateWorkspace:(e,n)=>t(r=>({workspaces:r.workspaces.map(o=>o.id===e?{...o,...n,updatedAt:Date.now()}:o)})),removeWorkspace:e=>t(n=>({workspaces:n.workspaces.filter(r=>r.id!==e)})),setActiveWorkspace:e=>t({activeWorkspace:e})}),{name:"collaboration-store"}));const IV=F.lazy(()=>na(()=>import("./FeedbackModal-xh9suHLh.js"),[]).then(t=>({default:t.FeedbackModal}))),DV=F.lazy(()=>na(()=>import("./RecoveryModal-D3iyzcyE.js"),__vite__mapDeps([0,1])).then(t=>({default:t.RecoveryModal}))),$_=F.lazy(()=>na(()=>import("./HistorySidebar-DOjxtKhA.js"),__vite__mapDeps([2,1])));F.lazy(()=>na(()=>Promise.resolve().then(()=>IP),void 0).then(t=>({default:t.ApiKeyManager})));const RV=()=>{const{isMobileHistoryOpen:t,isTemplateModalOpen:e,templateModalMode:n,editingTemplateId:r,templateFormData:o,isFeedbackOpen:s,isReadOnly:l,isBooting:u,setMobileHistoryOpen:d,setTemplateModalOpen:c,setTemplateModalMode:f,setEditingTemplateId:y,setTemplateFormData:m,setFeedbackOpen:v,setReadOnly:C,setBooting:_}=hO(),{input:S,options:P,enhancedPrompt:w,originalPrompt:A,isLoading:b,recoveryDraft:D,setInput:R,setOptions:N,setEnhancedPrompt:B,setOriginalPrompt:L,setLoading:U,setRecoveryDraft:V,resetPrompts:G}=mO(),{history:W,savedProjects:X,customTemplates:te,addHistoryItem:ne,clearHistory:ae,addSavedProject:j,deleteSavedProject:re,addCustomTemplate:ee,updateCustomTemplate:M,deleteCustomTemplate:$}=gO(),{status:Y,lastSaved:Z}=nO(S,P),[ce,he]=F.useState("");rO([{key:"e",ctrl:!0,description:"Enhance prompt",action:()=>!b&&S.trim()&&pe()},{key:"s",ctrl:!0,description:"Save project",action:()=>S.trim()&&It()}]),F.useEffect(()=>{lO(console.log)},[]),F.useEffect(()=>{const ue=ze=>{if((ze.metaKey||ze.ctrlKey)&&ze.key==="k"){ze.preventDefault();const kt=document.getElementById("main-input");kt&&kt.focus()}};return window.addEventListener("keydown",ue),()=>window.removeEventListener("keydown",ue)},[]),F.useEffect(()=>{const ue=setTimeout(()=>{_(!1)},1500);return()=>clearTimeout(ue)},[_]),F.useEffect(()=>{const ze=new URLSearchParams(window.location.search).get("share");if(ze){const kt=eU(ze);kt&&(R(kt.input),N({...kt.options,targetTool:kt.options.targetTool||"general"}),B(kt.enhancedPrompt),L(kt.originalPrompt),C(!0),St("Loaded shared prompt",{icon:""}))}else Ae()},[R,N,B,L,C]);const Ae=async()=>{try{const ue=await vl.drafts.orderBy("timestamp").last();ue&&ue.input.trim().length>0&&Date.now()-ue.timestamp<864e5&&V(ue)}catch(ue){console.error("Failed to check recovery",ue)}},pe=F.useCallback(async()=>{if(!S.trim()){zi("Please enter a prompt first.");return}U(!0),L(S),B("");const ue=performance.now(),ze=6e4,kt=new Promise((rt,pt)=>setTimeout(()=>pt(new Error("Request timed out. The model is taking too long.")),ze)),Sr=rU(async()=>{let rt="";const pt=X9(S,P,"gemini");for await(const nr of pt)rt+=nr,B(rt);if(!rt)throw new Error("No content generated.");const tn={id:crypto.randomUUID(),original:S,enhanced:rt,timestamp:Date.now(),domain:P.domain,mode:P.mode};ne(tn),he(`${P.mode===Xt.OUTLINE?"Outline":"Prompt"} generated successfully`)},{maxAttempts:3,delay:1e3,backoff:!0});Promise.race([Sr,kt]).then(()=>{const pt=performance.now()-ue;console.log(` Enhancement completed in ${pt.toFixed(2)}ms`),ct(P.mode===Xt.OUTLINE?"Outline generated!":"Prompt enhanced!")}).catch(rt=>{const pt=tU("App","handleEnhance");oU(rt,pt);const tn=nU(rt);rt.name==="RateLimitError"||rt.message.includes("429")||rt.name==="APIError"||rt.message.includes("500")||rt.message.includes("503")?Nv(tn,pe):zi(tn)}).finally(()=>{U(!1)})},[S,P,U,L,B,ne,he]),Be=F.useCallback(ue=>{R(ue),G(),ct("Output chained to input. Ready for next step."),he("Output chained to input for next enhancement"),window.scrollTo({top:0,behavior:"smooth"})},[R,G,he]),Ge=F.useCallback(()=>{if(!w)return;const ue=Q9({input:S,options:P,enhancedPrompt:w,originalPrompt:A});navigator.clipboard.writeText(ue),ct("Share link copied to clipboard!")},[w,S,P,A]),nt=F.useCallback(()=>{C(!1);const ue=new URL(window.location.href);ue.searchParams.delete("share"),window.history.replaceState({},"",ue),ct("Mode switched to Editing")},[C]),It=F.useCallback(()=>{const ue=window.prompt("Enter a name for this project:","My Project");if(!ue)return;const ze={id:crypto.randomUUID(),name:ue,input:S,options:P,timestamp:Date.now()};j(ze),ct(`Project "${ue}" saved!`)},[S,P,j]),je=ue=>{window.confirm("Load this project? Current unsaved work will be replaced.")&&(R(ue.input),N({...ue.options,targetTool:ue.options.targetTool||"general"}),G(),d(!1),l&&nt(),ct(`Loaded project "${ue.name}"`))},et=ue=>{window.confirm("Are you sure you want to delete this project?")&&(re(ue),ct("Project deleted"))},at=()=>{f("create");let ue=P.domain;const ze=S.toLowerCase();ze.match(/react|vue|angular|css|html|tailwind|frontend|ui|ux|web/)?ue=Ze.FRONTEND:ze.match(/node|express|api|sql|db|database|auth|backend|server|endpoint/)?ue=Ze.BACKEND:ze.match(/ios|android|react native|flutter|mobile|swift|kotlin/)?ue=Ze.MOBILE:ze.match(/docker|kubernetes|aws|ci\/cd|pipeline|cloud|terraform|deploy|azure/)?ue=Ze.DEVOPS:ze.match(/design|figma|color|typography|wireframe|layout/)&&(ue=Ze.UI_UX),m({name:"",text:S,domain:ue}),c(!0)},$t=ue=>{f("edit"),y(ue.id),m({name:ue.name,text:ue.text,domain:ue.domain}),c(!0)},Qt=()=>{if(!o.name.trim()||!o.text.trim()){zi("Name and content are required.");return}if(n==="create"){const ue={id:crypto.randomUUID(),name:o.name,text:o.text,domain:o.domain,timestamp:Date.now()};ee(ue),ct(`Template "${o.name}" created!`)}else r&&M(r,{name:o.name,text:o.text,domain:o.domain}),ct(`Template "${o.name}" updated!`);c(!1),y(null)},Dt=ue=>{S.trim().length>0&&!window.confirm("Replace current input text with this template?")||(R(ue.text),N({domain:ue.domain}),d(!1),l&&nt(),ct(`Applied template: ${ue.name}`))},Jt=ue=>{window.confirm("Delete this template?")&&($(ue),ct("Template deleted"))},At=ue=>{R(ue.original),L(ue.original),B(ue.enhanced),N({domain:ue.domain}),d(!1),l&&nt(),ct("Restored history item")},Xe=()=>{window.confirm("Clear all history?")&&(ae(),ct("History cleared"))},Ct=()=>{const ue=Hh[Math.floor(Math.random()*Hh.length)];ue&&(R(ue.text),N({domain:ue.domain}),d(!1),ct(`Loaded example: ${ue.label}`))},en=()=>{d(!1);const ue=document.getElementById("main-input");ue&&(ue.focus(),S.trim()?It():St("Start typing your prompt to create a project",{icon:""}))},In=()=>{D&&(R(D.input),N(D.options),ct("Session restored!")),V(null)},Dn=()=>{V(null)};return k.jsx(sU,{children:k.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 flex flex-col font-sans selection:bg-blue-500/30 selection:text-blue-200",children:[k.jsx(PP,{}),k.jsx(pO,{message:ce,priority:"polite"}),k.jsxs(F.Suspense,{fallback:null,children:[D&&k.jsx(DV,{draft:D,onRestore:In,onDiscard:Dn}),k.jsx(IV,{isOpen:s,onClose:()=>v(!1)})]}),k.jsx(fO,{isBooting:u}),k.jsx("a",{href:"#main-input",className:"skip-link",children:"Skip to main content"}),k.jsx(ow,{onFeedback:()=>v(!0)}),l&&k.jsx("div",{className:"bg-blue-900/20 border-b border-blue-500/20 py-3 px-4",children:k.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between flex-wrap gap-2",children:[k.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[k.jsx(q_,{className:"w-4 h-4"}),k.jsx("span",{className:"text-sm font-medium",children:"Viewing Shared Prompt (Read Only)"})]}),k.jsxs("button",{onClick:nt,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold px-3 py-2 min-h-[44px] rounded-lg transition-colors focus:ring-2 focus:ring-offset-1 focus:ring-offset-slate-900 focus:ring-blue-500 outline-none","aria-label":"Make editable copy of this prompt",children:[k.jsx(Qk,{className:"w-3.5 h-3.5"}),"Make Editable Copy"]})]})}),k.jsxs("main",{className:"flex-1 max-w-[1920px] w-full mx-auto px-3 sm:px-4 lg:px-6 py-4 lg:py-6 flex flex-col lg:flex-row gap-4 lg:gap-5 relative",children:[k.jsx("button",{onClick:()=>d(!0),className:"lg:hidden fixed top-20 right-4 z-40 p-3 min-w-[44px] min-h-[44px] bg-slate-800 text-slate-300 hover:text-white hover:bg-slate-700 focus:ring-2 focus:ring-blue-500 rounded-lg flex items-center justify-center shadow-lg border border-slate-700","aria-label":"Open history sidebar",children:k.jsx(jk,{className:"w-6 h-6"})}),k.jsx("div",{className:"flex-1 w-full lg:max-w-[45%] h-[calc(100vh-120px)] min-h-[400px]",children:k.jsx(F8,{input:S,setInput:R,options:P,setOptions:N,onEnhance:pe,onSave:It,onSaveTemplate:at,isLoading:b,isBooting:u,readOnly:l,saveStatus:Y,lastSaved:Z})}),k.jsx("div",{className:"flex-1 w-full lg:max-w-[45%] h-[calc(100vh-120px)] min-h-[400px]",children:k.jsx(d5,{enhancedPrompt:w,originalPrompt:A,options:P,onShare:Ge,onChainPrompt:Be,isLoading:b})}),k.jsx("div",{className:"hidden lg:block w-80 xl:w-96 h-[calc(100vh-120px)] flex-shrink-0",children:k.jsx("div",{className:"h-full bg-slate-800 border border-slate-700 rounded-xl overflow-hidden shadow-lg",children:k.jsx(F.Suspense,{fallback:k.jsxs("div",{className:"p-4 animate-pulse",children:[k.jsx("div",{className:"h-4 bg-slate-600 rounded mb-2"}),k.jsx("div",{className:"h-4 bg-slate-600 rounded w-3/4"})]}),children:k.jsx($_,{history:W,savedProjects:X,customTemplates:te,onSelectHistory:At,onSelectProject:je,onDeleteProject:et,onSelectTemplate:Dt,onEditTemplate:$t,onCreateTemplate:at,onDeleteTemplate:Jt,onClearHistory:Xe,onLoadExample:Ct,onStartProject:en})})})}),t&&k.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden flex",role:"dialog","aria-modal":"true","aria-label":"History Sidebar",children:[k.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>d(!1)}),k.jsxs("div",{className:"relative w-80 max-w-[85%] h-full bg-slate-800 border-r border-slate-700 shadow-2xl animate-in slide-in-from-left duration-200",children:[k.jsx("div",{className:"p-4 flex justify-end border-b border-slate-700",children:k.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-white focus:ring-2 focus:ring-blue-500 rounded-lg p-2 min-w-[44px] min-h-[44px] flex items-center justify-center bg-slate-700 hover:bg-slate-600","aria-label":"Close sidebar",children:k.jsx(Rl,{className:"w-6 h-6"})})}),k.jsx(F.Suspense,{fallback:k.jsxs("div",{className:"p-4 animate-pulse",children:[k.jsx("div",{className:"h-4 bg-slate-700 rounded mb-2"}),k.jsx("div",{className:"h-4 bg-slate-700 rounded w-3/4"})]}),children:k.jsx($_,{history:W,savedProjects:X,customTemplates:te,onSelectHistory:At,onSelectProject:je,onDeleteProject:et,onSelectTemplate:Dt,onEditTemplate:$t,onCreateTemplate:at,onDeleteTemplate:Jt,onClearHistory:Xe,onLoadExample:Ct,onStartProject:en})})]})]}),e&&k.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[k.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>c(!1)}),k.jsxs("div",{className:"relative bg-slate-800 border border-slate-600 rounded-xl w-full max-w-lg shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[k.jsxs("div",{className:"px-6 py-4 border-b border-slate-700 flex items-center justify-between bg-slate-800",children:[k.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-white",children:n==="create"?"Create New Template":"Edit Template"}),k.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-white transition-colors focus:ring-2 focus:ring-blue-500 rounded-lg p-2 min-w-[44px] min-h-[44px] flex items-center justify-center bg-slate-700 hover:bg-slate-600","aria-label":"Close modal",children:k.jsx(Rl,{className:"w-5 h-5"})})]}),k.jsxs("div",{className:"p-6 space-y-4 bg-slate-800",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"template-name",className:"block text-xs font-medium text-slate-300 uppercase mb-2",children:"Template Name"}),k.jsx("input",{id:"template-name",type:"text",value:o.name,onChange:ue=>m({name:ue.target.value}),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-slate-100 text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"e.g., React Component Structure",autoFocus:!0})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"template-domain",className:"block text-xs font-medium text-slate-300 uppercase mb-2",children:"Domain"}),k.jsx("select",{id:"template-domain",value:o.domain,onChange:ue=>m({domain:ue.target.value}),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-slate-100 text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all appearance-none",children:Object.values(Ze).map(ue=>k.jsx("option",{value:ue,children:ue},ue))})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"template-content",className:"block text-xs font-medium text-slate-300 uppercase mb-2",children:"Template Content"}),k.jsx("textarea",{id:"template-content",value:o.text,onChange:ue=>m({text:ue.target.value}),className:"w-full h-40 bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-slate-100 text-sm focus:ring-2 focus:ring-blue-500 outline-none resize-none font-mono leading-relaxed",placeholder:"Enter your prompt template here..."})]})]}),k.jsxs("div",{className:"px-6 py-4 bg-slate-900 border-t border-slate-700 flex justify-end gap-3",children:[k.jsx("button",{onClick:()=>c(!1),className:"px-4 py-3 min-h-[44px] text-sm font-medium text-slate-300 hover:text-white hover:bg-slate-700 transition-colors focus:ring-2 focus:ring-blue-500 rounded-lg",children:"Cancel"}),k.jsx("button",{onClick:Qt,disabled:!o.name.trim()||!o.text.trim(),className:"px-4 py-3 min-h-[44px] text-sm font-bold text-white bg-blue-600 hover:bg-blue-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 focus:ring-offset-slate-900",children:n==="create"?"Create Template":"Update Template"})]})]})]})]})]})})},AA=document.getElementById("root");if(!AA)throw new Error("Could not find root element to mount to");const NV=wk.createRoot(AA);NV.render(k.jsx(Pn.StrictMode,{children:k.jsx(RV,{})}));export{Ik as A,Nk as C,Ze as D,Rm as F,Xt as G,Kk as L,Zk as M,Qk as P,ob as R,da as S,cb as W,Rl as X,Vt as _,Nm as a,Wk as b,Me as c,BV as d,na as e,Vi as f,ca as g,k as j,Kt as l,ct as n,FV as p,F as r};
